
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Acoplamiento y Cohesión en el Diseño de Software">
      
      
        <meta name="author" content="Eduardo Fdez">
      
      
        <link rel="canonical" href="https://revilofe.github.io/section3/u03/teoria/EDES-U3.4.-AcopCohe/">
      
      
        <link rel="prev" href="../EDES-U3.3.-IdentifClases/">
      
      
        <link rel="next" href="../../../u04/">
      
      
        
      
      
      <link rel="icon" href="../../../../assets/favicon-96x96.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>UD 3 - 3.4 Acoplamiento y Cohesión - R Z O</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


  
  
    
      
      
        
      
      
    
  
  
  <style>:root{.md-tag.md-tag--etiqueta{--md-tag-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M7.75%206.5a1.25%201.25%200%201%200%200%202.5%201.25%201.25%200%200%200%200-2.5%22/%3E%3Cpath%20d%3D%22M2.5%201h8.44a1.5%201.5%200%200%201%201.06.44l10.25%2010.25a1.5%201.5%200%200%201%200%202.12l-8.44%208.44a1.5%201.5%200%200%201-2.12%200L1.44%2012A1.5%201.5%200%200%201%201%2010.94V2.5A1.5%201.5%200%200%201%202.5%201m0%201.5v8.44l10.25%2010.25%208.44-8.44L10.94%202.5Z%22/%3E%3C/svg%3E');}}</style>

    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-GT5TGHD4YQ"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-GT5TGHD4YQ",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-GT5TGHD4YQ",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#34-acoplamiento-y-cohesion-en-el-diseno-de-software" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../../../.." title="R Z O" class="md-header__button md-logo" aria-label="R Z O" data-md-component="logo">
      
  <img src="../../../../assets/ms-icon-144x144.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            R Z O
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              UD 3 - 3.4 Acoplamiento y Cohesión
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Compartir" aria-label="Compartir" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/revilofe/revilofe.github.io" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
  
    
  
  Principal

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../section1/" class="md-tabs__link">
          
  
  
    
  
  Programación

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../" class="md-tabs__link">
          
  
  
    
  
  Entornos de desarrollo

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../section2/" class="md-tabs__link">
          
  
  
    
  
  Incidentes de seguridad

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../section4/" class="md-tabs__link">
          
  
  
    
  
  Despliegue de aplicaciones Web

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../blog/" class="md-tabs__link">
        
  
  
    
  
  Blog

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../tags/" class="md-tabs__link">
        
  
  
    
  
  Tags

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../../../../about/" class="md-tabs__link">
        
  
  
    
  
  Acerca de

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="R Z O" class="md-nav__button md-logo" aria-label="R Z O" data-md-component="logo">
      
  <img src="../../../../assets/ms-icon-144x144.png" alt="logo">

    </a>
    R Z O
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/revilofe/revilofe.github.io" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Principal
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section1/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Programación
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Programación
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section1/u01/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U1: Primer programa en Python
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    U1: Primer programa en Python
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/teoria/PROG-U1.1.-UnProgramaInformatico/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.1.-Un programa
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/teoria/PROG-U1.1.1-Pseudocodigo/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.1.1.-Pseudocódigo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/practica/PROG-U1.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.1: Instala python
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/teoria/PROG-U1.2.-PracticaConUnLenguajes/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.2.-Practica con un lenguaje
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/teoria/PROG-U1.3.-TiposDeDatos/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.3.-Tipos de datos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/practica/PROG-U1.-Practica002/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.2: Primeros programas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/practica/PROG-U1.-Practica003/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.3: Git Básico
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/practica/PROG-U1.-Practica004/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.4: GitHub Básico
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/teoria/PROG-U1.4.-Pytest/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.4.-Pruebas con pytest
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/practica/PROG-U1.-Practica005/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.5: Creación de entorno
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/practica/PROG-U1.-Practica006/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.6: Uso de pytest
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u01/practica/PROG-U1.-Practica007/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.7: Acceso ssh a github
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section1/u02/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U2: Estructuras de control en la programación
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    U2: Estructuras de control en la programación
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u02/teoria/PROG-U2.1.-Condicionales/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.1.-Condicionales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u02/practica/PROG-U2.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.1: Sentencias condicionales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u02/teoria/PROG-U2.2.-Iterativas/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.2.-Iterativas y saltos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u02/practica/PROG-U2.-Practica002/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.2: Sentencias iterativas y saltos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u02/teoria/PROG-U2.3.-Excepciones/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.3.-Captura de excepciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u02/practica/PROG-U2.-Practica003/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.3: Capturas de excepciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u02/teoria/PROG-U2.4.-Depurar/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.4.-Depurar programas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u02/practica/PROG-U2.-Practica004/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.4: Depurar programas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u02/teoria/PROG-U2.5.-Documentar/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.5.-Documentar el código
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u02/teoria/PROG-U2.5.1.-DeberiasDocumentar/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.5.1-¿Deberías documentar tu código?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section1/u03/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U3: Estructuras de datos
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    U3: Estructuras de datos
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.0.-Cadenas/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.0.-Est.Datos: Cadenas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/practica/PROG-U3.-Practica000/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 3.0: Cadenas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.1.-Listas/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.1.-Est.Datos: Listas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.2.-Tuplas/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.2.-Est.Datos: Tuplas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/practica/PROG-U3.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 3.1: Listas y tuplas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.3.-Diccionarios/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.3.-Est.Datos: Diccionarios
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/practica/PROG-U3.-Practica002/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 3.2: Diccionarios
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.4.-Conjuntos/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.4.-Est.Datos: Conjuntos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/practica/PROG-U3.-Practica003/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 3.3: Conjuntos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.5.-Funciones/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.5.-Funciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.6.-ManejoJSON/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.6.-Manejo de JSON
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/practica/PROG-U3.-Practica004/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 3.4: JSON
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.7.-ManejoXML/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.7.-Manejo de XML
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/practica/PROG-U3.-Practica005/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 3.5: XML
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.8.-OtrosAmpliacion1/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.8.-Ampliación I
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.9.-OtrosAmpliacion2/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.9.-Ampliación II
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u03/teoria/PROG-U3.10.-Iteradores/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.10.-Iteradores
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section1/u04/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U4: Kotlin: POO y estructuras de datos
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    U4: Kotlin: POO y estructuras de datos
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/teoria/PROG-U4.1.-kotlin/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    4.1.-Kotlin: Básico
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/practica/PROG-U4.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 4.1: Kotlin Básico
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/teoria/PROG-U4.2.-kotlinColeciones/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    4.2.-Kotlin: Colecciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/teoria/PROG-U4.2.1.-kotlin-aclaraciones/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    4.2.1.-Aclaraciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/teoria/PROG-U4.3.-POO/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    4.3.1.-Programación orientada a objetos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/teoria/PROG-U4.3.-kotlinPOO/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    4.3.2.-Kotlin: POO
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/teoria/PROG-U4.4.-kotlinResumen/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    4.4.-Kotlin: Resumen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/practica/PROG-U4.-Practica002/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 4.2: Kotlin POO I
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/practica/PROG-U4.-Practica003/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 4.3: Kotlin POO II
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/practica/PROG-U4.-Practica004/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 4.4: Kotlin POO III
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/practica/PROG-U4.-Practica005/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 4.5: Kotlin POO IV
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/practica/PROG-U4.-Practica006/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 4.6: Prueba I
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/practica/PROG-U4.-Practica007/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 4.7: Grupos I
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u04/practica/PROG-U4.-Practica008/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 4.8: Grupos II
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section1/u05/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U5: Kotlin: PPO y creación de e.d.
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    U5: Kotlin: PPO y creación de e.d.
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u05/teoria/PROG-U5.1.-clasesYobjetos/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    5.1.-Revisitando las clases y los objetos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u05/teoria/PROG-U5.2.-VisibilidadEnClases/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    5.2.-Visibilidad en miembros
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u05/teoria/PROG-U5.3.-Herencia/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    5.3.-Herencia
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u05/practica/PROG-U5.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 5.1: Relación de ejercicios
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section1/u06/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U6: Kotlin: Creación de programas con POO
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_7" id="__nav_2_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    U6: Kotlin: Creación de programas con POO
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u06/teoria/PROG-U6.1.-jerarquiaDeClases/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    6.1.-Jerarquía de Clases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u06/teoria/PROG-U6.2.-ejemploYActividad/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    6.2.-Ejemplo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u06/teoria/PROG-U6.3.-principiosSOLID/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    6.3.-Principios SOLID
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u06/teoria/PROG-U6.4.-comentariosYDocumentacion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    6.4.-Comentarios y documentación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_8" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section1/u07/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U7: Kotlin: Entrada/Salida y GUI
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_8" id="__nav_2_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    U7: Kotlin: Entrada/Salida y GUI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u07/teoria/PROG-U7.1.-SistemaArchivos/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    7.1.-Sistema archivos:E/S
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u07/teoria/PROG-U7.2.-ConsolaTeclado/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    7.2.-Entrada/Salida estandar
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u07/teoria/PROG-U7.2.1.-ConsolaTecladoExpansion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    7.2.1.-Lectura desde teclado
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u07/teoria/PROG-U7.3.-File/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    7.3.-Gestión Archivos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u07/teoria/PROG-U7.4.-LecturaEscritura/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    7.4.-Lectura/Escritura Archivos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u07/teoria/PROG-U7.4.1.-TextFile/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    7.4.1.-Archivo de texto
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u07/teoria/PROG-U7.5.-GUI/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    7.5.-GUI
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_9" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section1/u09/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U9: Acceso a base de datos relacionales
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2_9" id="__nav_2_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    U9: Acceso a base de datos relacionales
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u09/teoria/PROG-U9.1.-AccesoBBDD/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    9.1.-Acceso a BBDD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u09/teoria/PROG-U9.2.-JDBC-1/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    9.2.-JDBC: Básico
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u09/teoria/PROG-U9.3.-JDBC-2/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    9.3.-JDBC: Prepared statement
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u09/teoria/PROG-U9.4.-DAO/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    9.4.-DAO
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u09/teoria/PROG-U9.5.-OtrosAspectos/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    9.5.-Otros aspectos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section1/u09/practica/PROG-U9.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 9.1: Acceso a datos I
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Entornos de desarrollo
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Entornos de desarrollo
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../u01/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U1: Introducción al desarrollo de software
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_2" id="__nav_3_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    U1: Introducción al desarrollo de software
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u01/teoria/EDES-U1.1.-Software-PC/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.1.-Software y Hardware
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u01/teoria/EDES-U1.2.-CodigoFuenteObjetoEjecutable/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.2.-Código fuente, objeto y ejecutable
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u01/teoria/EDES-U1.3.-CodigoIntermedio/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.3.-Código intermedio
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u01/teoria/EDES-U1.4.-Traductores/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.4.-Traductores
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u01/teoria/EDES-U1.5.-Lenguajes/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.5.-Lenguajes de programación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u01/teoria/EDES-U1.6.-FuncionalidadesHerramientas/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.6.-Herramientas y funcionalidades
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u01/practica/EDES-U1.-Practica010/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.10: Preguntas sobre actividades
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u01/practica/EDES-U1.-Practica011/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.11: Elementos de desarrollo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u01/teoria/EDES-U1.7.-FasesDesarrollo/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.7.-Proceso de desarrollo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u01/practica/EDES-U1.-Practica003/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.3: Scrum
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../u02/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U2: Entornos de desarollo integrado
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_3" id="__nav_3_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    U2: Entornos de desarollo integrado
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u02/teoria/EDES-U2.1.-IDEs/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.1.-IDEs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u02/teoria/EDES-U2.2.-Modulos/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.2.-Modulos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u02/teoria/EDES-U2.3.-Personalizacion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.3.-Personalización
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u02/teoria/EDES-U2.4.-ActualizacionIDEs/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.4.-Actualizaciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u02/teoria/EDES-U2.5.-Ejecutables/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.5.-Ejecutables en IDEs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u02/teoria/EDES-U2.6.-Evaluacion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.6.-Evaluación de IDEs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u02/practica/EDES-U2.-Practica002/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.2: Evaluación IDEs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" checked>
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U3: Diseño y diagramas de clases
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_4" id="__nav_3_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    U3: Diseño y diagramas de clases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../EDES-U3.1.-UML/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.1.-Introducción a UML
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../EDES-U3.2.-DiagramaClases/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.2.-Diagrama de clases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../EDES-U3.3.-IdentifClases/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.3.-Identificación de clases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.4.-Acoplamiento y cohesión
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.4.-Acoplamiento y cohesión
  

    
  </span>
  
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="Contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#34-acoplamiento-y-cohesion-en-el-diseno-de-software" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4 Acoplamiento y Cohesión en el Diseño de Software
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 Acoplamiento y Cohesión en el Diseño de Software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-introduccion" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Introducción
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Introducción">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-el-problema-del-codigo-espagueti" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1. El problema del código espagueti
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-el-equilibrio-ideal" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2. El equilibrio ideal
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-beneficios-tangibles" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3. Beneficios tangibles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-estructura-del-documento" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3. Estructura del documento
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-cohesion-el-pegamento-que-une-un-modulo" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Cohesión: El Pegamento que une un módulo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Cohesión: El Pegamento que une un módulo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-que-es-la-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1. ¿Qué es la cohesión?
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1. ¿Qué es la cohesión?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-definicion-formal" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.1. Definición formal
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-analogias-del-mundo-real" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.2. Analogías del mundo real
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#213-por-que-importa-la-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.3. ¿Por qué importa la cohesión?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#214-senales-de-baja-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.4. Señales de baja cohesión
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#215-ejemplo-introductorio" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.5. Ejemplo introductorio
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-tipos-de-cohesion-de-la-peor-a-la-mejor" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2. Tipos de cohesión: De la peor a la mejor
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2. Tipos de cohesión: De la peor a la mejor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-tabla-resumen-de-tipos-de-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.1. Tabla resumen de tipos de cohesión
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-cohesion-coincidental-nivel-1-la-peor" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.2. Cohesión Coincidental (Nivel 1 - ❌ La peor)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-cohesion-logica-nivel-2-muy-baja" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.2. Cohesión Lógica (Nivel 2 - 🔴 Muy baja)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223-cohesion-temporal-nivel-3-baja" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.3. Cohesión Temporal (Nivel 3 - 🟠 Baja)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224-cohesion-procedimental-nivel-4-media-baja" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.4. Cohesión Procedimental (Nivel 4 - 🟡 Media-baja)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#225-cohesion-comunicacional-nivel-5-media" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.5. Cohesión Comunicacional (Nivel 5 - 🟢 Media)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#226-cohesion-secuencial-nivel-6-alta" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.6. Cohesión Secuencial (Nivel 6 - 🔵 Alta)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#227-cohesion-funcional-nivel-7-la-mejor" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.7. Cohesión Funcional (Nivel 7 - La mejor)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-como-mejorar-la-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3. Cómo mejorar la cohesión
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3. Cómo mejorar la cohesión">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-identificar-senales-de-baja-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3.1. Identificar señales de baja cohesión
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-tecnicas-de-refactorizacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3.2. Técnicas de refactorización
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-acoplamiento-la-dependencia-entre-modulos" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Acoplamiento: La dependencia entre módulos
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Acoplamiento: La dependencia entre módulos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-que-es-el-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1. ¿Qué es el acoplamiento?
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1. ¿Qué es el acoplamiento?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311-definicion-formal" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.1. Definición formal
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312-analogias-del-mundo-real" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.2. Analogías del mundo real
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#313-por-que-importa-el-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.3. ¿Por qué importa el acoplamiento?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#314-senales-de-alto-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.4. Señales de alto acoplamiento
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#315-ejemplo-introductorio" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.5. Ejemplo introductorio
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-tipos-de-acoplamiento-de-peor-a-mejor" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2. Tipos de acoplamiento: De peor a mejor
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2. Tipos de acoplamiento: De peor a mejor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-tabla-resumen-de-tipos-de-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.1. Tabla resumen de tipos de acoplamiento
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322-acoplamiento-de-contenido-nivel-1-la-peor" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.2. Acoplamiento de Contenido (Nivel 1 - ❌ La peor)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323-acoplamiento-comun-nivel-2-muy-malo" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3. Acoplamiento Común (Nivel 2 - 🔴 Muy malo)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#324-acoplamiento-externo-nivel-3-malo" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.4. Acoplamiento Externo (Nivel 3 - 🟠 Malo)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#325-acoplamiento-de-control-nivel-4-regular" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.5. Acoplamiento de Control (Nivel 4 - 🟡 Regular)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#326-acoplamiento-de-estampadostamp-nivel-5-aceptable" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.6. Acoplamiento de Estampado/Stamp (Nivel 5 - 🟢 Aceptable)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#327-acoplamiento-de-datos-nivel-6-bueno" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.7. Acoplamiento de Datos (Nivel 6 - 🔵 Bueno)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#328-acoplamiento-de-mensaje-nivel-7-la-mejor" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.8. Acoplamiento de Mensaje (Nivel 7 - La mejor)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-estrategias-para-reducir-el-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3. Estrategias para reducir el acoplamiento
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3. Estrategias para reducir el acoplamiento">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-inyeccion-de-dependencias-di" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.1. Inyección de Dependencias (DI)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-principio-de-inversion-de-dependencias-dip" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.2. Principio de Inversión de Dependencias (DIP)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-ley-de-demeter-principle-of-least-knowledge" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3. Ley de Demeter (Principle of Least Knowledge)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334-facade-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.4. Facade Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-la-relacion-entre-cohesion-y-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. La relación entre Cohesión y Acoplamiento
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. La relación entre Cohesión y Acoplamiento">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-matriz-de-calidad-del-diseno" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1. Matriz de calidad del diseño
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-trade-offs-y-decisiones" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2. Trade-offs y decisiones
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-principios-de-diseno-relacionados" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Principios de Diseño Relacionados
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Principios de Diseño Relacionados">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-principio-de-responsabilidad-unica-srp" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1. Principio de Responsabilidad Única (SRP)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-principio-de-inversion-de-dependencias-dip" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2. Principio de Inversión de Dependencias (DIP)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-principio-de-segregacion-de-interfaces-isp" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3. Principio de Segregación de Interfaces (ISP)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-metricas-y-medicion" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Métricas y Medición
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Métricas y Medición">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-metricas-de-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1. Métricas de Cohesión
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1. Métricas de Cohesión">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#611-lcom-lack-of-cohesion-of-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1.1. LCOM (Lack of Cohesion of Methods)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-metricas-de-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2. Métricas de Acoplamiento
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.2. Métricas de Acoplamiento">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#621-acoplamiento-aferente-ca" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2.1. Acoplamiento Aferente (Ca)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#622-acoplamiento-eferente-ce" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2.2. Acoplamiento Eferente (Ce)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#623-inestabilidad-i" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2.3. Inestabilidad (I)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-herramientas-de-analisis" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3. Herramientas de análisis
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-casos-practicos-de-refactorizacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Casos Prácticos de Refactorización
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Casos Prácticos de Refactorización">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-caso-sistema-de-pedidos" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1. Caso: Sistema de Pedidos
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-conclusiones" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Conclusiones
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Conclusiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-resumen-de-conceptos-clave" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1. Resumen de conceptos clave
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-checklist-de-diseno" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2. Checklist de diseño
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-recursos-y-referencias" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Recursos y Referencias
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Recursos y Referencias">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-libros-fundamentales" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1. Libros fundamentales
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-articulos-esenciales" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2. Artículos esenciales
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-herramientas-recomendadas" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.3. Herramientas recomendadas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-comunidades-y-foros" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.4. Comunidades y foros
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../u04/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U4: Diagramas de Comportamiento UML
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_5" id="__nav_3_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    U4: Diagramas de Comportamiento UML
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u04/teoria/EDES-U4.1.-DiagramaCasoUso/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    4.1.-Diagramas de Casos de Uso
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u04/teoria/EDES-U4.3.-DiagramaSecuencias/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    4.3.-Diagramas de Secuencia
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../u05/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U5: Pruebas y Depuración
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_6" id="__nav_3_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    U5: Pruebas y Depuración
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u05/teoria/EDES-U5.1.-Pruebas/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    5.1.-Pruebas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u05/teoria/EDES-U5.2.-TestUnidadYTDD/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    5.2.-Test unidad y TDD
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u05/teoria/EDES-U5.2.1.-Kotest/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    5.2.1.-Kotest
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u05/teoria/EDES-U5.2.2.-Mockk/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    5.2.2.-MockK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u05/teoria/EDES-U5.3.-Depuracion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    5.3.-Depuración
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u05/teoria/EDES-U5.3.1.-LoggingCode/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    5.3.1.-Logging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
          
          
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_7" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../u06/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U6: SCV, refactorización y documentación
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3_7" id="__nav_3_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    U6: SCV, refactorización y documentación
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u06/teoria/EDES-U6.1.-Git_Github/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    6.1.-Sistemas de control de versiones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u06/teoria/EDES-U6.2.-Refactorizacion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    6.2.-Refactorización
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u06/teoria/EDES-U6.3.-AnalizadorCodigo/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    6.3.-Analizador de código
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u06/teoria/EDES-U6.4.-Documentacion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    6.4.-Documentación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u06/practica/EDES-U6.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 6.1: Git/Github básico
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u06/practica/EDES-U6.-Practica002/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 6.2: Git/Github merge
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u06/practica/EDES-U6.-Practica003/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 6.3: Git/Github rebase I
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u06/practica/EDES-U6.-Practica004/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 6.4: Git/Github rebase II
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../u06/practica/EDES-U6.-Practica005/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 6.5: Git/Github Pull Request (PR)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section2/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Incidentes de seguridad
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Incidentes de seguridad
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u00/recursos/IS-U0.-DinamicaPresentacion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    U0: Nos conocemos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section2/u01/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U1: Principios generales y planes de seguridad
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    U1: Principios generales y planes de seguridad
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u01/teoria/IS-U1.1.1.-PrincipiosGenerales/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.1.-PrincipiosGenerales
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u01/teoria/IS-U1.2.1.-PlanDirectorDeSeguridad/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.2.1.-Plan director de seguridad
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u01/teoria/IS-U1.2.2.-AnalisiDeRiesgos/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.2.2.-Análisis de Riesgos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u01/teoria/IS-U1.3.1.-ProteccionDelPuestoDeTrabajo/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.3.-Puesto de trabajo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u01/teoria/IS-U1.4.1.-PlanDeConcienciacion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.4.-Concienciación y formación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u01/teoria/IS-U1.4.1.-PlanDeConcienciacion-Eje/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.4.-Concienciación y formación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section2/u02/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U2: Detección y análisis de incidentes de seguridad
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    U2: Detección y análisis de incidentes de seguridad
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u02/teoria/IS-U2.1.1.-TaxonomiaDeIncidentes/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.1.-Taxonomía de incidentes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u02/teoria/IS-U2.2.1.-SOC-ServiciosYHerramientas/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.2.1.-SOC - Servicios y herramientas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u02/teoria/IS-U2.2.2.-CasosUso/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.2.2.-SIEM & Casos de uso
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u02/teoria/IS-U2.2.3.-SIEM-Implantacion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.2.3.-Implantación de un SIEM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u02/teoria/IS-U2.2.4.-SIEM-Evolucion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.2.4.-Evolución de SIEM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u02/teoria/IS-U2.3.1.-FuentesAbiertas-OSINT/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.3.1.-Fuentes Abiertas. OSINT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u02/teoria/IS-U2.4.1.-DocumentacionDeIncidentes/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.4.1.-Documentación de Incidentes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u02/teoria/IS-U2.4.2.-ComoEscribirInformesTecnicos/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.4.2.-Cómo escribir informes técnicos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section2/u03/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U3: Investigación de incidentes
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    U3: Investigación de incidentes
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u03/teoria/IS-U3.1.1.-RecopilacionDeEvidencias/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.1.1.-Recopilación de evidencias
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u03/teoria/IS-U3.1.2.-Procedimiento/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.1.2.-Procedimiento
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section2/u03/teoria/IS-U3.3.1.-MITRE/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.3.1.-Investigación incidentes:MITRE
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section4/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    Despliegue de aplicaciones Web
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Despliegue de aplicaciones Web
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section4/u01/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U1: Documentación y Control de versiones
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    U1: Documentación y Control de versiones
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u01/teoria/DAW-U1.1.-DevOps/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.1.-DevOps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u01/teoria/DAW-U1.2.-Documentacion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.2.-Documentación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u01/teoria/DAW-U1.3.-GitGitHub/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.3.-Git Github
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u01/teoria/DAW-U1.4.-GitHubAction/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    1.4.-Github Action
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u01/practica/DAW-U1.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 1.1: GH Action para documentación
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section4/u02/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U2: Contenedores Docker
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    U2: Contenedores Docker
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/teoria/DAW-U2.1.-IntroduccionDocker/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.1.-Introducción a Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/teoria/DAW-U2.2.-ImagenesDocker/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.2.-Imágenes Docker
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/teoria/DAW-U2.3.-AlmacenamientoRedes/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.3.-Almacenamiento y Redes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.1: Aplicación Guestbook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica002/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.2: Aplicación Temperaturas
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica003/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.3: WordPress con MariaDB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica004/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.4: Tomcat con Nginx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/teoria/DAW-U2.4.-DockerCompose/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.4.-Docker Compose
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica005/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.5: Guestbook con Docker Compose
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica006/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.6: Temperaturas con Docker Compose
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica007/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.7: WordPress con Docker Compose
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica008/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.8: Tomcat con Docker Compose
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/teoria/DAW-U2.5.-CreacionImagenes/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    2.5.-Creación de Imágenes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica009/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.9: Imagen con página estática
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica010/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.10: Imagen con aplicación PHP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica011/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.11: Imagen PHP con Base de Datos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Practica012/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    Práctica 2.12: Imagen con aplicación Java (Tomcat)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u02/practica/DAW-U2.-Proyecto-Final/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    🎯 PROYECTO FINAL: Sistema Blog con Microservicios
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section4/u03/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U3: Arquitectura de Aplicaciones Web
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    U3: Arquitectura de Aplicaciones Web
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u03/teoria/DAW-U3.1.-DesarrolloDespliegueWeb/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.1.-Desarrollo y Despliegue Web
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u03/teoria/DAW-U3.1.-IntroDesarrolloWeb/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.1.-Introducción al Desarrollo Web
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u03/teoria/DAW-U3.2.-ArquitecturasWeb/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.2.-Arquitecturas Web
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u03/teoria/DAW-U3.3.-ProtocoloHTTP/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.3.-Protocolo HTTP
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u03/teoria/DAW-U3.4.-ServiciosWebAPIs/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.4.-Servicios Web y APIs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u03/teoria/DAW-U3.5.-WebDinamica/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.5.-Web Dinámica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u03/teoria/DAW-U3.6.-LenguajesFrameworks/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.6.-Lenguajes y Frameworks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u03/teoria/DAW-U3.7.-ServidoresWeb/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.7.-Servidores Web
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u03/teoria/DAW-U3.8.-DespliegueAplicaciones/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.8.-Despliegue de Aplicaciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u03/teoria/DAW-U3.9.-SeguridadMonitorizacion/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    3.9.-Seguridad y Monitorización
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section4/u04/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U4: Servidores Web
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    U4: Servidores Web
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u04/practica/DAW-U4.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    4.1.- Despliegue de una web statica
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_6" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../../section4/u05/" class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    
  
    U5: Servidores de aplicaciones
  

    
  </span>
  
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    U5: Servidores de aplicaciones
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u05/teoria/DAW-U5.1.-ServidoresAplicaciones/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6zm0 2h7v5h5v11H6zm2 8v2h8v-2zm0 4v2h5v-2z"/></svg>
  
  <span class="md-ellipsis">
    
  
    5.1.-Servidores de aplicaciones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u05/practica/DAW-U5.-Practica001/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    P5.1.-WildFly y Maven
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../section4/u05/practica/DAW-U5.-Practica002/" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h4v-1.91L12.09 18H6v-2h8.09l2-2H6v-2h12.09L20 10.09V8l-6-6zm7 1.5L18.5 9H13zm7.15 9.5a.55.55 0 0 0-.4.16l-1.02 1.02 2.09 2.08 1.02-1.01c.21-.22.21-.58 0-.79l-1.3-1.3a.54.54 0 0 0-.39-.16m-2.01 1.77L12 20.92V23h2.08l6.15-6.15z"/></svg>
  
  <span class="md-ellipsis">
    
  
    P5.2.-WildFly en contenedor y Gradle
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../blog/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blog
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../tags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tags
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../about/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Acerca de
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="Contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#34-acoplamiento-y-cohesion-en-el-diseno-de-software" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.4 Acoplamiento y Cohesión en el Diseño de Software
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 Acoplamiento y Cohesión en el Diseño de Software">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-introduccion" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Introducción
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1. Introducción">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-el-problema-del-codigo-espagueti" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.1. El problema del código espagueti
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-el-equilibrio-ideal" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.2. El equilibrio ideal
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-beneficios-tangibles" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3. Beneficios tangibles
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-estructura-del-documento" class="md-nav__link">
    <span class="md-ellipsis">
      
        1.3. Estructura del documento
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-cohesion-el-pegamento-que-une-un-modulo" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Cohesión: El Pegamento que une un módulo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Cohesión: El Pegamento que une un módulo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-que-es-la-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1. ¿Qué es la cohesión?
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.1. ¿Qué es la cohesión?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#211-definicion-formal" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.1. Definición formal
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#212-analogias-del-mundo-real" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.2. Analogías del mundo real
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#213-por-que-importa-la-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.3. ¿Por qué importa la cohesión?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#214-senales-de-baja-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.4. Señales de baja cohesión
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#215-ejemplo-introductorio" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.1.5. Ejemplo introductorio
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-tipos-de-cohesion-de-la-peor-a-la-mejor" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2. Tipos de cohesión: De la peor a la mejor
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2. Tipos de cohesión: De la peor a la mejor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-tabla-resumen-de-tipos-de-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.1. Tabla resumen de tipos de cohesión
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-cohesion-coincidental-nivel-1-la-peor" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.2. Cohesión Coincidental (Nivel 1 - ❌ La peor)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-cohesion-logica-nivel-2-muy-baja" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.2. Cohesión Lógica (Nivel 2 - 🔴 Muy baja)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223-cohesion-temporal-nivel-3-baja" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.3. Cohesión Temporal (Nivel 3 - 🟠 Baja)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224-cohesion-procedimental-nivel-4-media-baja" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.4. Cohesión Procedimental (Nivel 4 - 🟡 Media-baja)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#225-cohesion-comunicacional-nivel-5-media" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.5. Cohesión Comunicacional (Nivel 5 - 🟢 Media)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#226-cohesion-secuencial-nivel-6-alta" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.6. Cohesión Secuencial (Nivel 6 - 🔵 Alta)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#227-cohesion-funcional-nivel-7-la-mejor" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.2.7. Cohesión Funcional (Nivel 7 - La mejor)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-como-mejorar-la-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3. Cómo mejorar la cohesión
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.3. Cómo mejorar la cohesión">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#231-identificar-senales-de-baja-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3.1. Identificar señales de baja cohesión
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#232-tecnicas-de-refactorizacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        2.3.2. Técnicas de refactorización
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-acoplamiento-la-dependencia-entre-modulos" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Acoplamiento: La dependencia entre módulos
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Acoplamiento: La dependencia entre módulos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-que-es-el-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1. ¿Qué es el acoplamiento?
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1. ¿Qué es el acoplamiento?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311-definicion-formal" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.1. Definición formal
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312-analogias-del-mundo-real" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.2. Analogías del mundo real
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#313-por-que-importa-el-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.3. ¿Por qué importa el acoplamiento?
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#314-senales-de-alto-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.4. Señales de alto acoplamiento
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#315-ejemplo-introductorio" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.1.5. Ejemplo introductorio
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-tipos-de-acoplamiento-de-peor-a-mejor" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2. Tipos de acoplamiento: De peor a mejor
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.2. Tipos de acoplamiento: De peor a mejor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#321-tabla-resumen-de-tipos-de-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.1. Tabla resumen de tipos de acoplamiento
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#322-acoplamiento-de-contenido-nivel-1-la-peor" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.2. Acoplamiento de Contenido (Nivel 1 - ❌ La peor)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#323-acoplamiento-comun-nivel-2-muy-malo" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.3. Acoplamiento Común (Nivel 2 - 🔴 Muy malo)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#324-acoplamiento-externo-nivel-3-malo" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.4. Acoplamiento Externo (Nivel 3 - 🟠 Malo)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#325-acoplamiento-de-control-nivel-4-regular" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.5. Acoplamiento de Control (Nivel 4 - 🟡 Regular)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#326-acoplamiento-de-estampadostamp-nivel-5-aceptable" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.6. Acoplamiento de Estampado/Stamp (Nivel 5 - 🟢 Aceptable)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#327-acoplamiento-de-datos-nivel-6-bueno" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.7. Acoplamiento de Datos (Nivel 6 - 🔵 Bueno)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#328-acoplamiento-de-mensaje-nivel-7-la-mejor" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.2.8. Acoplamiento de Mensaje (Nivel 7 - La mejor)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-estrategias-para-reducir-el-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3. Estrategias para reducir el acoplamiento
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3. Estrategias para reducir el acoplamiento">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331-inyeccion-de-dependencias-di" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.1. Inyección de Dependencias (DI)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332-principio-de-inversion-de-dependencias-dip" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.2. Principio de Inversión de Dependencias (DIP)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#333-ley-de-demeter-principle-of-least-knowledge" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.3. Ley de Demeter (Principle of Least Knowledge)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#334-facade-pattern" class="md-nav__link">
    <span class="md-ellipsis">
      
        3.3.4. Facade Pattern
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-la-relacion-entre-cohesion-y-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. La relación entre Cohesión y Acoplamiento
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. La relación entre Cohesión y Acoplamiento">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-matriz-de-calidad-del-diseno" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.1. Matriz de calidad del diseño
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-trade-offs-y-decisiones" class="md-nav__link">
    <span class="md-ellipsis">
      
        4.2. Trade-offs y decisiones
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-principios-de-diseno-relacionados" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Principios de Diseño Relacionados
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5. Principios de Diseño Relacionados">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51-principio-de-responsabilidad-unica-srp" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.1. Principio de Responsabilidad Única (SRP)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52-principio-de-inversion-de-dependencias-dip" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.2. Principio de Inversión de Dependencias (DIP)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53-principio-de-segregacion-de-interfaces-isp" class="md-nav__link">
    <span class="md-ellipsis">
      
        5.3. Principio de Segregación de Interfaces (ISP)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-metricas-y-medicion" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Métricas y Medición
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. Métricas y Medición">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-metricas-de-cohesion" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1. Métricas de Cohesión
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1. Métricas de Cohesión">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#611-lcom-lack-of-cohesion-of-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.1.1. LCOM (Lack of Cohesion of Methods)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-metricas-de-acoplamiento" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2. Métricas de Acoplamiento
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.2. Métricas de Acoplamiento">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#621-acoplamiento-aferente-ca" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2.1. Acoplamiento Aferente (Ca)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#622-acoplamiento-eferente-ce" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2.2. Acoplamiento Eferente (Ce)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#623-inestabilidad-i" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.2.3. Inestabilidad (I)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63-herramientas-de-analisis" class="md-nav__link">
    <span class="md-ellipsis">
      
        6.3. Herramientas de análisis
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7-casos-practicos-de-refactorizacion" class="md-nav__link">
    <span class="md-ellipsis">
      
        7. Casos Prácticos de Refactorización
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. Casos Prácticos de Refactorización">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71-caso-sistema-de-pedidos" class="md-nav__link">
    <span class="md-ellipsis">
      
        7.1. Caso: Sistema de Pedidos
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#8-conclusiones" class="md-nav__link">
    <span class="md-ellipsis">
      
        8. Conclusiones
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. Conclusiones">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81-resumen-de-conceptos-clave" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.1. Resumen de conceptos clave
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-checklist-de-diseno" class="md-nav__link">
    <span class="md-ellipsis">
      
        8.2. Checklist de diseño
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#9-recursos-y-referencias" class="md-nav__link">
    <span class="md-ellipsis">
      
        9. Recursos y Referencias
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9. Recursos y Referencias">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91-libros-fundamentales" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.1. Libros fundamentales
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-articulos-esenciales" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.2. Artículos esenciales
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-herramientas-recomendadas" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.3. Herramientas recomendadas
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-comunidades-y-foros" class="md-nav__link">
    <span class="md-ellipsis">
      
        9.4. Comunidades y foros
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  

  <nav class="md-tags" >
    
      
      
      
        
        
      
      
        <a href="../../../../tags/#tag:acoplamiento" class="md-tag md-tag-icon">Acoplamiento</a>
      
    
      
      
      
        
        
      
      
        <a href="../../../../tags/#tag:cohesión" class="md-tag md-tag-icon">Cohesión</a>
      
    
      
      
      
        
        
      
      
        <a href="../../../../tags/#tag:diseño-de-software" class="md-tag md-tag-icon">Diseño de Software</a>
      
    
      
      
      
        
        
      
      
        <a href="../../../../tags/#tag:edes" class="md-tag md-tag-icon">EDES</a>
      
    
      
      
      
        
        
      
      
        <a href="../../../../tags/#tag:principios-solid" class="md-tag md-tag-icon">Principios SOLID</a>
      
    
  </nav>


  
  


  <h1>3.4.-Acoplamiento y cohesión</h1>

<h2 id="34-acoplamiento-y-cohesion-en-el-diseno-de-software">3.4 Acoplamiento y Cohesión en el Diseño de Software<a class="headerlink" href="#34-acoplamiento-y-cohesion-en-el-diseno-de-software" title="Permanent link">&para;</a></h2>
<h3 id="1-introduccion">1. Introducción<a class="headerlink" href="#1-introduccion" title="Permanent link">&para;</a></h3>
<p>En el desarrollo de software, dos conceptos fundamentales que determinan la <strong>calidad, mantenibilidad y flexibilidad</strong> del diseño son el <strong>acoplamiento</strong> y la <strong>cohesión</strong>. Estos principios no son opcionales en un buen diseño: son los pilares sobre los que se construyen sistemas que perduran en el tiempo, que pueden adaptarse a nuevos requisitos, y que no se convierten en "código espagueti" imposible de mantener.</p>
<h4 id="11-el-problema-del-codigo-espagueti">1.1. El problema del código espagueti<a class="headerlink" href="#11-el-problema-del-codigo-espagueti" title="Permanent link">&para;</a></h4>
<p>Imagina que estás construyendo un sistema con múltiples módulos que interactúan entre sí. Si cada módulo está fuertemente acoplado a los otros (es decir, si un cambio en un módulo requiere cambios en cascada en todos los demás), entonces tu sistema es <strong>frágil y difícil de mantener</strong>. Por otro lado, si cada módulo tiene baja cohesión (es decir, si sus funciones están desconectadas y sin propósito común), entonces es <strong>difícil de entender</strong> qué hace realmente cada módulo.</p>
<p><strong>Escenario real</strong>: Imagina que te toca mantener un sistema donde:</p>
<ul>
<li>Cambiar el formato de una fecha en la base de datos requiere modificar 47 clases diferentes</li>
<li>Una clase llamada <code>Usuario</code> también se encarga de enviar emails, validar contraseñas, generar PDFs y conectarse a Twitter</li>
<li>No puedes probar un módulo sin arrancar toda la aplicación, incluyendo la base de datos y servicios externos</li>
</ul>
<p>Estos son síntomas claros de <strong>alto acoplamiento</strong> y <strong>baja cohesión</strong>.</p>
<h4 id="12-el-equilibrio-ideal">1.2. El equilibrio ideal<a class="headerlink" href="#12-el-equilibrio-ideal" title="Permanent link">&para;</a></h4>
<p>El equilibrio ideal es: <strong>bajo acoplamiento</strong> (módulos independientes) y <strong>alta cohesión</strong> (cada módulo tiene un propósito claro y unificado).</p>
<div class="admonition note">
<p class="admonition-title">Principio clave</p>
<p>Un buen diseño de software debe buscar <strong>bajo acoplamiento</strong> y <strong>alta cohesión</strong>.</p>
</div>
<p><strong>Objetivos de un buen diseño</strong>:</p>
<ul>
<li><strong>Bajo acoplamiento</strong>: Minimizar las dependencias entre módulos para que puedan evolucionar independientemente</li>
<li><strong>Alta cohesión</strong>: Maximizar la relación entre los elementos dentro de un mismo módulo para que tengan un propósito común</li>
<li><strong>Mantenibilidad</strong>: El código debe ser fácil de entender y modificar</li>
<li><strong>Flexibilidad</strong>: El sistema debe adaptarse a nuevos requisitos sin refactorización masiva</li>
<li><strong>Testeabilidad</strong>: Cada módulo debe poder probarse de forma aislada</li>
<li><strong>Reusabilidad</strong>: Los módulos bien diseñados pueden reutilizarse en otros contextos</li>
</ul>
<h4 id="13-beneficios-tangibles">1.3. Beneficios tangibles<a class="headerlink" href="#13-beneficios-tangibles" title="Permanent link">&para;</a></h4>
<p>Cuando aplicas correctamente estos principios, obtienes:</p>
<p><strong>Menos bugs</strong>: Cambios localizados = menos efectos colaterales<br />
<strong>Desarrollo más rápido</strong>: Entender y modificar código es más fácil<br />
<strong><abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> más simple</strong>: Puedes probar módulos de forma independiente<br />
<strong>Trabajo en equipo más eficiente</strong>: Diferentes desarrolladores pueden trabajar en módulos diferentes sin conflictos<br />
<strong>Menor deuda técnica</strong>: El código no se degrada con el tiempo<br />
<strong>Costes de mantenimiento reducidos</strong>: Menos tiempo debuggeando, más tiempo agregando valor  </p>
<h4 id="13-estructura-del-documento">1.3. Estructura del documento<a class="headerlink" href="#13-estructura-del-documento" title="Permanent link">&para;</a></h4>
<p>En este documento exploraremos en profundidad:</p>
<ol>
<li><strong>Cohesión</strong>: Qué es, tipos, cómo medirla y mejorarla</li>
<li><strong>Acoplamiento</strong>: Tipos, niveles, estrategias de reducción</li>
<li><strong>La relación entre ambos</strong>: Matriz de calidad y trade-offs</li>
<li><strong>Principios <abbr title="Principios de diseño de software que se basan en la creación de código fuente limpio, mantenible y escalable. Los principios SOLID incluyen el Principio de Responsabilidad Única, el Principio de Abierto/Cerrado, el Principio de Sustitución de Liskov, el Principio de Segregación de Interfaces y el Principio de Inversión de Dependencias.">SOLID</abbr></strong>: Cómo se relacionan con cohesión y acoplamiento</li>
<li><strong>Métricas</strong>: Cómo medir objetivamente la calidad del diseño</li>
<li><strong>Casos prácticos</strong>: Refactorización paso a paso de código real</li>
<li><strong>Herramientas</strong>: Cómo automatizar la detección de problemas</li>
</ol>
<p>Comenzaremos con la cohesión, el principio que muchos consideran el más importante de los dos.</p>
<h3 id="2-cohesion-el-pegamento-que-une-un-modulo">2. Cohesión: El Pegamento que une un módulo<a class="headerlink" href="#2-cohesion-el-pegamento-que-une-un-modulo" title="Permanent link">&para;</a></h3>
<h4 id="21-que-es-la-cohesion">2.1. ¿Qué es la cohesión?<a class="headerlink" href="#21-que-es-la-cohesion" title="Permanent link">&para;</a></h4>
<p>La <strong>cohesión</strong> es una medida que indica <strong>cuán relacionados y enfocados están los elementos dentro de un mismo módulo, clase o componente</strong>. En términos simples: ¿los elementos de esta clase trabajan juntos hacia un objetivo común, o cada uno hace lo suyo?</p>
<h5 id="211-definicion-formal">2.1.1. Definición formal<a class="headerlink" href="#211-definicion-formal" title="Permanent link">&para;</a></h5>
<p><strong>Cohesión</strong> = Grado en que las responsabilidades de un módulo están relacionadas entre sí.</p>
<p>Una alta cohesión significa que:</p>
<ul>
<li>Los elementos del módulo están <strong>fuertemente relacionados</strong> en su propósito</li>
<li>Todos trabajan <strong>hacia un objetivo común</strong></li>
<li>La clase o módulo tiene <strong>una responsabilidad clara y única</strong></li>
<li>Cambiar la lógica de una parte <strong>afecta naturalmente</strong> a las otras partes, porque todas están relacionadas</li>
<li>El nombre del módulo describe perfectamente todo lo que hace</li>
</ul>
<p>Una baja cohesión indica:</p>
<ul>
<li>Los elementos están <strong>débilmente relacionados</strong> o sin relación alguna</li>
<li>El módulo hace <strong>múltiples cosas no relacionadas</strong></li>
<li>Es difícil darle un <strong>nombre descriptivo</strong> sin usar "Y" o "Manager"</li>
<li>Cambios en una parte <strong>no deberían afectar</strong> a otras partes (porque no están relacionadas)</li>
</ul>
<h5 id="212-analogias-del-mundo-real">2.1.2. Analogías del mundo real<a class="headerlink" href="#212-analogias-del-mundo-real" title="Permanent link">&para;</a></h5>
<p><strong>Analogía 1 - Equipo de fútbol</strong>: </p>
<p>Imagina un equipo de fútbol bien organizado:</p>
<ul>
<li>Los <strong>defensas</strong> trabajan juntos para defender (alta cohesión defensiva)</li>
<li>Los <strong>atacantes</strong> trabajan juntos para anotar (alta cohesión ofensiva)</li>
<li>Todo el <strong>equipo</strong> trabaja junto para ganar (cohesión del equipo completo)</li>
</ul>
<p>¿Qué pasaría si los defensas también tuvieran que cocinar el almuerzo, reparar el autobús y vender entradas? Eso sería baja cohesión - están haciendo tareas no relacionadas.</p>
<p><strong>Analogía 2 - Caja de herramientas</strong>:</p>
<ul>
<li><strong>Alta cohesión</strong>: Una caja contiene solo herramientas de carpintería (martillo, sierra, clavos, nivel)</li>
<li><strong>Baja cohesión</strong>: La misma caja contiene un martillo, una calculadora, un libro de cocina y una pelota de tenis</li>
</ul>
<p><strong>Analogía 3 - Restaurante</strong>:</p>
<ul>
<li><strong>Alta cohesión</strong>: El chef se enfoca en cocinar, el camarero en servir, el cajero en cobrar</li>
<li><strong>Baja cohesión</strong>: El chef también repara el aire acondicionado, hace la contabilidad y limpia el baño</li>
</ul>
<h5 id="213-por-que-importa-la-cohesion">2.1.3. ¿Por qué importa la cohesión?<a class="headerlink" href="#213-por-que-importa-la-cohesion" title="Permanent link">&para;</a></h5>
<p>La cohesión es crucial porque:</p>
<ol>
<li><strong>Comprensión</strong>: Es más fácil entender qué hace un módulo cuando todo está relacionado</li>
<li><strong>Mantenimiento</strong>: Cambios en un concepto afectan solo a un módulo</li>
<li><strong>Reusabilidad</strong>: Módulos cohesivos son más fáciles de reutilizar</li>
<li><strong><abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr></strong>: Es más fácil probar una responsabilidad única</li>
<li><strong>Documentación</strong>: Un módulo cohesivo se auto-documenta</li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Regla práctica</p>
<p>Si no puedes describir qué hace tu clase en una frase simple sin usar "Y", probablemente tiene baja cohesión.</p>
</div>
<h5 id="214-senales-de-baja-cohesion">2.1.4. Señales de baja cohesión<a class="headerlink" href="#214-senales-de-baja-cohesion" title="Permanent link">&para;</a></h5>
<p>Identifica problemas de cohesión cuando:</p>
<ul>
<li>La clase tiene más de 10-15 métodos públicos</li>
<li>El nombre de la clase incluye "Manager", "Handler", "Util", "Helper"</li>
<li>La clase cambia frecuentemente por razones no relacionadas</li>
<li>Los métodos de la clase usan diferentes subconjuntos de atributos</li>
<li>Hay métodos estáticos que no usan ningún atributo de instancia</li>
<li>Cuesta trabajo decidir dónde agregar nueva funcionalidad</li>
</ul>
<h5 id="215-ejemplo-introductorio">2.1.5. Ejemplo introductorio<a class="headerlink" href="#215-ejemplo-introductorio" title="Permanent link">&para;</a></h5>
<p>Veamos un ejemplo concreto para ilustrar la diferencia:</p>
<p><strong>BAJA COHESIÓN</strong> - Clase que hace de todo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Usuario</span><span class="p">(</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">password</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="c1">// Responsabilidad 1: Gestión de datos del usuario</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">actualizarEmail</span><span class="p">(</span><span class="n">nuevoEmail</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">        </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nuevoEmail</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">    </span><span class="c1">// Responsabilidad 2: Autenticación</span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarPassword</span><span class="p">(</span><span class="n">pwd</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">pwd</span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a><span class="w">    </span><span class="c1">// Responsabilidad 3: Envío de emails</span>
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarEmailBienvenida</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Enviando email a </span><span class="si">$</span><span class="n">email</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a><span class="w">    </span><span class="c1">// Responsabilidad 4: Persistencia</span>
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardarEnBaseDatos</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;INSERT INTO usuarios...&quot;</span><span class="p">)</span>
<a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>
<a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a><span class="w">    </span><span class="c1">// Responsabilidad 5: Generación de reportes</span>
<a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarReportePDF</span><span class="p">():</span><span class="w"> </span><span class="n">ByteArray</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">byteArrayOf</span><span class="p">()</span><span class="w"> </span><span class="c1">// Genera PDF</span>
<a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>
<a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a><span class="w">    </span><span class="c1">// Responsabilidad 6: Logging</span>
<a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarAccion</span><span class="p">(</span><span class="n">accion</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;[LOG] Usuario </span><span class="si">$</span><span class="n">nombre</span><span class="s">: </span><span class="si">$</span><span class="n">accion</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-0-34" name="__codelineno-0-34" href="#__codelineno-0-34"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-0-35" name="__codelineno-0-35" href="#__codelineno-0-35"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Problemas</strong>:</p>
<ul>
<li>La clase tiene 6 responsabilidades diferentes</li>
<li>Si cambia el sistema de email, hay que modificar Usuario</li>
<li>Si cambia la base de datos, hay que modificar Usuario</li>
<li>Si cambia el formato de PDF, hay que modificar Usuario</li>
<li>No se puede probar la validación de password sin tener lógica de email</li>
</ul>
<p><strong>ALTA COHESIÓN</strong> - Responsabilidades separadas:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="c1">// Solo datos y validación básica del dominio</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Usuario</span><span class="p">(</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">actualizarEmail</span><span class="p">(</span><span class="n">nuevoEmail</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">        </span><span class="n">require</span><span class="p">(</span><span class="n">nuevoEmail</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;Email inválido&quot;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">        </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nuevoEmail</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="p">}</span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="c1">// Solo autenticación</span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioAutenticacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarCredenciales</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a><span class="w">        </span><span class="c1">// Lógica de autenticación</span>
<a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a><span class="p">}</span>
<a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>
<a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a><span class="c1">// Solo emails</span>
<a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarBienvenida</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Enviando bienvenida a </span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">email</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a><span class="p">}</span>
<a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>
<a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a><span class="c1">// Solo persistencia</span>
<a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a><span class="kd">class</span><span class="w"> </span><span class="nc">RepositorioUsuarios</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;INSERT INTO usuarios VALUES (</span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">id</span><span class="si">}</span><span class="s">, &#39;</span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">nombre</span><span class="si">}</span><span class="s">&#39;)&quot;</span><span class="p">)</span>
<a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>
<a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarPorEmail</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Usuario? </span><span class="p">{</span>
<a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a><span class="w">        </span><span class="c1">// Búsqueda en BD</span>
<a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a><span class="p">}</span>
<a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>
<a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a><span class="c1">// Solo reportes</span>
<a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GeneradorReportes</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarPDFUsuario</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">):</span><span class="w"> </span><span class="n">ByteArray</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">byteArrayOf</span><span class="p">()</span><span class="w"> </span><span class="c1">// Genera PDF</span>
<a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a><span class="p">}</span>
<a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>
<a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a><span class="c1">// Solo logging</span>
<a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioAuditoria</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarAccion</span><span class="p">(</span><span class="n">usuarioId</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">accion</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;[</span><span class="si">${</span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">()</span><span class="si">}</span><span class="s">] Usuario </span><span class="si">$</span><span class="n">usuarioId</span><span class="s">: </span><span class="si">$</span><span class="n">accion</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios</strong>:</p>
<ul>
<li>Cada clase tiene una responsabilidad única y clara</li>
<li>Cambios en email no afectan a persistencia</li>
<li>Se puede testear cada servicio independientemente</li>
<li>Fácil de extender (nueva notificación = nueva clase)</li>
<li>Nombres descriptivos que explican el propósito</li>
</ul>
<p>En las siguientes secciones, exploraremos los diferentes tipos de cohesión y cómo identificarlos en tu código.</p>
<h4 id="22-tipos-de-cohesion-de-la-peor-a-la-mejor">2.2. Tipos de cohesión: De la peor a la mejor<a class="headerlink" href="#22-tipos-de-cohesion-de-la-peor-a-la-mejor" title="Permanent link">&para;</a></h4>
<p>La cohesión se puede clasificar en diferentes niveles, <strong>ordenados de menor a mayor calidad</strong>. Entender estos niveles te ayudará a identificar y mejorar la cohesión en tu código. Piensa en esta clasificación como una escala de calidad donde debes aspirar a los niveles superiores.</p>
<h5 id="221-tabla-resumen-de-tipos-de-cohesion">2.2.1. Tabla resumen de tipos de cohesión<a class="headerlink" href="#221-tabla-resumen-de-tipos-de-cohesion" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Nivel</th>
<th>Tipo</th>
<th>Calidad</th>
<th>Descripción breve</th>
<th>Esfuerzo de mantenimiento</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Cohesión coincidental</td>
<td>❌ La peor</td>
<td>Elementos agrupados sin ninguna relación lógica</td>
<td>Muy alto</td>
</tr>
<tr>
<td>2</td>
<td>Cohesión lógica</td>
<td>🔴 Muy baja</td>
<td>Elementos relacionados por tipo, pero no función</td>
<td>Alto</td>
</tr>
<tr>
<td>3</td>
<td>Cohesión temporal</td>
<td>🟠 Baja</td>
<td>Elementos ejecutados en el mismo momento</td>
<td>Alto</td>
</tr>
<tr>
<td>4</td>
<td>Cohesión procedimental</td>
<td>🟡 Media-baja</td>
<td>Elementos que siguen una secuencia</td>
<td>Medio-alto</td>
</tr>
<tr>
<td>5</td>
<td>Cohesión comunicacional</td>
<td>🟢 Media</td>
<td>Elementos que comparten datos de entrada/salida</td>
<td>Medio</td>
</tr>
<tr>
<td>6</td>
<td>Cohesión secuencial</td>
<td>🔵 Alta</td>
<td>Salida de uno es entrada del siguiente</td>
<td>Bajo</td>
</tr>
<tr>
<td>7</td>
<td>Cohesión funcional</td>
<td>La mejor</td>
<td>Todos enfocados en una única función</td>
<td>Muy bajo</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Objetivo de diseño</p>
<p>Siempre debemos aspirar a <strong>cohesión funcional</strong> (nivel 7) o, como mínimo, a <strong>cohesión secuencial</strong> (nivel 6). Los niveles 1-4 indican serios problemas de diseño.</p>
</div>
<h5 id="222-cohesion-coincidental-nivel-1-la-peor">2.2.2. Cohesión Coincidental (Nivel 1 - ❌ La peor)<a class="headerlink" href="#222-cohesion-coincidental-nivel-1-la-peor" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Los elementos están agrupados sin ninguna relación aparente. Es como meter cosas al azar en una caja simplemente porque hay espacio.</p>
<p><strong>Características</strong>:</p>
<ul>
<li>No hay razón lógica para que los elementos estén juntos</li>
<li>Cambios en un elemento no afectan a otros</li>
<li>Difícil de entender, mantener y reutilizar</li>
<li>Imposible de documentar coherentemente</li>
</ul>
<p><strong>Ejemplo típico</strong>: La temida clase <code>Utilidades</code> o <code>Utils</code></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="c1">// ❌ COHESIÓN COINCIDENTAL - Elementos sin relación</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Utilidades</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="c1">// Matemáticas</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularIva</span><span class="p">(</span><span class="n">precio</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">precio</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">0.21</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span><span class="c1">// Comunicación</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarEmail</span><span class="p">(</span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Enviando email a </span><span class="si">$</span><span class="n">destinatario</span><span class="s">: </span><span class="si">$</span><span class="n">mensaje</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">    </span><span class="c1">// Algoritmos</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">ordenarArray</span><span class="p">(</span><span class="n">array</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">array</span><span class="p">.</span><span class="na">sorted</span><span class="p">()</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">    </span><span class="c1">// Fecha/hora</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtenerFechaActual</span><span class="p">():</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">().</span><span class="na">toString</span><span class="p">()</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="w">    </span><span class="c1">// Validaciones</span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">esEmailValido</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">email</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">)</span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="w">    </span><span class="c1">// Generación de IDs</span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarId</span><span class="p">():</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">().</span><span class="na">toString</span><span class="p">()</span>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-32" name="__codelineno-2-32" href="#__codelineno-2-32"></a><span class="p">}</span>
<a id="__codelineno-2-33" name="__codelineno-2-33" href="#__codelineno-2-33"></a>
<a id="__codelineno-2-34" name="__codelineno-2-34" href="#__codelineno-2-34"></a><span class="c1">// Uso confuso - ¿qué hace realmente esta clase?</span>
<a id="__codelineno-2-35" name="__codelineno-2-35" href="#__codelineno-2-35"></a><span class="kd">val</span><span class="w"> </span><span class="nv">utils</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Utilidades</span><span class="p">()</span>
<a id="__codelineno-2-36" name="__codelineno-2-36" href="#__codelineno-2-36"></a><span class="kd">val</span><span class="w"> </span><span class="nv">precio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">utils</span><span class="p">.</span><span class="na">calcularIva</span><span class="p">(</span><span class="m">100.0</span><span class="p">)</span>
<a id="__codelineno-2-37" name="__codelineno-2-37" href="#__codelineno-2-37"></a><span class="n">utils</span><span class="p">.</span><span class="na">enviarEmail</span><span class="p">(</span><span class="s">&quot;user@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hola&quot;</span><span class="p">)</span>
<a id="__codelineno-2-38" name="__codelineno-2-38" href="#__codelineno-2-38"></a><span class="kd">val</span><span class="w"> </span><span class="nv">lista</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">utils</span><span class="p">.</span><span class="na">ordenarArray</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">))</span>
</code></pre></div>
<p><strong>Problemas identificados</strong>:</p>
<ul>
<li>No puedes describir qué hace la clase en una frase</li>
<li>Agregar nueva funcionalidad es arbitrario (¿va aquí o en otra clase?)</li>
<li><abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> es difícil (muchos mocks diferentes)</li>
<li>Imposible de documentar coherentemente</li>
</ul>
<p><strong>Solución - Separar por dominios</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="c1">// Alta cohesión - cada clase tiene un propósito claro</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CalculadoraPrecios</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">tasaIVA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.21</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularIva</span><span class="p">(</span><span class="n">precio</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">precio</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tasaIVA</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularPrecioFinal</span><span class="p">(</span><span class="n">precioBase</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">precioBase</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">calcularIva</span><span class="p">(</span><span class="n">precioBase</span><span class="p">)</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="p">}</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviar</span><span class="p">(</span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Enviando email a </span><span class="si">$</span><span class="n">destinatario</span><span class="s">: </span><span class="si">$</span><span class="n">mensaje</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
<a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarConPlantilla</span><span class="p">(</span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">plantilla</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">datos</span><span class="p">:</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">mensaje</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">procesarPlantilla</span><span class="p">(</span><span class="n">plantilla</span><span class="p">,</span><span class="w"> </span><span class="n">datos</span><span class="p">)</span>
<a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a><span class="w">        </span><span class="n">enviar</span><span class="p">(</span><span class="n">destinatario</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">)</span>
<a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>
<a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesarPlantilla</span><span class="p">(</span><span class="n">plantilla</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">datos</span><span class="p">:</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a><span class="w">        </span><span class="c1">// Lógica de plantillas</span>
<a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">plantilla</span>
<a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a><span class="p">}</span>
<a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>
<a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a><span class="kd">class</span><span class="w"> </span><span class="nc">UtilidadesColecciones</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-26" name="__codelineno-3-26" href="#__codelineno-3-26"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="p">:</span><span class="w"> </span><span class="n">Comparable</span><span class="err">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="err">&gt; </span><span class="nf">ordenar</span><span class="p">(</span><span class="n">lista</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lista</span><span class="p">.</span><span class="na">sorted</span><span class="p">()</span>
<a id="__codelineno-3-27" name="__codelineno-3-27" href="#__codelineno-3-27"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="p">:</span><span class="w"> </span><span class="n">Comparable</span><span class="err">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="err">&gt; </span><span class="nf">ordenarDescendente</span><span class="p">(</span><span class="n">lista</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lista</span><span class="p">.</span><span class="na">sortedDescending</span><span class="p">()</span>
<a id="__codelineno-3-28" name="__codelineno-3-28" href="#__codelineno-3-28"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">filtrarDuplicados</span><span class="p">(</span><span class="n">lista</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lista</span><span class="p">.</span><span class="na">distinct</span><span class="p">()</span>
<a id="__codelineno-3-29" name="__codelineno-3-29" href="#__codelineno-3-29"></a><span class="p">}</span>
<a id="__codelineno-3-30" name="__codelineno-3-30" href="#__codelineno-3-30"></a>
<a id="__codelineno-3-31" name="__codelineno-3-31" href="#__codelineno-3-31"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioFechas</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-32" name="__codelineno-3-32" href="#__codelineno-3-32"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtenerFechaActual</span><span class="p">():</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="p">.</span><span class="na">now</span><span class="p">()</span>
<a id="__codelineno-3-33" name="__codelineno-3-33" href="#__codelineno-3-33"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">formatearFecha</span><span class="p">(</span><span class="n">fecha</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="p">,</span><span class="w"> </span><span class="n">formato</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-34" name="__codelineno-3-34" href="#__codelineno-3-34"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fecha</span><span class="p">.</span><span class="na">toString</span><span class="p">()</span><span class="w"> </span><span class="c1">// Simplificado</span>
<a id="__codelineno-3-35" name="__codelineno-3-35" href="#__codelineno-3-35"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-36" name="__codelineno-3-36" href="#__codelineno-3-36"></a><span class="p">}</span>
<a id="__codelineno-3-37" name="__codelineno-3-37" href="#__codelineno-3-37"></a>
<a id="__codelineno-3-38" name="__codelineno-3-38" href="#__codelineno-3-38"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-39" name="__codelineno-3-39" href="#__codelineno-3-39"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">esValido</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-40" name="__codelineno-3-40" href="#__codelineno-3-40"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">email</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+</span><span class="err">$</span><span class="s">&quot;</span><span class="p">))</span>
<a id="__codelineno-3-41" name="__codelineno-3-41" href="#__codelineno-3-41"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-3-42" name="__codelineno-3-42" href="#__codelineno-3-42"></a><span class="p">}</span>
<a id="__codelineno-3-43" name="__codelineno-3-43" href="#__codelineno-3-43"></a>
<a id="__codelineno-3-44" name="__codelineno-3-44" href="#__codelineno-3-44"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GeneradorIdentificadores</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-3-45" name="__codelineno-3-45" href="#__codelineno-3-45"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarUUID</span><span class="p">():</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">().</span><span class="na">toString</span><span class="p">()</span>
<a id="__codelineno-3-46" name="__codelineno-3-46" href="#__codelineno-3-46"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarIdNumerico</span><span class="p">():</span><span class="w"> </span><span class="kt">Long</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span>
<a id="__codelineno-3-47" name="__codelineno-3-47" href="#__codelineno-3-47"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios de la refactorización</strong>:</p>
<ul>
<li>Cada clase tiene un propósito claro</li>
<li>Fácil de localizar funcionalidad</li>
<li><abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> más simple (mocks específicos)</li>
<li>Fácil de documentar</li>
</ul>
<p><strong>Cuándo se produce</strong>:</p>
<ul>
<li>Prisas en el desarrollo ("lo pongo donde sea")</li>
<li>Falta de planificación</li>
<li>Código legacy sin refactorizar</li>
<li>Clases "cajón de sastre"</li>
</ul>
<h5 id="222-cohesion-logica-nivel-2-muy-baja">2.2.2. Cohesión Lógica (Nivel 2 - 🔴 Muy baja)<a class="headerlink" href="#222-cohesion-logica-nivel-2-muy-baja" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Los elementos están relacionados porque realizan actividades del mismo <strong>tipo</strong>, aunque no necesariamente están relacionadas funcionalmente. Es como agrupar todas las operaciones de "entrada/salida" juntas, aunque trabajen con conceptos completamente diferentes.</p>
<p><strong>Características</strong>:</p>
<ul>
<li>Elementos agrupados por categoría lógica, no por colaboración</li>
<li>Normalmente controlados por un parámetro que selecciona la operación</li>
<li>Estructura típica: <code>if/else</code> o <code>when</code> para decidir qué hacer</li>
<li>Difícil de extender (hay que modificar la clase cada vez)</li>
</ul>
<p><strong>Ejemplo típico</strong>: Clase con un método que hace cosas diferentes según un parámetro</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="c1">// ❌ COHESIÓN LÓGICA - Operaciones del mismo tipo pero no relacionadas</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Operaciones</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">ejecutar</span><span class="p">(</span><span class="n">tipo</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">datos</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">when</span><span class="p">(</span><span class="n">tipo</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">            </span><span class="s">&quot;SUMA&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">                </span><span class="n">datos</span><span class="p">.</span><span class="na">sum</span><span class="p">()</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">            </span><span class="s">&quot;PROMEDIO&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">datos</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">datos</span><span class="p">.</span><span class="na">sum</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">datos</span><span class="p">.</span><span class="na">size</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">            </span><span class="s">&quot;MAXIMO&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">                </span><span class="n">datos</span><span class="p">.</span><span class="na">maxOrNull</span><span class="p">()</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">            </span><span class="s">&quot;ORDENAR&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">                </span><span class="n">datos</span><span class="p">.</span><span class="na">sorted</span><span class="p">().</span><span class="na">first</span><span class="p">()</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">            </span><span class="s">&quot;BUSCAR&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">                </span><span class="n">datos</span><span class="p">.</span><span class="na">find</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="o">-</span><span class="m">1</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="p">}</span>
<a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a>
<a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="c1">// Uso confuso - ¿qué hace &quot;ejecutar&quot;?</span>
<a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="kd">val</span><span class="w"> </span><span class="nv">ops</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Operaciones</span><span class="p">()</span>
<a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="kd">val</span><span class="w"> </span><span class="nv">suma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ops</span><span class="p">.</span><span class="na">ejecutar</span><span class="p">(</span><span class="s">&quot;SUMA&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span>
<a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="kd">val</span><span class="w"> </span><span class="nv">max</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ops</span><span class="p">.</span><span class="na">ejecutar</span><span class="p">(</span><span class="s">&quot;MAXIMO&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span>
<a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="kd">val</span><span class="w"> </span><span class="nv">ordenado</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ops</span><span class="p">.</span><span class="na">ejecutar</span><span class="p">(</span><span class="s">&quot;ORDENAR&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">))</span>
</code></pre></div>
<p><strong>Problemas</strong>:</p>
<ul>
<li>Método "ejecutar" es demasiado genérico</li>
<li>Difícil de extender (agregar nueva operación requiere modificar la clase)</li>
<li>Viola el Principio de Abierto/Cerrado</li>
<li><abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> complejo (hay que probar todos los casos)</li>
<li>No se puede reutilizar una operación específica sin la clase completa</li>
</ul>
<p><strong>Otro ejemplo común</strong>: Handler de eventos</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="c1">// ❌ COHESIÓN LÓGICA - Handler que maneja eventos no relacionados</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ManejadorEventos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">manejar</span><span class="p">(</span><span class="n">evento</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">datos</span><span class="p">:</span><span class="w"> </span><span class="kt">Any</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">        </span><span class="k">when</span><span class="p">(</span><span class="n">evento</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">            </span><span class="s">&quot;USUARIO_CREADO&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">                </span><span class="kd">val</span><span class="w"> </span><span class="nv">usuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">datos</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Usuario</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">                </span><span class="n">enviarEmailBienvenida</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">                </span><span class="n">crearDirectorioUsuario</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">                </span><span class="n">registrarEnAuditoria</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">            </span><span class="s">&quot;PEDIDO_REALIZADO&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">                </span><span class="kd">val</span><span class="w"> </span><span class="nv">pedido</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">datos</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Pedido</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">                </span><span class="n">enviarConfirmacionPedido</span><span class="p">(</span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">                </span><span class="n">actualizarInventario</span><span class="p">(</span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">                </span><span class="n">notificarAlmacen</span><span class="p">(</span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">            </span><span class="s">&quot;PAGO_RECIBIDO&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="w">                </span><span class="kd">val</span><span class="w"> </span><span class="nv">pago</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">datos</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Pago</span>
<a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="w">                </span><span class="n">enviarRecibo</span><span class="p">(</span><span class="n">pago</span><span class="p">)</span>
<a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="w">                </span><span class="n">actualizarContabilidad</span><span class="p">(</span><span class="n">pago</span><span class="p">)</span>
<a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>
<a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarEmailBienvenida</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">crearDirectorioUsuario</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarEnAuditoria</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarConfirmacionPedido</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">actualizarInventario</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">notificarAlmacen</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarRecibo</span><span class="p">(</span><span class="n">pago</span><span class="p">:</span><span class="w"> </span><span class="n">Pago</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">actualizarContabilidad</span><span class="p">(</span><span class="n">pago</span><span class="p">:</span><span class="w"> </span><span class="n">Pago</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Solución - Separar por responsabilidad funcional</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1">// Cohesión funcional - Operaciones matemáticas separadas</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">OperacionNumerica</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">ejecutar</span><span class="p">(</span><span class="n">datos</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="p">}</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="kd">class</span><span class="w"> </span><span class="nc">OperacionSuma</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">OperacionNumerica</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">ejecutar</span><span class="p">(</span><span class="n">datos</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">datos</span><span class="p">.</span><span class="na">sum</span><span class="p">()</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="p">}</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="kd">class</span><span class="w"> </span><span class="nc">OperacionPromedio</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">OperacionNumerica</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">ejecutar</span><span class="p">(</span><span class="n">datos</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">datos</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="n">datos</span><span class="p">.</span><span class="na">sum</span><span class="p">()</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">datos</span><span class="p">.</span><span class="na">size</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="p">}</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="kd">class</span><span class="w"> </span><span class="nc">OperacionMaximo</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">OperacionNumerica</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">ejecutar</span><span class="p">(</span><span class="n">datos</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">datos</span><span class="p">.</span><span class="na">maxOrNull</span><span class="p">()</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="p">}</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="c1">// Uso claro y extensible</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="kd">val</span><span class="w"> </span><span class="nv">suma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OperacionSuma</span><span class="p">().</span><span class="na">ejecutar</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="kd">val</span><span class="w"> </span><span class="nv">promedio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OperacionPromedio</span><span class="p">().</span><span class="na">ejecutar</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span>
<a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="kd">val</span><span class="w"> </span><span class="nv">maximo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OperacionMaximo</span><span class="p">().</span><span class="na">ejecutar</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span>
<a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>
<a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="c1">// Para eventos, usar el patrón Observer/Event Handler</span>
<a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">ManejadorEvento</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">manejar</span><span class="p">(</span><span class="n">dato</span><span class="p">:</span><span class="w"> </span><span class="n">T</span><span class="p">)</span>
<a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="p">}</span>
<a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>
<a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ManejadorUsuarioCreado</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ManejadorEvento</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">manejar</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a><span class="w">        </span><span class="n">enviarEmailBienvenida</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a><span class="w">        </span><span class="n">crearDirectorioUsuario</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a><span class="w">        </span><span class="n">registrarEnAuditoria</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>
<a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarEmailBienvenida</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">crearDirectorioUsuario</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarEnAuditoria</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a><span class="p">}</span>
<a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>
<a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ManejadorPedidoRealizado</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ManejadorEvento</span><span class="o">&lt;</span><span class="n">Pedido</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">manejar</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a><span class="w">        </span><span class="n">enviarConfirmacionPedido</span><span class="p">(</span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a><span class="w">        </span><span class="n">actualizarInventario</span><span class="p">(</span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a><span class="w">        </span><span class="n">notificarAlmacen</span><span class="p">(</span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>
<a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarConfirmacionPedido</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">actualizarInventario</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">notificarAlmacen</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-6-52" name="__codelineno-6-52" href="#__codelineno-6-52"></a><span class="p">}</span>
<a id="__codelineno-6-53" name="__codelineno-6-53" href="#__codelineno-6-53"></a>
<a id="__codelineno-6-54" name="__codelineno-6-54" href="#__codelineno-6-54"></a><span class="c1">// Sistema de despacho de eventos</span>
<a id="__codelineno-6-55" name="__codelineno-6-55" href="#__codelineno-6-55"></a><span class="kd">class</span><span class="w"> </span><span class="nc">DispatcherEventos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-56" name="__codelineno-6-56" href="#__codelineno-6-56"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">manejadores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableMapOf</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">ManejadorEvento</span><span class="o">&lt;</span><span class="kt">Any</span><span class="o">&gt;&gt;</span><span class="p">()</span>
<a id="__codelineno-6-57" name="__codelineno-6-57" href="#__codelineno-6-57"></a>
<a id="__codelineno-6-58" name="__codelineno-6-58" href="#__codelineno-6-58"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">registrar</span><span class="p">(</span><span class="n">evento</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">manejador</span><span class="p">:</span><span class="w"> </span><span class="n">ManejadorEvento</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-59" name="__codelineno-6-59" href="#__codelineno-6-59"></a><span class="w">        </span><span class="nd">@Suppress</span><span class="p">(</span><span class="s">&quot;UNCHECKED_CAST&quot;</span><span class="p">)</span>
<a id="__codelineno-6-60" name="__codelineno-6-60" href="#__codelineno-6-60"></a><span class="w">        </span><span class="n">manejadores</span><span class="o">[</span><span class="n">evento</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">manejador</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ManejadorEvento</span><span class="o">&lt;</span><span class="kt">Any</span><span class="o">&gt;</span>
<a id="__codelineno-6-61" name="__codelineno-6-61" href="#__codelineno-6-61"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-6-62" name="__codelineno-6-62" href="#__codelineno-6-62"></a>
<a id="__codelineno-6-63" name="__codelineno-6-63" href="#__codelineno-6-63"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="nf">disparar</span><span class="p">(</span><span class="n">evento</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">dato</span><span class="p">:</span><span class="w"> </span><span class="n">T</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-6-64" name="__codelineno-6-64" href="#__codelineno-6-64"></a><span class="w">        </span><span class="n">manejadores</span><span class="o">[</span><span class="n">evento</span><span class="o">]?.</span><span class="na">manejar</span><span class="p">(</span><span class="n">dato</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">Any</span><span class="p">)</span>
<a id="__codelineno-6-65" name="__codelineno-6-65" href="#__codelineno-6-65"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-6-66" name="__codelineno-6-66" href="#__codelineno-6-66"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios</strong>:</p>
<ul>
<li>Cada manejador tiene cohesión funcional</li>
<li>Fácil de extender (nuevo evento = nueva clase)</li>
<li><abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> simple (una clase a la vez)</li>
<li>Respeta Open/Closed Principle</li>
</ul>
<h5 id="223-cohesion-temporal-nivel-3-baja">2.2.3. Cohesión Temporal (Nivel 3 - 🟠 Baja)<a class="headerlink" href="#223-cohesion-temporal-nivel-3-baja" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Los elementos están agrupados porque se ejecutan en el <strong>mismo momento</strong> o durante la misma <strong>fase del programa</strong>, pero no están relacionados funcionalmente.</p>
<p><strong>Características</strong>:</p>
<ul>
<li>Elementos ejecutados juntos por timing, no por relación lógica</li>
<li>Típico en métodos de inicialización o limpieza</li>
<li>Agrupa tareas que "casualmente" ocurren juntas</li>
<li>Difícil de reutilizar parcialmente</li>
</ul>
<p><strong>Ejemplo típico</strong>: Método de inicialización que hace de todo</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1">// ❌ COHESIÓN TEMPORAL - Todo se ejecuta al inicio, pero no está relacionado</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Aplicacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">inicializar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">        </span><span class="c1">// 1. Configurar logging</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">setProperty</span><span class="p">(</span><span class="s">&quot;log.level&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;INFO&quot;</span><span class="p">)</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Logger inicializado&quot;</span><span class="p">)</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="w">        </span><span class="c1">// 2. Conectar base de datos</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">        </span><span class="n">conectarBaseDatos</span><span class="p">()</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Base de datos conectada&quot;</span><span class="p">)</span>
<a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a>
<a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">        </span><span class="c1">// 3. Cargar configuración</span>
<a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cargarConfiguracion</span><span class="p">()</span>
<a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Configuración cargada: </span><span class="si">$</span><span class="n">config</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a>
<a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">        </span><span class="c1">// 4. Inicializar caché</span>
<a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">        </span><span class="n">inicializarCache</span><span class="p">()</span>
<a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Caché inicializada&quot;</span><span class="p">)</span>
<a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a>
<a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">        </span><span class="c1">// 5. Registrar servicios</span>
<a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="w">        </span><span class="n">registrarServicios</span><span class="p">()</span>
<a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Servicios registrados&quot;</span><span class="p">)</span>
<a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a>
<a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="w">        </span><span class="c1">// 6. Verificar licencia</span>
<a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="w">        </span><span class="n">verificarLicencia</span><span class="p">()</span>
<a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Licencia verificada&quot;</span><span class="p">)</span>
<a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a>
<a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a><span class="w">        </span><span class="c1">// 7. Limpiar archivos temporales</span>
<a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a><span class="w">        </span><span class="n">limpiarTemporales</span><span class="p">()</span>
<a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Temporales limpiados&quot;</span><span class="p">)</span>
<a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a>
<a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">conectarBaseDatos</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cargarConfiguracion</span><span class="p">():</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mapOf</span><span class="p">()</span>
<a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">inicializarCache</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarServicios</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">verificarLicencia</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">limpiarTemporales</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Problemas</strong>:</p>
<ul>
<li>Si falla uno, fallan todos</li>
<li>No puedes inicializar solo una parte</li>
<li>Difícil de testear (necesitas todo el contexto)</li>
<li>No puedes reutilizar componentes individuales</li>
<li>Orden de ejecución puede ser arbitrario</li>
</ul>
<p><strong>Otro ejemplo</strong>: Método de limpieza</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="c1">// ❌ COHESIÓN TEMPORAL - Todo se limpia al final</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">SistemaVentas</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cerrarDia</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">        </span><span class="c1">// Todas estas cosas pasan &quot;al cierre del día&quot;</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">        </span><span class="n">generarReporteDiario</span><span class="p">()</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">        </span><span class="n">enviarEmailsResumen</span><span class="p">()</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">        </span><span class="n">cerrarConexionesBD</span><span class="p">()</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">        </span><span class="n">archivarLogs</span><span class="p">()</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">        </span><span class="n">limpiarCacheMemoria</span><span class="p">()</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">        </span><span class="n">respaldarDatos</span><span class="p">()</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">        </span><span class="n">reiniciarContadores</span><span class="p">()</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarReporteDiario</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarEmailsResumen</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cerrarConexionesBD</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">archivarLogs</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">limpiarCacheMemoria</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">respaldarDatos</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">reiniciarContadores</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Solución - Separar por responsabilidad funcional</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="c1">// Alta cohesión - Cada inicializador tiene su responsabilidad</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">Inicializador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">inicializar</span><span class="p">()</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">nombre</span><span class="p">():</span><span class="w"> </span><span class="kt">String</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="p">}</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="kd">class</span><span class="w"> </span><span class="nc">InicializadorLogger</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Inicializador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">inicializar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">setProperty</span><span class="p">(</span><span class="s">&quot;log.level&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;INFO&quot;</span><span class="p">)</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Logger inicializado&quot;</span><span class="p">)</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-12" name="__codelineno-9-12" href="#__codelineno-9-12"></a>
<a id="__codelineno-9-13" name="__codelineno-9-13" href="#__codelineno-9-13"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">nombre</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Logger&quot;</span>
<a id="__codelineno-9-14" name="__codelineno-9-14" href="#__codelineno-9-14"></a><span class="p">}</span>
<a id="__codelineno-9-15" name="__codelineno-9-15" href="#__codelineno-9-15"></a>
<a id="__codelineno-9-16" name="__codelineno-9-16" href="#__codelineno-9-16"></a><span class="kd">class</span><span class="w"> </span><span class="nc">InicializadorBaseDatos</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Inicializador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-17" name="__codelineno-9-17" href="#__codelineno-9-17"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">inicializar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-18" name="__codelineno-9-18" href="#__codelineno-9-18"></a><span class="w">        </span><span class="c1">// Lógica específica de BD</span>
<a id="__codelineno-9-19" name="__codelineno-9-19" href="#__codelineno-9-19"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Base de datos conectada&quot;</span><span class="p">)</span>
<a id="__codelineno-9-20" name="__codelineno-9-20" href="#__codelineno-9-20"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-21" name="__codelineno-9-21" href="#__codelineno-9-21"></a>
<a id="__codelineno-9-22" name="__codelineno-9-22" href="#__codelineno-9-22"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">nombre</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Base de Datos&quot;</span>
<a id="__codelineno-9-23" name="__codelineno-9-23" href="#__codelineno-9-23"></a><span class="p">}</span>
<a id="__codelineno-9-24" name="__codelineno-9-24" href="#__codelineno-9-24"></a>
<a id="__codelineno-9-25" name="__codelineno-9-25" href="#__codelineno-9-25"></a><span class="kd">class</span><span class="w"> </span><span class="nc">InicializadorCache</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Inicializador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-26" name="__codelineno-9-26" href="#__codelineno-9-26"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">inicializar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-27" name="__codelineno-9-27" href="#__codelineno-9-27"></a><span class="w">        </span><span class="c1">// Lógica específica de caché</span>
<a id="__codelineno-9-28" name="__codelineno-9-28" href="#__codelineno-9-28"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Caché inicializada&quot;</span><span class="p">)</span>
<a id="__codelineno-9-29" name="__codelineno-9-29" href="#__codelineno-9-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-30" name="__codelineno-9-30" href="#__codelineno-9-30"></a>
<a id="__codelineno-9-31" name="__codelineno-9-31" href="#__codelineno-9-31"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">nombre</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Caché&quot;</span>
<a id="__codelineno-9-32" name="__codelineno-9-32" href="#__codelineno-9-32"></a><span class="p">}</span>
<a id="__codelineno-9-33" name="__codelineno-9-33" href="#__codelineno-9-33"></a>
<a id="__codelineno-9-34" name="__codelineno-9-34" href="#__codelineno-9-34"></a><span class="c1">// Coordinador que maneja el orden y dependencias</span>
<a id="__codelineno-9-35" name="__codelineno-9-35" href="#__codelineno-9-35"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GestorInicializacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-36" name="__codelineno-9-36" href="#__codelineno-9-36"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">inicializadores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableListOf</span><span class="o">&lt;</span><span class="n">Inicializador</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-9-37" name="__codelineno-9-37" href="#__codelineno-9-37"></a>
<a id="__codelineno-9-38" name="__codelineno-9-38" href="#__codelineno-9-38"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">agregar</span><span class="p">(</span><span class="n">inicializador</span><span class="p">:</span><span class="w"> </span><span class="n">Inicializador</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-39" name="__codelineno-9-39" href="#__codelineno-9-39"></a><span class="w">        </span><span class="n">inicializadores</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">inicializador</span><span class="p">)</span>
<a id="__codelineno-9-40" name="__codelineno-9-40" href="#__codelineno-9-40"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-41" name="__codelineno-9-41" href="#__codelineno-9-41"></a>
<a id="__codelineno-9-42" name="__codelineno-9-42" href="#__codelineno-9-42"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">inicializarTodo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-43" name="__codelineno-9-43" href="#__codelineno-9-43"></a><span class="w">        </span><span class="n">inicializadores</span><span class="p">.</span><span class="na">forEach</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">init</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-9-44" name="__codelineno-9-44" href="#__codelineno-9-44"></a><span class="w">            </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-45" name="__codelineno-9-45" href="#__codelineno-9-45"></a><span class="w">                </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Iniciando </span><span class="si">${</span><span class="k">init</span><span class="p">.</span><span class="na">nombre</span><span class="p">()</span><span class="si">}</span><span class="s">...&quot;</span><span class="p">)</span>
<a id="__codelineno-9-46" name="__codelineno-9-46" href="#__codelineno-9-46"></a><span class="w">                </span><span class="k">init</span><span class="p">.</span><span class="na">inicializar</span><span class="p">()</span>
<a id="__codelineno-9-47" name="__codelineno-9-47" href="#__codelineno-9-47"></a><span class="w">                </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;✓ </span><span class="si">${</span><span class="k">init</span><span class="p">.</span><span class="na">nombre</span><span class="p">()</span><span class="si">}</span><span class="s"> listo&quot;</span><span class="p">)</span>
<a id="__codelineno-9-48" name="__codelineno-9-48" href="#__codelineno-9-48"></a><span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="n">Exception</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-49" name="__codelineno-9-49" href="#__codelineno-9-49"></a><span class="w">                </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;✗ Error en </span><span class="si">${</span><span class="k">init</span><span class="p">.</span><span class="na">nombre</span><span class="p">()</span><span class="si">}</span><span class="s">: </span><span class="si">${</span><span class="n">e</span><span class="p">.</span><span class="na">message</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-9-50" name="__codelineno-9-50" href="#__codelineno-9-50"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-9-51" name="__codelineno-9-51" href="#__codelineno-9-51"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-9-52" name="__codelineno-9-52" href="#__codelineno-9-52"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-53" name="__codelineno-9-53" href="#__codelineno-9-53"></a>
<a id="__codelineno-9-54" name="__codelineno-9-54" href="#__codelineno-9-54"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">inicializarSolo</span><span class="p">(</span><span class="n">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-55" name="__codelineno-9-55" href="#__codelineno-9-55"></a><span class="w">        </span><span class="n">inicializadores</span>
<a id="__codelineno-9-56" name="__codelineno-9-56" href="#__codelineno-9-56"></a><span class="w">            </span><span class="p">.</span><span class="na">find</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">nombre</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">nombre</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-9-57" name="__codelineno-9-57" href="#__codelineno-9-57"></a><span class="w">            </span><span class="o">?.</span><span class="na">inicializar</span><span class="p">()</span>
<a id="__codelineno-9-58" name="__codelineno-9-58" href="#__codelineno-9-58"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-9-59" name="__codelineno-9-59" href="#__codelineno-9-59"></a><span class="p">}</span>
<a id="__codelineno-9-60" name="__codelineno-9-60" href="#__codelineno-9-60"></a>
<a id="__codelineno-9-61" name="__codelineno-9-61" href="#__codelineno-9-61"></a><span class="c1">// Uso</span>
<a id="__codelineno-9-62" name="__codelineno-9-62" href="#__codelineno-9-62"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-9-63" name="__codelineno-9-63" href="#__codelineno-9-63"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">gestor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GestorInicializacion</span><span class="p">()</span>
<a id="__codelineno-9-64" name="__codelineno-9-64" href="#__codelineno-9-64"></a><span class="w">    </span><span class="n">gestor</span><span class="p">.</span><span class="na">agregar</span><span class="p">(</span><span class="n">InicializadorLogger</span><span class="p">())</span>
<a id="__codelineno-9-65" name="__codelineno-9-65" href="#__codelineno-9-65"></a><span class="w">    </span><span class="n">gestor</span><span class="p">.</span><span class="na">agregar</span><span class="p">(</span><span class="n">InicializadorBaseDatos</span><span class="p">())</span>
<a id="__codelineno-9-66" name="__codelineno-9-66" href="#__codelineno-9-66"></a><span class="w">    </span><span class="n">gestor</span><span class="p">.</span><span class="na">agregar</span><span class="p">(</span><span class="n">InicializadorCache</span><span class="p">())</span>
<a id="__codelineno-9-67" name="__codelineno-9-67" href="#__codelineno-9-67"></a>
<a id="__codelineno-9-68" name="__codelineno-9-68" href="#__codelineno-9-68"></a><span class="w">    </span><span class="c1">// Inicializar todo</span>
<a id="__codelineno-9-69" name="__codelineno-9-69" href="#__codelineno-9-69"></a><span class="w">    </span><span class="n">gestor</span><span class="p">.</span><span class="na">inicializarTodo</span><span class="p">()</span>
<a id="__codelineno-9-70" name="__codelineno-9-70" href="#__codelineno-9-70"></a>
<a id="__codelineno-9-71" name="__codelineno-9-71" href="#__codelineno-9-71"></a><span class="w">    </span><span class="c1">// O inicializar solo uno</span>
<a id="__codelineno-9-72" name="__codelineno-9-72" href="#__codelineno-9-72"></a><span class="w">    </span><span class="n">gestor</span><span class="p">.</span><span class="na">inicializarSolo</span><span class="p">(</span><span class="s">&quot;Caché&quot;</span><span class="p">)</span>
<a id="__codelineno-9-73" name="__codelineno-9-73" href="#__codelineno-9-73"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios</strong>:</p>
<ul>
<li>Cada inicializador puede testearse independientemente</li>
<li>Puedes inicializar componentes selectivamente</li>
<li>Fácil de extender (nuevo inicializador = nueva clase)</li>
<li>Manejo de errores individualizado</li>
<li>Orden de inicialización explícito y configurable</li>
</ul>
<p><strong>Cuándo es aceptable</strong>:</p>
<ul>
<li>En scripts de setup muy simples</li>
<li>Cuando realmente TODAS las operaciones deben ocurrir juntas</li>
<li>Como punto de entrada que delega a componentes especializados</li>
</ul>
<h5 id="224-cohesion-procedimental-nivel-4-media-baja">2.2.4. Cohesión Procedimental (Nivel 4 - 🟡 Media-baja)<a class="headerlink" href="#224-cohesion-procedimental-nivel-4-media-baja" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Los elementos están relacionados porque siguen una <strong>secuencia específica de pasos</strong> en un proceso, pero cada paso puede trabajar con datos diferentes y no estar funcionalmente relacionado.</p>
<p><strong>Características</strong>:</p>
<ul>
<li>Elementos ejecutados en orden específico</li>
<li>Cada paso puede trabajar con datos diferentes</li>
<li>La relación es de "flujo de control", no de "propósito común"</li>
<li>Similar a un procedimiento o algoritmo paso a paso</li>
</ul>
<p><strong>Ejemplo típico</strong>: Procesamiento de pedidos con pasos secuenciales</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="c1">// ❌ COHESIÓN PROCEDIMENTAL - Pasos en secuencia pero conceptualmente diferentes</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ProcesadorPedido</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesarPedido</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">        </span><span class="c1">// Paso 1: Validar datos del pedido</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">validarDatosCliente</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">cliente</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Cliente inválido&quot;</span><span class="p">)</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">        </span><span class="c1">// Paso 2: Verificar stock</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">verificarDisponibilidadStock</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">items</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Stock insuficiente&quot;</span><span class="p">)</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">        </span><span class="c1">// Paso 3: Calcular precio total</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calcularPrecioTotal</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">items</span><span class="p">)</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">        </span><span class="c1">// Paso 4: Procesar pago</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">procesarPago</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">cliente</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Pago rechazado&quot;</span><span class="p">)</span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">        </span><span class="c1">// Paso 5: Actualizar inventario</span>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="w">        </span><span class="n">actualizarInventario</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">items</span><span class="p">)</span>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a>
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="w">        </span><span class="c1">// Paso 6: Enviar confirmación por email</span>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="w">        </span><span class="n">enviarEmailConfirmacion</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">cliente</span><span class="p">.</span><span class="na">email</span><span class="p">,</span><span class="w"> </span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a>
<a id="__codelineno-10-31" name="__codelineno-10-31" href="#__codelineno-10-31"></a><span class="w">        </span><span class="c1">// Paso 7: Registrar en auditoría</span>
<a id="__codelineno-10-32" name="__codelineno-10-32" href="#__codelineno-10-32"></a><span class="w">        </span><span class="n">registrarEnAuditoria</span><span class="p">(</span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-10-33" name="__codelineno-10-33" href="#__codelineno-10-33"></a>
<a id="__codelineno-10-34" name="__codelineno-10-34" href="#__codelineno-10-34"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Pedido procesado exitosamente&quot;</span><span class="p">)</span>
<a id="__codelineno-10-35" name="__codelineno-10-35" href="#__codelineno-10-35"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-10-36" name="__codelineno-10-36" href="#__codelineno-10-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-37" name="__codelineno-10-37" href="#__codelineno-10-37"></a>
<a id="__codelineno-10-38" name="__codelineno-10-38" href="#__codelineno-10-38"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarDatosCliente</span><span class="p">(</span><span class="n">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-39" name="__codelineno-10-39" href="#__codelineno-10-39"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">nombre</span><span class="p">.</span><span class="na">isNotEmpty</span><span class="p">()</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">cliente</span><span class="p">.</span><span class="na">email</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">)</span>
<a id="__codelineno-10-40" name="__codelineno-10-40" href="#__codelineno-10-40"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-41" name="__codelineno-10-41" href="#__codelineno-10-41"></a>
<a id="__codelineno-10-42" name="__codelineno-10-42" href="#__codelineno-10-42"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">verificarDisponibilidadStock</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-43" name="__codelineno-10-43" href="#__codelineno-10-43"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">all</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">cantidad</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">obtenerStock</span><span class="p">(</span><span class="nb">it</span><span class="p">.</span><span class="na">productoId</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-10-44" name="__codelineno-10-44" href="#__codelineno-10-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-45" name="__codelineno-10-45" href="#__codelineno-10-45"></a>
<a id="__codelineno-10-46" name="__codelineno-10-46" href="#__codelineno-10-46"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularPrecioTotal</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-47" name="__codelineno-10-47" href="#__codelineno-10-47"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">sumOf</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">precio</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">cantidad</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-10-48" name="__codelineno-10-48" href="#__codelineno-10-48"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-49" name="__codelineno-10-49" href="#__codelineno-10-49"></a>
<a id="__codelineno-10-50" name="__codelineno-10-50" href="#__codelineno-10-50"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesarPago</span><span class="p">(</span><span class="n">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente</span><span class="p">,</span><span class="w"> </span><span class="n">monto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-51" name="__codelineno-10-51" href="#__codelineno-10-51"></a><span class="w">        </span><span class="c1">// Lógica de pago</span>
<a id="__codelineno-10-52" name="__codelineno-10-52" href="#__codelineno-10-52"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-10-53" name="__codelineno-10-53" href="#__codelineno-10-53"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-54" name="__codelineno-10-54" href="#__codelineno-10-54"></a>
<a id="__codelineno-10-55" name="__codelineno-10-55" href="#__codelineno-10-55"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">actualizarInventario</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-56" name="__codelineno-10-56" href="#__codelineno-10-56"></a><span class="w">        </span><span class="n">items</span><span class="p">.</span><span class="na">forEach</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-10-57" name="__codelineno-10-57" href="#__codelineno-10-57"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Reduciendo stock de </span><span class="si">${</span><span class="n">item</span><span class="p">.</span><span class="na">productoId</span><span class="si">}</span><span class="s"> en </span><span class="si">${</span><span class="n">item</span><span class="p">.</span><span class="na">cantidad</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-10-58" name="__codelineno-10-58" href="#__codelineno-10-58"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-10-59" name="__codelineno-10-59" href="#__codelineno-10-59"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-60" name="__codelineno-10-60" href="#__codelineno-10-60"></a>
<a id="__codelineno-10-61" name="__codelineno-10-61" href="#__codelineno-10-61"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarEmailConfirmacion</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-62" name="__codelineno-10-62" href="#__codelineno-10-62"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Enviando confirmación a </span><span class="si">$</span><span class="n">email</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-10-63" name="__codelineno-10-63" href="#__codelineno-10-63"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-64" name="__codelineno-10-64" href="#__codelineno-10-64"></a>
<a id="__codelineno-10-65" name="__codelineno-10-65" href="#__codelineno-10-65"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarEnAuditoria</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-10-66" name="__codelineno-10-66" href="#__codelineno-10-66"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Registrando pedido </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">id</span><span class="si">}</span><span class="s"> en auditoría&quot;</span><span class="p">)</span>
<a id="__codelineno-10-67" name="__codelineno-10-67" href="#__codelineno-10-67"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-68" name="__codelineno-10-68" href="#__codelineno-10-68"></a>
<a id="__codelineno-10-69" name="__codelineno-10-69" href="#__codelineno-10-69"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtenerStock</span><span class="p">(</span><span class="n">productoId</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span>
<a id="__codelineno-10-70" name="__codelineno-10-70" href="#__codelineno-10-70"></a><span class="p">}</span>
<a id="__codelineno-10-71" name="__codelineno-10-71" href="#__codelineno-10-71"></a>
<a id="__codelineno-10-72" name="__codelineno-10-72" href="#__codelineno-10-72"></a><span class="c1">// Clases de datos</span>
<a id="__codelineno-10-73" name="__codelineno-10-73" href="#__codelineno-10-73"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Pedido</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-10-74" name="__codelineno-10-74" href="#__codelineno-10-74"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Cliente</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>
<a id="__codelineno-10-75" name="__codelineno-10-75" href="#__codelineno-10-75"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ItemPedido</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">productoId</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">cantidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">precio</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span>
</code></pre></div>
<p><strong>Problemas</strong>:</p>
<ul>
<li>Mezcla responsabilidades: validación, cálculo, comunicación, persistencia</li>
<li>Difícil de testear (necesitas mockear muchas cosas)</li>
<li>Difícil de reutilizar pasos individuales</li>
<li>Cambios en un paso pueden requerir cambios en la clase completa</li>
<li>Viola el Principio de Responsabilidad Única</li>
</ul>
<p><strong>Otro ejemplo</strong>: Generación de reportes</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">// ❌ COHESIÓN PROCEDIMENTAL - Secuencia de pasos heterogéneos</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GeneradorReporte</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarReporteVentas</span><span class="p">(</span><span class="n">fecha</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">        </span><span class="c1">// Paso 1: Conectar a base de datos</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">conexion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">conectarBaseDatos</span><span class="p">()</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">        </span><span class="c1">// Paso 2: Consultar datos</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">ventas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">consultarVentas</span><span class="p">(</span><span class="n">conexion</span><span class="p">,</span><span class="w"> </span><span class="n">fecha</span><span class="p">)</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">        </span><span class="c1">// Paso 3: Calcular estadísticas</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ventas</span><span class="p">.</span><span class="na">sumOf</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">monto</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">promedio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">ventas</span><span class="p">.</span><span class="na">size</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">        </span><span class="c1">// Paso 4: Formatear datos</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">textoFormateado</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">formatearDatos</span><span class="p">(</span><span class="n">ventas</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="p">,</span><span class="w"> </span><span class="n">promedio</span><span class="p">)</span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">        </span><span class="c1">// Paso 5: Generar PDF</span>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">pdf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">generarPDF</span><span class="p">(</span><span class="n">textoFormateado</span><span class="p">)</span>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a>
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">        </span><span class="c1">// Paso 6: Guardar en disco</span>
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">        </span><span class="n">guardarArchivo</span><span class="p">(</span><span class="n">pdf</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;reporte_</span><span class="si">$</span><span class="n">fecha</span><span class="s">.pdf&quot;</span><span class="p">)</span>
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a>
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">        </span><span class="c1">// Paso 7: Enviar por email</span>
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">        </span><span class="n">enviarPorEmail</span><span class="p">(</span><span class="n">pdf</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;gerente@empresa.com&quot;</span><span class="p">)</span>
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a>
<a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Reporte generado&quot;</span>
<a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a>
<a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">conectarBaseDatos</span><span class="p">():</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;conexion&quot;</span>
<a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">consultarVentas</span><span class="p">(</span><span class="n">conexion</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">fecha</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Venta</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listOf</span><span class="p">()</span>
<a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">formatearDatos</span><span class="p">(</span><span class="n">ventas</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Venta</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">,</span><span class="w"> </span><span class="n">promedio</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarPDF</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">ByteArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">byteArrayOf</span><span class="p">()</span>
<a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardarArchivo</span><span class="p">(</span><span class="n">datos</span><span class="p">:</span><span class="w"> </span><span class="n">ByteArray</span><span class="p">,</span><span class="w"> </span><span class="n">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarPorEmail</span><span class="p">(</span><span class="n">datos</span><span class="p">:</span><span class="w"> </span><span class="n">ByteArray</span><span class="p">,</span><span class="w"> </span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a><span class="p">}</span>
<a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a>
<a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Venta</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">monto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span>
</code></pre></div>
<p><strong>Solución - Separar por dominios y usar composición</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="c1">// Alta cohesión - Cada componente tiene una responsabilidad clara</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="c1">// 1. Validación de pedidos</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorPedido</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarCliente</span><span class="p">(</span><span class="n">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente</span><span class="p">):</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">errores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableListOf</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cliente</span><span class="p">.</span><span class="na">nombre</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">            </span><span class="n">errores</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Nombre del cliente requerido&quot;</span><span class="p">)</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">cliente</span><span class="p">.</span><span class="na">email</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+</span><span class="err">$</span><span class="s">&quot;</span><span class="p">)))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">            </span><span class="n">errores</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Email inválido&quot;</span><span class="p">)</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">errores</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="w">            </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Exitoso</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="w">            </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Fallido</span><span class="p">(</span><span class="n">errores</span><span class="p">)</span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarItems</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">items</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Fallido</span><span class="p">(</span><span class="n">listOf</span><span class="p">(</span><span class="s">&quot;El pedido debe tener al menos un item&quot;</span><span class="p">))</span>
<a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a>
<a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">errores</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">flatMap</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="w">            </span><span class="k">when</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="w">                </span><span class="n">item</span><span class="p">.</span><span class="na">cantidad</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="s">&quot;Cantidad debe ser mayor a 0&quot;</span><span class="p">)</span>
<a id="__codelineno-12-31" name="__codelineno-12-31" href="#__codelineno-12-31"></a><span class="w">                </span><span class="n">item</span><span class="p">.</span><span class="na">precio</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="s">&quot;Precio debe ser mayor a 0&quot;</span><span class="p">)</span>
<a id="__codelineno-12-32" name="__codelineno-12-32" href="#__codelineno-12-32"></a><span class="w">                </span><span class="k">else</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">emptyList</span><span class="p">()</span>
<a id="__codelineno-12-33" name="__codelineno-12-33" href="#__codelineno-12-33"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-12-34" name="__codelineno-12-34" href="#__codelineno-12-34"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-35" name="__codelineno-12-35" href="#__codelineno-12-35"></a>
<a id="__codelineno-12-36" name="__codelineno-12-36" href="#__codelineno-12-36"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">errores</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-37" name="__codelineno-12-37" href="#__codelineno-12-37"></a><span class="w">            </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Exitoso</span>
<a id="__codelineno-12-38" name="__codelineno-12-38" href="#__codelineno-12-38"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-39" name="__codelineno-12-39" href="#__codelineno-12-39"></a><span class="w">            </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Fallido</span><span class="p">(</span><span class="n">errores</span><span class="p">)</span>
<a id="__codelineno-12-40" name="__codelineno-12-40" href="#__codelineno-12-40"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-41" name="__codelineno-12-41" href="#__codelineno-12-41"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-42" name="__codelineno-12-42" href="#__codelineno-12-42"></a><span class="p">}</span>
<a id="__codelineno-12-43" name="__codelineno-12-43" href="#__codelineno-12-43"></a>
<a id="__codelineno-12-44" name="__codelineno-12-44" href="#__codelineno-12-44"></a><span class="kd">sealed</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ResultadoValidacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-45" name="__codelineno-12-45" href="#__codelineno-12-45"></a><span class="w">    </span><span class="kd">object</span><span class="w"> </span><span class="nc">Exitoso</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">()</span>
<a id="__codelineno-12-46" name="__codelineno-12-46" href="#__codelineno-12-46"></a><span class="w">    </span><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Fallido</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">errores</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">()</span>
<a id="__codelineno-12-47" name="__codelineno-12-47" href="#__codelineno-12-47"></a><span class="p">}</span>
<a id="__codelineno-12-48" name="__codelineno-12-48" href="#__codelineno-12-48"></a>
<a id="__codelineno-12-49" name="__codelineno-12-49" href="#__codelineno-12-49"></a><span class="c1">// 2. Gestión de inventario</span>
<a id="__codelineno-12-50" name="__codelineno-12-50" href="#__codelineno-12-50"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GestorInventario</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-51" name="__codelineno-12-51" href="#__codelineno-12-51"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">inventario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableMapOf</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-12-52" name="__codelineno-12-52" href="#__codelineno-12-52"></a>
<a id="__codelineno-12-53" name="__codelineno-12-53" href="#__codelineno-12-53"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">verificarDisponibilidad</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">ResultadoDisponibilidad</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-54" name="__codelineno-12-54" href="#__codelineno-12-54"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">noDisponibles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">filter</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-12-55" name="__codelineno-12-55" href="#__codelineno-12-55"></a><span class="w">            </span><span class="p">(</span><span class="n">inventario</span><span class="o">[</span><span class="n">item</span><span class="p">.</span><span class="na">productoId</span><span class="o">]</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">cantidad</span>
<a id="__codelineno-12-56" name="__codelineno-12-56" href="#__codelineno-12-56"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-57" name="__codelineno-12-57" href="#__codelineno-12-57"></a>
<a id="__codelineno-12-58" name="__codelineno-12-58" href="#__codelineno-12-58"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">noDisponibles</span><span class="p">.</span><span class="na">isEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-59" name="__codelineno-12-59" href="#__codelineno-12-59"></a><span class="w">            </span><span class="n">ResultadoDisponibilidad</span><span class="p">.</span><span class="na">Disponible</span>
<a id="__codelineno-12-60" name="__codelineno-12-60" href="#__codelineno-12-60"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-61" name="__codelineno-12-61" href="#__codelineno-12-61"></a><span class="w">            </span><span class="n">ResultadoDisponibilidad</span><span class="p">.</span><span class="na">NoDisponible</span><span class="p">(</span><span class="n">noDisponibles</span><span class="p">.</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">productoId</span><span class="w"> </span><span class="p">})</span>
<a id="__codelineno-12-62" name="__codelineno-12-62" href="#__codelineno-12-62"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-63" name="__codelineno-12-63" href="#__codelineno-12-63"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-64" name="__codelineno-12-64" href="#__codelineno-12-64"></a>
<a id="__codelineno-12-65" name="__codelineno-12-65" href="#__codelineno-12-65"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">reservar</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-66" name="__codelineno-12-66" href="#__codelineno-12-66"></a><span class="w">        </span><span class="n">items</span><span class="p">.</span><span class="na">forEach</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-12-67" name="__codelineno-12-67" href="#__codelineno-12-67"></a><span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">stockActual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventario</span><span class="o">[</span><span class="n">item</span><span class="p">.</span><span class="na">productoId</span><span class="o">]</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-12-68" name="__codelineno-12-68" href="#__codelineno-12-68"></a><span class="w">            </span><span class="n">inventario</span><span class="o">[</span><span class="n">item</span><span class="p">.</span><span class="na">productoId</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stockActual</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">cantidad</span>
<a id="__codelineno-12-69" name="__codelineno-12-69" href="#__codelineno-12-69"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-70" name="__codelineno-12-70" href="#__codelineno-12-70"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-12-71" name="__codelineno-12-71" href="#__codelineno-12-71"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-72" name="__codelineno-12-72" href="#__codelineno-12-72"></a>
<a id="__codelineno-12-73" name="__codelineno-12-73" href="#__codelineno-12-73"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">liberar</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-74" name="__codelineno-12-74" href="#__codelineno-12-74"></a><span class="w">        </span><span class="n">items</span><span class="p">.</span><span class="na">forEach</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-12-75" name="__codelineno-12-75" href="#__codelineno-12-75"></a><span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">stockActual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">inventario</span><span class="o">[</span><span class="n">item</span><span class="p">.</span><span class="na">productoId</span><span class="o">]</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-12-76" name="__codelineno-12-76" href="#__codelineno-12-76"></a><span class="w">            </span><span class="n">inventario</span><span class="o">[</span><span class="n">item</span><span class="p">.</span><span class="na">productoId</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">stockActual</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">cantidad</span>
<a id="__codelineno-12-77" name="__codelineno-12-77" href="#__codelineno-12-77"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-78" name="__codelineno-12-78" href="#__codelineno-12-78"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-79" name="__codelineno-12-79" href="#__codelineno-12-79"></a><span class="p">}</span>
<a id="__codelineno-12-80" name="__codelineno-12-80" href="#__codelineno-12-80"></a>
<a id="__codelineno-12-81" name="__codelineno-12-81" href="#__codelineno-12-81"></a><span class="kd">sealed</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ResultadoDisponibilidad</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-82" name="__codelineno-12-82" href="#__codelineno-12-82"></a><span class="w">    </span><span class="kd">object</span><span class="w"> </span><span class="nc">Disponible</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ResultadoDisponibilidad</span><span class="p">()</span>
<a id="__codelineno-12-83" name="__codelineno-12-83" href="#__codelineno-12-83"></a><span class="w">    </span><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">NoDisponible</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">productos</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ResultadoDisponibilidad</span><span class="p">()</span>
<a id="__codelineno-12-84" name="__codelineno-12-84" href="#__codelineno-12-84"></a><span class="p">}</span>
<a id="__codelineno-12-85" name="__codelineno-12-85" href="#__codelineno-12-85"></a>
<a id="__codelineno-12-86" name="__codelineno-12-86" href="#__codelineno-12-86"></a><span class="c1">// 3. Cálculo de precios</span>
<a id="__codelineno-12-87" name="__codelineno-12-87" href="#__codelineno-12-87"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CalculadoraPrecios</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-88" name="__codelineno-12-88" href="#__codelineno-12-88"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularTotalPedido</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-89" name="__codelineno-12-89" href="#__codelineno-12-89"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">sumOf</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">calcularSubtotal</span><span class="p">(</span><span class="nb">it</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-12-90" name="__codelineno-12-90" href="#__codelineno-12-90"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-91" name="__codelineno-12-91" href="#__codelineno-12-91"></a>
<a id="__codelineno-12-92" name="__codelineno-12-92" href="#__codelineno-12-92"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularSubtotal</span><span class="p">(</span><span class="n">item</span><span class="p">:</span><span class="w"> </span><span class="n">ItemPedido</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-93" name="__codelineno-12-93" href="#__codelineno-12-93"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">precio</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">cantidad</span>
<a id="__codelineno-12-94" name="__codelineno-12-94" href="#__codelineno-12-94"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-95" name="__codelineno-12-95" href="#__codelineno-12-95"></a>
<a id="__codelineno-12-96" name="__codelineno-12-96" href="#__codelineno-12-96"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicarDescuento</span><span class="p">(</span><span class="n">total</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">,</span><span class="w"> </span><span class="n">porcentaje</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-97" name="__codelineno-12-97" href="#__codelineno-12-97"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">porcentaje</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">100</span><span class="p">)</span>
<a id="__codelineno-12-98" name="__codelineno-12-98" href="#__codelineno-12-98"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-99" name="__codelineno-12-99" href="#__codelineno-12-99"></a>
<a id="__codelineno-12-100" name="__codelineno-12-100" href="#__codelineno-12-100"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularImpuestos</span><span class="p">(</span><span class="n">total</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">,</span><span class="w"> </span><span class="n">tasaImpuesto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.21</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-101" name="__codelineno-12-101" href="#__codelineno-12-101"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tasaImpuesto</span>
<a id="__codelineno-12-102" name="__codelineno-12-102" href="#__codelineno-12-102"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-103" name="__codelineno-12-103" href="#__codelineno-12-103"></a><span class="p">}</span>
<a id="__codelineno-12-104" name="__codelineno-12-104" href="#__codelineno-12-104"></a>
<a id="__codelineno-12-105" name="__codelineno-12-105" href="#__codelineno-12-105"></a><span class="c1">// 4. Procesamiento de pagos</span>
<a id="__codelineno-12-106" name="__codelineno-12-106" href="#__codelineno-12-106"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioPagos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-107" name="__codelineno-12-107" href="#__codelineno-12-107"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesar</span><span class="p">(</span><span class="n">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente</span><span class="p">,</span><span class="w"> </span><span class="n">monto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="n">ResultadoPago</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-108" name="__codelineno-12-108" href="#__codelineno-12-108"></a><span class="w">        </span><span class="c1">// Lógica de integración con pasarela de pago</span>
<a id="__codelineno-12-109" name="__codelineno-12-109" href="#__codelineno-12-109"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Procesando pago de </span><span class="si">$</span><span class="n">monto</span><span class="s"> para </span><span class="si">${</span><span class="n">cliente</span><span class="p">.</span><span class="na">nombre</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-110" name="__codelineno-12-110" href="#__codelineno-12-110"></a>
<a id="__codelineno-12-111" name="__codelineno-12-111" href="#__codelineno-12-111"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">monto</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-112" name="__codelineno-12-112" href="#__codelineno-12-112"></a><span class="w">            </span><span class="n">ResultadoPago</span><span class="p">.</span><span class="na">Aprobado</span><span class="p">(</span><span class="s">&quot;TX-</span><span class="si">${</span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-113" name="__codelineno-12-113" href="#__codelineno-12-113"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-114" name="__codelineno-12-114" href="#__codelineno-12-114"></a><span class="w">            </span><span class="n">ResultadoPago</span><span class="p">.</span><span class="na">Rechazado</span><span class="p">(</span><span class="s">&quot;Monto inválido&quot;</span><span class="p">)</span>
<a id="__codelineno-12-115" name="__codelineno-12-115" href="#__codelineno-12-115"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-116" name="__codelineno-12-116" href="#__codelineno-12-116"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-117" name="__codelineno-12-117" href="#__codelineno-12-117"></a><span class="p">}</span>
<a id="__codelineno-12-118" name="__codelineno-12-118" href="#__codelineno-12-118"></a>
<a id="__codelineno-12-119" name="__codelineno-12-119" href="#__codelineno-12-119"></a><span class="kd">sealed</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ResultadoPago</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-120" name="__codelineno-12-120" href="#__codelineno-12-120"></a><span class="w">    </span><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Aprobado</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">transaccionId</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ResultadoPago</span><span class="p">()</span>
<a id="__codelineno-12-121" name="__codelineno-12-121" href="#__codelineno-12-121"></a><span class="w">    </span><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Rechazado</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">razon</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ResultadoPago</span><span class="p">()</span>
<a id="__codelineno-12-122" name="__codelineno-12-122" href="#__codelineno-12-122"></a><span class="p">}</span>
<a id="__codelineno-12-123" name="__codelineno-12-123" href="#__codelineno-12-123"></a>
<a id="__codelineno-12-124" name="__codelineno-12-124" href="#__codelineno-12-124"></a><span class="c1">// 5. Notificaciones</span>
<a id="__codelineno-12-125" name="__codelineno-12-125" href="#__codelineno-12-125"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioNotificaciones</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-126" name="__codelineno-12-126" href="#__codelineno-12-126"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarConfirmacionPedido</span><span class="p">(</span><span class="n">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente</span><span class="p">,</span><span class="w"> </span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-127" name="__codelineno-12-127" href="#__codelineno-12-127"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Enviando confirmación a </span><span class="si">${</span><span class="n">cliente</span><span class="p">.</span><span class="na">email</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-128" name="__codelineno-12-128" href="#__codelineno-12-128"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Detalles del pedido: </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">id</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-129" name="__codelineno-12-129" href="#__codelineno-12-129"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-130" name="__codelineno-12-130" href="#__codelineno-12-130"></a>
<a id="__codelineno-12-131" name="__codelineno-12-131" href="#__codelineno-12-131"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarNotificacionPagoRechazado</span><span class="p">(</span><span class="n">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente</span><span class="p">,</span><span class="w"> </span><span class="n">razon</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-132" name="__codelineno-12-132" href="#__codelineno-12-132"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Notificando rechazo de pago a </span><span class="si">${</span><span class="n">cliente</span><span class="p">.</span><span class="na">email</span><span class="si">}</span><span class="s">: </span><span class="si">$</span><span class="n">razon</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-133" name="__codelineno-12-133" href="#__codelineno-12-133"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-134" name="__codelineno-12-134" href="#__codelineno-12-134"></a><span class="p">}</span>
<a id="__codelineno-12-135" name="__codelineno-12-135" href="#__codelineno-12-135"></a>
<a id="__codelineno-12-136" name="__codelineno-12-136" href="#__codelineno-12-136"></a><span class="c1">// 6. Auditoría</span>
<a id="__codelineno-12-137" name="__codelineno-12-137" href="#__codelineno-12-137"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioAuditoria</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-138" name="__codelineno-12-138" href="#__codelineno-12-138"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarPedidoProcesado</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">,</span><span class="w"> </span><span class="n">resultado</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-139" name="__codelineno-12-139" href="#__codelineno-12-139"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;[AUDITORIA] Pedido </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">id</span><span class="si">}</span><span class="s">: </span><span class="si">$</span><span class="n">resultado</span><span class="s"> - </span><span class="si">${</span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">()</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-140" name="__codelineno-12-140" href="#__codelineno-12-140"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-141" name="__codelineno-12-141" href="#__codelineno-12-141"></a><span class="p">}</span>
<a id="__codelineno-12-142" name="__codelineno-12-142" href="#__codelineno-12-142"></a>
<a id="__codelineno-12-143" name="__codelineno-12-143" href="#__codelineno-12-143"></a><span class="c1">// 7. Orquestador - Coordina el flujo usando componentes cohesivos</span>
<a id="__codelineno-12-144" name="__codelineno-12-144" href="#__codelineno-12-144"></a><span class="kd">class</span><span class="w"> </span><span class="nc">OrquestadorPedidos</span><span class="p">(</span>
<a id="__codelineno-12-145" name="__codelineno-12-145" href="#__codelineno-12-145"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">validador</span><span class="p">:</span><span class="w"> </span><span class="n">ValidadorPedido</span><span class="p">,</span>
<a id="__codelineno-12-146" name="__codelineno-12-146" href="#__codelineno-12-146"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">gestorInventario</span><span class="p">:</span><span class="w"> </span><span class="n">GestorInventario</span><span class="p">,</span>
<a id="__codelineno-12-147" name="__codelineno-12-147" href="#__codelineno-12-147"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">calculadora</span><span class="p">:</span><span class="w"> </span><span class="n">CalculadoraPrecios</span><span class="p">,</span>
<a id="__codelineno-12-148" name="__codelineno-12-148" href="#__codelineno-12-148"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">servicioPagos</span><span class="p">:</span><span class="w"> </span><span class="n">ServicioPagos</span><span class="p">,</span>
<a id="__codelineno-12-149" name="__codelineno-12-149" href="#__codelineno-12-149"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">notificaciones</span><span class="p">:</span><span class="w"> </span><span class="n">ServicioNotificaciones</span><span class="p">,</span>
<a id="__codelineno-12-150" name="__codelineno-12-150" href="#__codelineno-12-150"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">auditoria</span><span class="p">:</span><span class="w"> </span><span class="n">ServicioAuditoria</span>
<a id="__codelineno-12-151" name="__codelineno-12-151" href="#__codelineno-12-151"></a><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-152" name="__codelineno-12-152" href="#__codelineno-12-152"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesarPedido</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">):</span><span class="w"> </span><span class="n">ResultadoProcesamiento</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-153" name="__codelineno-12-153" href="#__codelineno-12-153"></a><span class="w">        </span><span class="c1">// Paso 1: Validar</span>
<a id="__codelineno-12-154" name="__codelineno-12-154" href="#__codelineno-12-154"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">validacionCliente</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validador</span><span class="p">.</span><span class="na">validarCliente</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">cliente</span><span class="p">)</span>
<a id="__codelineno-12-155" name="__codelineno-12-155" href="#__codelineno-12-155"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">validacionCliente</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Fallido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-156" name="__codelineno-12-156" href="#__codelineno-12-156"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResultadoProcesamiento</span><span class="p">.</span><span class="na">Error</span><span class="p">(</span><span class="s">&quot;Validación fallida: </span><span class="si">${</span><span class="n">validacionCliente</span><span class="p">.</span><span class="na">errores</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-157" name="__codelineno-12-157" href="#__codelineno-12-157"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-158" name="__codelineno-12-158" href="#__codelineno-12-158"></a>
<a id="__codelineno-12-159" name="__codelineno-12-159" href="#__codelineno-12-159"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">validacionItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validador</span><span class="p">.</span><span class="na">validarItems</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">items</span><span class="p">)</span>
<a id="__codelineno-12-160" name="__codelineno-12-160" href="#__codelineno-12-160"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">validacionItems</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Fallido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-161" name="__codelineno-12-161" href="#__codelineno-12-161"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResultadoProcesamiento</span><span class="p">.</span><span class="na">Error</span><span class="p">(</span><span class="s">&quot;Items inválidos: </span><span class="si">${</span><span class="n">validacionItems</span><span class="p">.</span><span class="na">errores</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-162" name="__codelineno-12-162" href="#__codelineno-12-162"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-163" name="__codelineno-12-163" href="#__codelineno-12-163"></a>
<a id="__codelineno-12-164" name="__codelineno-12-164" href="#__codelineno-12-164"></a><span class="w">        </span><span class="c1">// Paso 2: Verificar stock</span>
<a id="__codelineno-12-165" name="__codelineno-12-165" href="#__codelineno-12-165"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">disponibilidad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gestorInventario</span><span class="p">.</span><span class="na">verificarDisponibilidad</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">items</span><span class="p">)</span>
<a id="__codelineno-12-166" name="__codelineno-12-166" href="#__codelineno-12-166"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">disponibilidad</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">ResultadoDisponibilidad</span><span class="p">.</span><span class="na">NoDisponible</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-167" name="__codelineno-12-167" href="#__codelineno-12-167"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResultadoProcesamiento</span><span class="p">.</span><span class="na">Error</span><span class="p">(</span><span class="s">&quot;Productos no disponibles: </span><span class="si">${</span><span class="n">disponibilidad</span><span class="p">.</span><span class="na">productos</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-168" name="__codelineno-12-168" href="#__codelineno-12-168"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-169" name="__codelineno-12-169" href="#__codelineno-12-169"></a>
<a id="__codelineno-12-170" name="__codelineno-12-170" href="#__codelineno-12-170"></a><span class="w">        </span><span class="c1">// Paso 3: Calcular total</span>
<a id="__codelineno-12-171" name="__codelineno-12-171" href="#__codelineno-12-171"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculadora</span><span class="p">.</span><span class="na">calcularTotalPedido</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">items</span><span class="p">)</span>
<a id="__codelineno-12-172" name="__codelineno-12-172" href="#__codelineno-12-172"></a>
<a id="__codelineno-12-173" name="__codelineno-12-173" href="#__codelineno-12-173"></a><span class="w">        </span><span class="c1">// Paso 4: Procesar pago</span>
<a id="__codelineno-12-174" name="__codelineno-12-174" href="#__codelineno-12-174"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">resultadoPago</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">servicioPagos</span><span class="p">.</span><span class="na">procesar</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">cliente</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="p">)</span>
<a id="__codelineno-12-175" name="__codelineno-12-175" href="#__codelineno-12-175"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">resultadoPago</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">ResultadoPago</span><span class="p">.</span><span class="na">Rechazado</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-176" name="__codelineno-12-176" href="#__codelineno-12-176"></a><span class="w">            </span><span class="n">notificaciones</span><span class="p">.</span><span class="na">enviarNotificacionPagoRechazado</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">cliente</span><span class="p">,</span><span class="w"> </span><span class="n">resultadoPago</span><span class="p">.</span><span class="na">razon</span><span class="p">)</span>
<a id="__codelineno-12-177" name="__codelineno-12-177" href="#__codelineno-12-177"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">ResultadoProcesamiento</span><span class="p">.</span><span class="na">Error</span><span class="p">(</span><span class="s">&quot;Pago rechazado: </span><span class="si">${</span><span class="n">resultadoPago</span><span class="p">.</span><span class="na">razon</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-12-178" name="__codelineno-12-178" href="#__codelineno-12-178"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-12-179" name="__codelineno-12-179" href="#__codelineno-12-179"></a>
<a id="__codelineno-12-180" name="__codelineno-12-180" href="#__codelineno-12-180"></a><span class="w">        </span><span class="c1">// Paso 5: Reservar inventario</span>
<a id="__codelineno-12-181" name="__codelineno-12-181" href="#__codelineno-12-181"></a><span class="w">        </span><span class="n">gestorInventario</span><span class="p">.</span><span class="na">reservar</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">items</span><span class="p">)</span>
<a id="__codelineno-12-182" name="__codelineno-12-182" href="#__codelineno-12-182"></a>
<a id="__codelineno-12-183" name="__codelineno-12-183" href="#__codelineno-12-183"></a><span class="w">        </span><span class="c1">// Paso 6: Notificar</span>
<a id="__codelineno-12-184" name="__codelineno-12-184" href="#__codelineno-12-184"></a><span class="w">        </span><span class="n">notificaciones</span><span class="p">.</span><span class="na">enviarConfirmacionPedido</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">cliente</span><span class="p">,</span><span class="w"> </span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-12-185" name="__codelineno-12-185" href="#__codelineno-12-185"></a>
<a id="__codelineno-12-186" name="__codelineno-12-186" href="#__codelineno-12-186"></a><span class="w">        </span><span class="c1">// Paso 7: Auditar</span>
<a id="__codelineno-12-187" name="__codelineno-12-187" href="#__codelineno-12-187"></a><span class="w">        </span><span class="n">auditoria</span><span class="p">.</span><span class="na">registrarPedidoProcesado</span><span class="p">(</span><span class="n">pedido</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;EXITOSO&quot;</span><span class="p">)</span>
<a id="__codelineno-12-188" name="__codelineno-12-188" href="#__codelineno-12-188"></a>
<a id="__codelineno-12-189" name="__codelineno-12-189" href="#__codelineno-12-189"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ResultadoProcesamiento</span><span class="p">.</span><span class="na">Exitoso</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">id</span><span class="p">)</span>
<a id="__codelineno-12-190" name="__codelineno-12-190" href="#__codelineno-12-190"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-12-191" name="__codelineno-12-191" href="#__codelineno-12-191"></a><span class="p">}</span>
<a id="__codelineno-12-192" name="__codelineno-12-192" href="#__codelineno-12-192"></a>
<a id="__codelineno-12-193" name="__codelineno-12-193" href="#__codelineno-12-193"></a><span class="kd">sealed</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ResultadoProcesamiento</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-194" name="__codelineno-12-194" href="#__codelineno-12-194"></a><span class="w">    </span><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Exitoso</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">pedidoId</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ResultadoProcesamiento</span><span class="p">()</span>
<a id="__codelineno-12-195" name="__codelineno-12-195" href="#__codelineno-12-195"></a><span class="w">    </span><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Error</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ResultadoProcesamiento</span><span class="p">()</span>
<a id="__codelineno-12-196" name="__codelineno-12-196" href="#__codelineno-12-196"></a><span class="p">}</span>
<a id="__codelineno-12-197" name="__codelineno-12-197" href="#__codelineno-12-197"></a>
<a id="__codelineno-12-198" name="__codelineno-12-198" href="#__codelineno-12-198"></a><span class="c1">// Uso</span>
<a id="__codelineno-12-199" name="__codelineno-12-199" href="#__codelineno-12-199"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-200" name="__codelineno-12-200" href="#__codelineno-12-200"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">orquestador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">OrquestadorPedidos</span><span class="p">(</span>
<a id="__codelineno-12-201" name="__codelineno-12-201" href="#__codelineno-12-201"></a><span class="w">        </span><span class="n">validador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ValidadorPedido</span><span class="p">(),</span>
<a id="__codelineno-12-202" name="__codelineno-12-202" href="#__codelineno-12-202"></a><span class="w">        </span><span class="n">gestorInventario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GestorInventario</span><span class="p">(),</span>
<a id="__codelineno-12-203" name="__codelineno-12-203" href="#__codelineno-12-203"></a><span class="w">        </span><span class="n">calculadora</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculadoraPrecios</span><span class="p">(),</span>
<a id="__codelineno-12-204" name="__codelineno-12-204" href="#__codelineno-12-204"></a><span class="w">        </span><span class="n">servicioPagos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioPagos</span><span class="p">(),</span>
<a id="__codelineno-12-205" name="__codelineno-12-205" href="#__codelineno-12-205"></a><span class="w">        </span><span class="n">notificaciones</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioNotificaciones</span><span class="p">(),</span>
<a id="__codelineno-12-206" name="__codelineno-12-206" href="#__codelineno-12-206"></a><span class="w">        </span><span class="n">auditoria</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioAuditoria</span><span class="p">()</span>
<a id="__codelineno-12-207" name="__codelineno-12-207" href="#__codelineno-12-207"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-12-208" name="__codelineno-12-208" href="#__codelineno-12-208"></a>
<a id="__codelineno-12-209" name="__codelineno-12-209" href="#__codelineno-12-209"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">pedido</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Pedido</span><span class="p">(</span>
<a id="__codelineno-12-210" name="__codelineno-12-210" href="#__codelineno-12-210"></a><span class="w">        </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;PED-001&quot;</span><span class="p">,</span>
<a id="__codelineno-12-211" name="__codelineno-12-211" href="#__codelineno-12-211"></a><span class="w">        </span><span class="n">cliente</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cliente</span><span class="p">(</span><span class="s">&quot;Juan Pérez&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;juan@example.com&quot;</span><span class="p">),</span>
<a id="__codelineno-12-212" name="__codelineno-12-212" href="#__codelineno-12-212"></a><span class="w">        </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span>
<a id="__codelineno-12-213" name="__codelineno-12-213" href="#__codelineno-12-213"></a><span class="w">            </span><span class="n">ItemPedido</span><span class="p">(</span><span class="s">&quot;PROD-1&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">50.0</span><span class="p">),</span>
<a id="__codelineno-12-214" name="__codelineno-12-214" href="#__codelineno-12-214"></a><span class="w">            </span><span class="n">ItemPedido</span><span class="p">(</span><span class="s">&quot;PROD-2&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">100.0</span><span class="p">)</span>
<a id="__codelineno-12-215" name="__codelineno-12-215" href="#__codelineno-12-215"></a><span class="w">        </span><span class="p">)</span>
<a id="__codelineno-12-216" name="__codelineno-12-216" href="#__codelineno-12-216"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-12-217" name="__codelineno-12-217" href="#__codelineno-12-217"></a>
<a id="__codelineno-12-218" name="__codelineno-12-218" href="#__codelineno-12-218"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">resultado</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">orquestador</span><span class="p">.</span><span class="na">procesarPedido</span><span class="p">(</span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-12-219" name="__codelineno-12-219" href="#__codelineno-12-219"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">resultado</span><span class="p">)</span>
<a id="__codelineno-12-220" name="__codelineno-12-220" href="#__codelineno-12-220"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios de la refactorización</strong>:</p>
<ul>
<li>Cada clase tiene cohesión funcional</li>
<li><abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> independiente de cada componente</li>
<li>Fácil de reutilizar (por ejemplo, CalculadoraPrecios en otros contextos)</li>
<li>Cambios localizados (cambiar cálculo de precios no afecta validación)</li>
<li>Respeta SRP y Open/Closed Principle</li>
</ul>
<h5 id="225-cohesion-comunicacional-nivel-5-media">2.2.5. Cohesión Comunicacional (Nivel 5 - 🟢 Media)<a class="headerlink" href="#225-cohesion-comunicacional-nivel-5-media" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Los elementos están relacionados porque trabajan con el <strong>mismo conjunto de datos</strong> (misma entrada y/o salida), aunque realizan operaciones diferentes sobre esos datos.</p>
<p><strong>Características</strong>:
- Todos los elementos acceden a las mismas estructuras de datos
- Realizan operaciones diferentes sobre los mismos datos
- Mejor que cohesión procedimental, pero aún no ideal
- Puede indicar que falta una abstracción</p>
<p><strong>Ejemplo típico</strong>: Clase que hace múltiples operaciones sobre los mismos datos</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="c1">// ⚠️ COHESIÓN COMUNICACIONAL - Operaciones diferentes sobre los mismos datos</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ProcesadorArchivo</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesarArchivo</span><span class="p">(</span><span class="n">nombreArchivo</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">contenido</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">leerArchivo</span><span class="p">(</span><span class="n">nombreArchivo</span><span class="p">)</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">        </span><span class="c1">// Operación 1: Contar líneas</span>
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">numLineas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contarLineas</span><span class="p">(</span><span class="n">contenido</span><span class="p">)</span>
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Líneas: </span><span class="si">$</span><span class="n">numLineas</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">        </span><span class="c1">// Operación 2: Contar palabras</span>
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">numPalabras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contarPalabras</span><span class="p">(</span><span class="n">contenido</span><span class="p">)</span>
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Palabras: </span><span class="si">$</span><span class="n">numPalabras</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-13-13" name="__codelineno-13-13" href="#__codelineno-13-13"></a>
<a id="__codelineno-13-14" name="__codelineno-13-14" href="#__codelineno-13-14"></a><span class="w">        </span><span class="c1">// Operación 3: Buscar patrón</span>
<a id="__codelineno-13-15" name="__codelineno-13-15" href="#__codelineno-13-15"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">coincidencias</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buscarPatron</span><span class="p">(</span><span class="n">contenido</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;error&quot;</span><span class="p">)</span>
<a id="__codelineno-13-16" name="__codelineno-13-16" href="#__codelineno-13-16"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Coincidencias: </span><span class="si">$</span><span class="n">coincidencias</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-13-17" name="__codelineno-13-17" href="#__codelineno-13-17"></a>
<a id="__codelineno-13-18" name="__codelineno-13-18" href="#__codelineno-13-18"></a><span class="w">        </span><span class="c1">// Operación 4: Calcular estadísticas</span>
<a id="__codelineno-13-19" name="__codelineno-13-19" href="#__codelineno-13-19"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">estadisticas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calcularEstadisticas</span><span class="p">(</span><span class="n">contenido</span><span class="p">)</span>
<a id="__codelineno-13-20" name="__codelineno-13-20" href="#__codelineno-13-20"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Estadísticas: </span><span class="si">$</span><span class="n">estadisticas</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-13-21" name="__codelineno-13-21" href="#__codelineno-13-21"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-22" name="__codelineno-13-22" href="#__codelineno-13-22"></a>
<a id="__codelineno-13-23" name="__codelineno-13-23" href="#__codelineno-13-23"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">leerArchivo</span><span class="p">(</span><span class="n">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-24" name="__codelineno-13-24" href="#__codelineno-13-24"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Contenido del archivo de ejemplo con algunas palabras&quot;</span>
<a id="__codelineno-13-25" name="__codelineno-13-25" href="#__codelineno-13-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-26" name="__codelineno-13-26" href="#__codelineno-13-26"></a>
<a id="__codelineno-13-27" name="__codelineno-13-27" href="#__codelineno-13-27"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">contarLineas</span><span class="p">(</span><span class="n">contenido</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-28" name="__codelineno-13-28" href="#__codelineno-13-28"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">contenido</span><span class="p">.</span><span class="na">lines</span><span class="p">().</span><span class="na">size</span>
<a id="__codelineno-13-29" name="__codelineno-13-29" href="#__codelineno-13-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-30" name="__codelineno-13-30" href="#__codelineno-13-30"></a>
<a id="__codelineno-13-31" name="__codelineno-13-31" href="#__codelineno-13-31"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">contarPalabras</span><span class="p">(</span><span class="n">contenido</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-32" name="__codelineno-13-32" href="#__codelineno-13-32"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">contenido</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;\\s+&quot;</span><span class="p">)).</span><span class="na">size</span>
<a id="__codelineno-13-33" name="__codelineno-13-33" href="#__codelineno-13-33"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-34" name="__codelineno-13-34" href="#__codelineno-13-34"></a>
<a id="__codelineno-13-35" name="__codelineno-13-35" href="#__codelineno-13-35"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarPatron</span><span class="p">(</span><span class="n">contenido</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">patron</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-36" name="__codelineno-13-36" href="#__codelineno-13-36"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Regex</span><span class="p">(</span><span class="n">patron</span><span class="p">).</span><span class="na">findAll</span><span class="p">(</span><span class="n">contenido</span><span class="p">).</span><span class="na">count</span><span class="p">()</span>
<a id="__codelineno-13-37" name="__codelineno-13-37" href="#__codelineno-13-37"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-38" name="__codelineno-13-38" href="#__codelineno-13-38"></a>
<a id="__codelineno-13-39" name="__codelineno-13-39" href="#__codelineno-13-39"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularEstadisticas</span><span class="p">(</span><span class="n">contenido</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-13-40" name="__codelineno-13-40" href="#__codelineno-13-40"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">caracteres</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contenido</span><span class="p">.</span><span class="na">length</span>
<a id="__codelineno-13-41" name="__codelineno-13-41" href="#__codelineno-13-41"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">lineas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contarLineas</span><span class="p">(</span><span class="n">contenido</span><span class="p">)</span>
<a id="__codelineno-13-42" name="__codelineno-13-42" href="#__codelineno-13-42"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">palabras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contarPalabras</span><span class="p">(</span><span class="n">contenido</span><span class="p">)</span>
<a id="__codelineno-13-43" name="__codelineno-13-43" href="#__codelineno-13-43"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Chars: </span><span class="si">$</span><span class="n">caracteres</span><span class="s">, Líneas: </span><span class="si">$</span><span class="n">lineas</span><span class="s">, Palabras: </span><span class="si">$</span><span class="n">palabras</span><span class="s">&quot;</span>
<a id="__codelineno-13-44" name="__codelineno-13-44" href="#__codelineno-13-44"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-13-45" name="__codelineno-13-45" href="#__codelineno-13-45"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Problemas</strong>:</p>
<ul>
<li><code>procesarArchivo</code> hace demasiadas cosas no relacionadas</li>
<li>Difícil de extender (agregar nueva operación requiere modificar la clase)</li>
<li>No puedes usar una operación sin las otras</li>
<li><abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> complejo</li>
</ul>
<p><strong>Solución - Separar operaciones en clases especializadas</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="c1">// Alta cohesión - Cada analizador tiene su propósito específico</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="c1">// 1. Abstracción base para análisis</span>
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">AnalizadorTexto</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">analizar</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Any</span>
<a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="p">}</span>
<a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a>
<a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="c1">// 2. Contador de líneas</span>
<a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ContadorLineas</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">AnalizadorTexto</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">analizar</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">texto</span><span class="p">.</span><span class="na">lines</span><span class="p">().</span><span class="na">size</span>
<a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a>
<a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">contarLineasNoVacias</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">texto</span><span class="p">.</span><span class="na">lines</span><span class="p">().</span><span class="na">count</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">isNotBlank</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="p">}</span>
<a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a>
<a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="c1">// 3. Contador de palabras</span>
<a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ContadorPalabras</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">AnalizadorTexto</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">analizar</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">texto</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;\\s+&quot;</span><span class="p">)).</span><span class="na">size</span>
<a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a>
<a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">contarPalabrasUnicas</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">texto</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;\\s+&quot;</span><span class="p">)).</span><span class="na">distinct</span><span class="p">().</span><span class="na">size</span>
<a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a>
<a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtenerPalabrasUnicas</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Set</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">texto</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;\\s+&quot;</span><span class="p">)).</span><span class="na">toSet</span><span class="p">()</span>
<a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a><span class="p">}</span>
<a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a>
<a id="__codelineno-14-34" name="__codelineno-14-34" href="#__codelineno-14-34"></a><span class="c1">// 4. Buscador de patrones</span>
<a id="__codelineno-14-35" name="__codelineno-14-35" href="#__codelineno-14-35"></a><span class="kd">class</span><span class="w"> </span><span class="nc">BuscadorPatrones</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">AnalizadorTexto</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-36" name="__codelineno-14-36" href="#__codelineno-14-36"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">analizar</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-37" name="__codelineno-14-37" href="#__codelineno-14-37"></a><span class="w">        </span><span class="c1">// Por defecto busca patrones comunes</span>
<a id="__codelineno-14-38" name="__codelineno-14-38" href="#__codelineno-14-38"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">buscarMultiples</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="s">&quot;error&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;warning&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;info&quot;</span><span class="p">))</span>
<a id="__codelineno-14-39" name="__codelineno-14-39" href="#__codelineno-14-39"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-40" name="__codelineno-14-40" href="#__codelineno-14-40"></a>
<a id="__codelineno-14-41" name="__codelineno-14-41" href="#__codelineno-14-41"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscar</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">patron</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-42" name="__codelineno-14-42" href="#__codelineno-14-42"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Regex</span><span class="p">(</span><span class="n">patron</span><span class="p">,</span><span class="w"> </span><span class="n">RegexOption</span><span class="p">.</span><span class="na">IGNORE_CASE</span><span class="p">).</span><span class="na">findAll</span><span class="p">(</span><span class="n">texto</span><span class="p">).</span><span class="na">count</span><span class="p">()</span>
<a id="__codelineno-14-43" name="__codelineno-14-43" href="#__codelineno-14-43"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-44" name="__codelineno-14-44" href="#__codelineno-14-44"></a>
<a id="__codelineno-14-45" name="__codelineno-14-45" href="#__codelineno-14-45"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarMultiples</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">patrones</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">Map</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-46" name="__codelineno-14-46" href="#__codelineno-14-46"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">patrones</span><span class="p">.</span><span class="na">associateWith</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">patron</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-14-47" name="__codelineno-14-47" href="#__codelineno-14-47"></a><span class="w">            </span><span class="n">buscar</span><span class="p">(</span><span class="n">texto</span><span class="p">,</span><span class="w"> </span><span class="n">patron</span><span class="p">)</span>
<a id="__codelineno-14-48" name="__codelineno-14-48" href="#__codelineno-14-48"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-14-49" name="__codelineno-14-49" href="#__codelineno-14-49"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-50" name="__codelineno-14-50" href="#__codelineno-14-50"></a>
<a id="__codelineno-14-51" name="__codelineno-14-51" href="#__codelineno-14-51"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">encontrarOcurrencias</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">patron</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-52" name="__codelineno-14-52" href="#__codelineno-14-52"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Regex</span><span class="p">(</span><span class="n">patron</span><span class="p">,</span><span class="w"> </span><span class="n">RegexOption</span><span class="p">.</span><span class="na">IGNORE_CASE</span><span class="p">)</span>
<a id="__codelineno-14-53" name="__codelineno-14-53" href="#__codelineno-14-53"></a><span class="w">            </span><span class="p">.</span><span class="na">findAll</span><span class="p">(</span><span class="n">texto</span><span class="p">)</span>
<a id="__codelineno-14-54" name="__codelineno-14-54" href="#__codelineno-14-54"></a><span class="w">            </span><span class="p">.</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-14-55" name="__codelineno-14-55" href="#__codelineno-14-55"></a><span class="w">            </span><span class="p">.</span><span class="na">toList</span><span class="p">()</span>
<a id="__codelineno-14-56" name="__codelineno-14-56" href="#__codelineno-14-56"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-57" name="__codelineno-14-57" href="#__codelineno-14-57"></a><span class="p">}</span>
<a id="__codelineno-14-58" name="__codelineno-14-58" href="#__codelineno-14-58"></a>
<a id="__codelineno-14-59" name="__codelineno-14-59" href="#__codelineno-14-59"></a><span class="c1">// 5. Calculador de estadísticas</span>
<a id="__codelineno-14-60" name="__codelineno-14-60" href="#__codelineno-14-60"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CalculadorEstadisticas</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-61" name="__codelineno-14-61" href="#__codelineno-14-61"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcular</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Estadisticas</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-62" name="__codelineno-14-62" href="#__codelineno-14-62"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">contadorLineas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ContadorLineas</span><span class="p">()</span>
<a id="__codelineno-14-63" name="__codelineno-14-63" href="#__codelineno-14-63"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">contadorPalabras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ContadorPalabras</span><span class="p">()</span>
<a id="__codelineno-14-64" name="__codelineno-14-64" href="#__codelineno-14-64"></a>
<a id="__codelineno-14-65" name="__codelineno-14-65" href="#__codelineno-14-65"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Estadisticas</span><span class="p">(</span>
<a id="__codelineno-14-66" name="__codelineno-14-66" href="#__codelineno-14-66"></a><span class="w">            </span><span class="n">caracteres</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">texto</span><span class="p">.</span><span class="na">length</span><span class="p">,</span>
<a id="__codelineno-14-67" name="__codelineno-14-67" href="#__codelineno-14-67"></a><span class="w">            </span><span class="n">lineas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contadorLineas</span><span class="p">.</span><span class="na">analizar</span><span class="p">(</span><span class="n">texto</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span>
<a id="__codelineno-14-68" name="__codelineno-14-68" href="#__codelineno-14-68"></a><span class="w">            </span><span class="n">lineasNoVacias</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contadorLineas</span><span class="p">.</span><span class="na">contarLineasNoVacias</span><span class="p">(</span><span class="n">texto</span><span class="p">),</span>
<a id="__codelineno-14-69" name="__codelineno-14-69" href="#__codelineno-14-69"></a><span class="w">            </span><span class="n">palabras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contadorPalabras</span><span class="p">.</span><span class="na">analizar</span><span class="p">(</span><span class="n">texto</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span>
<a id="__codelineno-14-70" name="__codelineno-14-70" href="#__codelineno-14-70"></a><span class="w">            </span><span class="n">palabrasUnicas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contadorPalabras</span><span class="p">.</span><span class="na">contarPalabrasUnicas</span><span class="p">(</span><span class="n">texto</span><span class="p">)</span>
<a id="__codelineno-14-71" name="__codelineno-14-71" href="#__codelineno-14-71"></a><span class="w">        </span><span class="p">)</span>
<a id="__codelineno-14-72" name="__codelineno-14-72" href="#__codelineno-14-72"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-73" name="__codelineno-14-73" href="#__codelineno-14-73"></a><span class="p">}</span>
<a id="__codelineno-14-74" name="__codelineno-14-74" href="#__codelineno-14-74"></a>
<a id="__codelineno-14-75" name="__codelineno-14-75" href="#__codelineno-14-75"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Estadisticas</span><span class="p">(</span>
<a id="__codelineno-14-76" name="__codelineno-14-76" href="#__codelineno-14-76"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">caracteres</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span>
<a id="__codelineno-14-77" name="__codelineno-14-77" href="#__codelineno-14-77"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">lineas</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span>
<a id="__codelineno-14-78" name="__codelineno-14-78" href="#__codelineno-14-78"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">lineasNoVacias</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span>
<a id="__codelineno-14-79" name="__codelineno-14-79" href="#__codelineno-14-79"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">palabras</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span>
<a id="__codelineno-14-80" name="__codelineno-14-80" href="#__codelineno-14-80"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">palabrasUnicas</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span>
<a id="__codelineno-14-81" name="__codelineno-14-81" href="#__codelineno-14-81"></a><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-82" name="__codelineno-14-82" href="#__codelineno-14-82"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">toString</span><span class="p">():</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-83" name="__codelineno-14-83" href="#__codelineno-14-83"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<a id="__codelineno-14-84" name="__codelineno-14-84" href="#__codelineno-14-84"></a><span class="s">            |Estadísticas del texto:</span>
<a id="__codelineno-14-85" name="__codelineno-14-85" href="#__codelineno-14-85"></a><span class="s">            |  Caracteres: </span><span class="si">$</span><span class="n">caracteres</span>
<a id="__codelineno-14-86" name="__codelineno-14-86" href="#__codelineno-14-86"></a><span class="s">            |  Líneas: </span><span class="si">$</span><span class="n">lineas</span><span class="s"> (no vacías: </span><span class="si">$</span><span class="n">lineasNoVacias</span><span class="s">)</span>
<a id="__codelineno-14-87" name="__codelineno-14-87" href="#__codelineno-14-87"></a><span class="s">            |  Palabras: </span><span class="si">$</span><span class="n">palabras</span><span class="s"> (únicas: </span><span class="si">$</span><span class="n">palabrasUnicas</span><span class="s">)</span>
<a id="__codelineno-14-88" name="__codelineno-14-88" href="#__codelineno-14-88"></a><span class="s">        &quot;&quot;&quot;</span><span class="p">.</span><span class="na">trimMargin</span><span class="p">()</span>
<a id="__codelineno-14-89" name="__codelineno-14-89" href="#__codelineno-14-89"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-90" name="__codelineno-14-90" href="#__codelineno-14-90"></a><span class="p">}</span>
<a id="__codelineno-14-91" name="__codelineno-14-91" href="#__codelineno-14-91"></a>
<a id="__codelineno-14-92" name="__codelineno-14-92" href="#__codelineno-14-92"></a><span class="c1">// 6. Lector de archivos (responsabilidad única: I/O)</span>
<a id="__codelineno-14-93" name="__codelineno-14-93" href="#__codelineno-14-93"></a><span class="kd">class</span><span class="w"> </span><span class="nc">LectorArchivos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-94" name="__codelineno-14-94" href="#__codelineno-14-94"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">leer</span><span class="p">(</span><span class="n">nombreArchivo</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-95" name="__codelineno-14-95" href="#__codelineno-14-95"></a><span class="w">        </span><span class="c1">// En producción: java.io.File(nombreArchivo).readText()</span>
<a id="__codelineno-14-96" name="__codelineno-14-96" href="#__codelineno-14-96"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Contenido del archivo de ejemplo con error y warning&quot;</span>
<a id="__codelineno-14-97" name="__codelineno-14-97" href="#__codelineno-14-97"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-14-98" name="__codelineno-14-98" href="#__codelineno-14-98"></a><span class="p">}</span>
<a id="__codelineno-14-99" name="__codelineno-14-99" href="#__codelineno-14-99"></a>
<a id="__codelineno-14-100" name="__codelineno-14-100" href="#__codelineno-14-100"></a><span class="c1">// 7. Uso composicional - cada herramienta independiente</span>
<a id="__codelineno-14-101" name="__codelineno-14-101" href="#__codelineno-14-101"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-14-102" name="__codelineno-14-102" href="#__codelineno-14-102"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">lector</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LectorArchivos</span><span class="p">()</span>
<a id="__codelineno-14-103" name="__codelineno-14-103" href="#__codelineno-14-103"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">contenido</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lector</span><span class="p">.</span><span class="na">leer</span><span class="p">(</span><span class="s">&quot;archivo.txt&quot;</span><span class="p">)</span>
<a id="__codelineno-14-104" name="__codelineno-14-104" href="#__codelineno-14-104"></a>
<a id="__codelineno-14-105" name="__codelineno-14-105" href="#__codelineno-14-105"></a><span class="w">    </span><span class="c1">// Usar solo lo que necesitas</span>
<a id="__codelineno-14-106" name="__codelineno-14-106" href="#__codelineno-14-106"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">contadorLineas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ContadorLineas</span><span class="p">()</span>
<a id="__codelineno-14-107" name="__codelineno-14-107" href="#__codelineno-14-107"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Líneas: </span><span class="si">${</span><span class="n">contadorLineas</span><span class="p">.</span><span class="na">analizar</span><span class="p">(</span><span class="n">contenido</span><span class="p">)</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-14-108" name="__codelineno-14-108" href="#__codelineno-14-108"></a>
<a id="__codelineno-14-109" name="__codelineno-14-109" href="#__codelineno-14-109"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">contadorPalabras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ContadorPalabras</span><span class="p">()</span>
<a id="__codelineno-14-110" name="__codelineno-14-110" href="#__codelineno-14-110"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Palabras: </span><span class="si">${</span><span class="n">contadorPalabras</span><span class="p">.</span><span class="na">analizar</span><span class="p">(</span><span class="n">contenido</span><span class="p">)</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-14-111" name="__codelineno-14-111" href="#__codelineno-14-111"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Palabras únicas: </span><span class="si">${</span><span class="n">contadorPalabras</span><span class="p">.</span><span class="na">contarPalabrasUnicas</span><span class="p">(</span><span class="n">contenido</span><span class="p">)</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-14-112" name="__codelineno-14-112" href="#__codelineno-14-112"></a>
<a id="__codelineno-14-113" name="__codelineno-14-113" href="#__codelineno-14-113"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">buscador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BuscadorPatrones</span><span class="p">()</span>
<a id="__codelineno-14-114" name="__codelineno-14-114" href="#__codelineno-14-114"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Errores encontrados: </span><span class="si">${</span><span class="n">buscador</span><span class="p">.</span><span class="na">buscar</span><span class="p">(</span><span class="n">contenido</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;</span><span class="n">error</span><span class="s">&quot;</span><span class="p">)</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-14-115" name="__codelineno-14-115" href="#__codelineno-14-115"></a>
<a id="__codelineno-14-116" name="__codelineno-14-116" href="#__codelineno-14-116"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">calculador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculadorEstadisticas</span><span class="p">()</span>
<a id="__codelineno-14-117" name="__codelineno-14-117" href="#__codelineno-14-117"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">calculador</span><span class="p">.</span><span class="na">calcular</span><span class="p">(</span><span class="n">contenido</span><span class="p">))</span>
<a id="__codelineno-14-118" name="__codelineno-14-118" href="#__codelineno-14-118"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios</strong>:</p>
<ul>
<li>Cada clase es independiente y reutilizable</li>
<li><abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> simple (una funcionalidad a la vez)</li>
<li>Fácil de extender (nuevo análisis = nueva clase)</li>
<li>Puedes componer análisis según necesites</li>
</ul>
<h5 id="226-cohesion-secuencial-nivel-6-alta">2.2.6. Cohesión Secuencial (Nivel 6 - 🔵 Alta)<a class="headerlink" href="#226-cohesion-secuencial-nivel-6-alta" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Los elementos están relacionados porque la <strong>salida de uno es la entrada del siguiente</strong>, formando una cadena de procesamiento donde los datos fluyen naturalmente de un paso al otro.</p>
<p><strong>Características</strong>:
- Pipeline de transformaciones
- Cada función toma el resultado de la anterior
- Flujo de datos claro y unidireccional
- Alta cohesión, buen diseño</p>
<p><strong>Ejemplo</strong>: Pipeline de procesamiento de imágenes</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="c1">// COHESIÓN SECUENCIAL - Transformaciones encadenadas</span>
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ProcesadorImagen</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">ruta</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span>
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">    </span><span class="k">constructor</span><span class="p">(</span><span class="n">ruta</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">ruta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ruta</span>
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>
<a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w">    </span><span class="c1">// Paso 1: Cargar imagen</span>
<a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cargar</span><span class="p">():</span><span class="w"> </span><span class="n">ImagenCargada</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Cargando imagen de </span><span class="si">$</span><span class="n">ruta</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ImagenCargada</span><span class="p">(</span><span class="n">ruta</span><span class="p">,</span><span class="w"> </span><span class="n">byteArrayOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">))</span>
<a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a>
<a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="w">    </span><span class="c1">// Paso 2: Redimensionar (toma ImagenCargada)</span>
<a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">redimensionar</span><span class="p">(</span><span class="n">imagen</span><span class="p">:</span><span class="w"> </span><span class="n">ImagenCargada</span><span class="p">,</span><span class="w"> </span><span class="n">ancho</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">alto</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="n">ImagenRedimensionada</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Redimensionando a </span><span class="si">${</span><span class="n">ancho</span><span class="si">}</span><span class="s">x</span><span class="si">${</span><span class="n">alto</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ImagenRedimensionada</span><span class="p">(</span><span class="n">imagen</span><span class="p">.</span><span class="na">datos</span><span class="p">,</span><span class="w"> </span><span class="n">ancho</span><span class="p">,</span><span class="w"> </span><span class="n">alto</span><span class="p">)</span>
<a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>
<a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="w">    </span><span class="c1">// Paso 3: Aplicar filtro (toma ImagenRedimensionada)</span>
<a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicarFiltro</span><span class="p">(</span><span class="n">imagen</span><span class="p">:</span><span class="w"> </span><span class="n">ImagenRedimensionada</span><span class="p">,</span><span class="w"> </span><span class="n">filtro</span><span class="p">:</span><span class="w"> </span><span class="n">Filtro</span><span class="p">):</span><span class="w"> </span><span class="n">ImagenFiltrada</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Aplicando filtro </span><span class="si">$</span><span class="n">filtro</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ImagenFiltrada</span><span class="p">(</span><span class="n">imagen</span><span class="p">.</span><span class="na">datos</span><span class="p">,</span><span class="w"> </span><span class="n">filtro</span><span class="p">)</span>
<a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a>
<a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a><span class="w">    </span><span class="c1">// Paso 4: Comprimir (toma ImagenFiltrada)</span>
<a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">comprimir</span><span class="p">(</span><span class="n">imagen</span><span class="p">:</span><span class="w"> </span><span class="n">ImagenFiltrada</span><span class="p">,</span><span class="w"> </span><span class="n">calidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="n">ImagenComprimida</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Comprimiendo con calidad </span><span class="si">$</span><span class="n">calidad</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ImagenComprimida</span><span class="p">(</span><span class="n">imagen</span><span class="p">.</span><span class="na">datos</span><span class="p">,</span><span class="w"> </span><span class="n">calidad</span><span class="p">)</span>
<a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-32" name="__codelineno-15-32" href="#__codelineno-15-32"></a>
<a id="__codelineno-15-33" name="__codelineno-15-33" href="#__codelineno-15-33"></a><span class="w">    </span><span class="c1">// Paso 5: Guardar (toma ImagenComprimida)</span>
<a id="__codelineno-15-34" name="__codelineno-15-34" href="#__codelineno-15-34"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">imagen</span><span class="p">:</span><span class="w"> </span><span class="n">ImagenComprimida</span><span class="p">,</span><span class="w"> </span><span class="n">rutaDestino</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-35" name="__codelineno-15-35" href="#__codelineno-15-35"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Guardando en </span><span class="si">$</span><span class="n">rutaDestino</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-15-36" name="__codelineno-15-36" href="#__codelineno-15-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-37" name="__codelineno-15-37" href="#__codelineno-15-37"></a>
<a id="__codelineno-15-38" name="__codelineno-15-38" href="#__codelineno-15-38"></a><span class="w">    </span><span class="c1">// API fluent para encadenar operaciones</span>
<a id="__codelineno-15-39" name="__codelineno-15-39" href="#__codelineno-15-39"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesarCompleto</span><span class="p">(</span><span class="n">ancho</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">alto</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">filtro</span><span class="p">:</span><span class="w"> </span><span class="n">Filtro</span><span class="p">,</span><span class="w"> </span><span class="n">calidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">destino</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-40" name="__codelineno-15-40" href="#__codelineno-15-40"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">cargada</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cargar</span><span class="p">()</span>
<a id="__codelineno-15-41" name="__codelineno-15-41" href="#__codelineno-15-41"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">redimensionada</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">redimensionar</span><span class="p">(</span><span class="n">cargada</span><span class="p">,</span><span class="w"> </span><span class="n">ancho</span><span class="p">,</span><span class="w"> </span><span class="n">alto</span><span class="p">)</span>
<a id="__codelineno-15-42" name="__codelineno-15-42" href="#__codelineno-15-42"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">filtrada</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">aplicarFiltro</span><span class="p">(</span><span class="n">redimensionada</span><span class="p">,</span><span class="w"> </span><span class="n">filtro</span><span class="p">)</span>
<a id="__codelineno-15-43" name="__codelineno-15-43" href="#__codelineno-15-43"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">comprimida</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">comprimir</span><span class="p">(</span><span class="n">filtrada</span><span class="p">,</span><span class="w"> </span><span class="n">calidad</span><span class="p">)</span>
<a id="__codelineno-15-44" name="__codelineno-15-44" href="#__codelineno-15-44"></a><span class="w">        </span><span class="n">guardar</span><span class="p">(</span><span class="n">comprimida</span><span class="p">,</span><span class="w"> </span><span class="n">destino</span><span class="p">)</span>
<a id="__codelineno-15-45" name="__codelineno-15-45" href="#__codelineno-15-45"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-15-46" name="__codelineno-15-46" href="#__codelineno-15-46"></a><span class="p">}</span>
<a id="__codelineno-15-47" name="__codelineno-15-47" href="#__codelineno-15-47"></a>
<a id="__codelineno-15-48" name="__codelineno-15-48" href="#__codelineno-15-48"></a><span class="c1">// Tipos específicos para cada etapa del pipeline</span>
<a id="__codelineno-15-49" name="__codelineno-15-49" href="#__codelineno-15-49"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ImagenCargada</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">ruta</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">datos</span><span class="p">:</span><span class="w"> </span><span class="n">ByteArray</span><span class="p">)</span>
<a id="__codelineno-15-50" name="__codelineno-15-50" href="#__codelineno-15-50"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ImagenRedimensionada</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">datos</span><span class="p">:</span><span class="w"> </span><span class="n">ByteArray</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">ancho</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">alto</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span>
<a id="__codelineno-15-51" name="__codelineno-15-51" href="#__codelineno-15-51"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ImagenFiltrada</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">datos</span><span class="p">:</span><span class="w"> </span><span class="n">ByteArray</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">filtro</span><span class="p">:</span><span class="w"> </span><span class="n">Filtro</span><span class="p">)</span>
<a id="__codelineno-15-52" name="__codelineno-15-52" href="#__codelineno-15-52"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ImagenComprimida</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">datos</span><span class="p">:</span><span class="w"> </span><span class="n">ByteArray</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">calidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span>
<a id="__codelineno-15-53" name="__codelineno-15-53" href="#__codelineno-15-53"></a>
<a id="__codelineno-15-54" name="__codelineno-15-54" href="#__codelineno-15-54"></a><span class="kd">enum</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Filtro</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">BLANCO_Y_NEGRO</span><span class="p">,</span><span class="w"> </span><span class="n">SEPIA</span><span class="p">,</span><span class="w"> </span><span class="n">BLUR</span><span class="p">,</span><span class="w"> </span><span class="n">SHARPEN</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-15-55" name="__codelineno-15-55" href="#__codelineno-15-55"></a>
<a id="__codelineno-15-56" name="__codelineno-15-56" href="#__codelineno-15-56"></a><span class="c1">// Uso</span>
<a id="__codelineno-15-57" name="__codelineno-15-57" href="#__codelineno-15-57"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-15-58" name="__codelineno-15-58" href="#__codelineno-15-58"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">procesador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ProcesadorImagen</span><span class="p">(</span><span class="s">&quot;foto.jpg&quot;</span><span class="p">)</span>
<a id="__codelineno-15-59" name="__codelineno-15-59" href="#__codelineno-15-59"></a><span class="w">    </span><span class="n">procesador</span><span class="p">.</span><span class="na">procesarCompleto</span><span class="p">(</span>
<a id="__codelineno-15-60" name="__codelineno-15-60" href="#__codelineno-15-60"></a><span class="w">        </span><span class="n">ancho</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">800</span><span class="p">,</span>
<a id="__codelineno-15-61" name="__codelineno-15-61" href="#__codelineno-15-61"></a><span class="w">        </span><span class="n">alto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">600</span><span class="p">,</span>
<a id="__codelineno-15-62" name="__codelineno-15-62" href="#__codelineno-15-62"></a><span class="w">        </span><span class="n">filtro</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Filtro</span><span class="p">.</span><span class="na">SEPIA</span><span class="p">,</span>
<a id="__codelineno-15-63" name="__codelineno-15-63" href="#__codelineno-15-63"></a><span class="w">        </span><span class="n">calidad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">85</span><span class="p">,</span>
<a id="__codelineno-15-64" name="__codelineno-15-64" href="#__codelineno-15-64"></a><span class="w">        </span><span class="n">destino</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;foto_procesada.jpg&quot;</span>
<a id="__codelineno-15-65" name="__codelineno-15-65" href="#__codelineno-15-65"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-15-66" name="__codelineno-15-66" href="#__codelineno-15-66"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Ejemplo mejorado con patrón Builder/Pipeline</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="c1">// COHESIÓN SECUENCIAL - Pipeline funcional</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">PipelineImagen</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">rutaOrigen</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">imagen</span><span class="p">:</span><span class="w"> </span><span class="n">ByteArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">byteArrayOf</span><span class="p">()</span>
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">ancho</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">alto</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span>
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cargar</span><span class="p">():</span><span class="w"> </span><span class="n">PipelineImagen</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Cargando </span><span class="si">$</span><span class="n">rutaOrigen</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">        </span><span class="n">imagen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">byteArrayOf</span><span class="p">(</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w"> </span><span class="c1">// Simulado</span>
<a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span>
<a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>
<a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">redimensionar</span><span class="p">(</span><span class="n">nuevoAncho</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">nuevoAlto</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="n">PipelineImagen</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Redimensionando a </span><span class="si">${</span><span class="n">nuevoAncho</span><span class="si">}</span><span class="s">x</span><span class="si">${</span><span class="n">nuevoAlto</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="w">        </span><span class="n">ancho</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nuevoAncho</span>
<a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="w">        </span><span class="n">alto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nuevoAlto</span>
<a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span>
<a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a>
<a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicarFiltro</span><span class="p">(</span><span class="n">filtro</span><span class="p">:</span><span class="w"> </span><span class="n">Filtro</span><span class="p">):</span><span class="w"> </span><span class="n">PipelineImagen</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Aplicando filtro </span><span class="si">$</span><span class="n">filtro</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a><span class="w">        </span><span class="c1">// Transformación de imagen</span>
<a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span>
<a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a>
<a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">comprimir</span><span class="p">(</span><span class="n">calidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="n">PipelineImagen</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Comprimiendo (calidad: </span><span class="si">$</span><span class="n">calidad</span><span class="s">)&quot;</span><span class="p">)</span>
<a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span>
<a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a>
<a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">rutaDestino</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Guardando en </span><span class="si">$</span><span class="n">rutaDestino</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-16-34" name="__codelineno-16-34" href="#__codelineno-16-34"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-35" name="__codelineno-16-35" href="#__codelineno-16-35"></a>
<a id="__codelineno-16-36" name="__codelineno-16-36" href="#__codelineno-16-36"></a><span class="w">    </span><span class="c1">// API fluent</span>
<a id="__codelineno-16-37" name="__codelineno-16-37" href="#__codelineno-16-37"></a><span class="w">    </span><span class="kd">companion</span><span class="w"> </span><span class="kd">object</span><span class="w"> </span><span class="err">{</span>
<a id="__codelineno-16-38" name="__codelineno-16-38" href="#__codelineno-16-38"></a><span class="w">        </span><span class="kd">fun</span><span class="w"> </span><span class="nf">desde</span><span class="p">(</span><span class="n">ruta</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PipelineImagen</span><span class="p">(</span><span class="n">ruta</span><span class="p">)</span>
<a id="__codelineno-16-39" name="__codelineno-16-39" href="#__codelineno-16-39"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-16-40" name="__codelineno-16-40" href="#__codelineno-16-40"></a><span class="p">}</span>
<a id="__codelineno-16-41" name="__codelineno-16-41" href="#__codelineno-16-41"></a>
<a id="__codelineno-16-42" name="__codelineno-16-42" href="#__codelineno-16-42"></a><span class="c1">// Uso fluent</span>
<a id="__codelineno-16-43" name="__codelineno-16-43" href="#__codelineno-16-43"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-16-44" name="__codelineno-16-44" href="#__codelineno-16-44"></a><span class="w">    </span><span class="n">PipelineImagen</span><span class="p">.</span><span class="na">desde</span><span class="p">(</span><span class="s">&quot;foto.jpg&quot;</span><span class="p">)</span>
<a id="__codelineno-16-45" name="__codelineno-16-45" href="#__codelineno-16-45"></a><span class="w">        </span><span class="p">.</span><span class="na">cargar</span><span class="p">()</span>
<a id="__codelineno-16-46" name="__codelineno-16-46" href="#__codelineno-16-46"></a><span class="w">        </span><span class="p">.</span><span class="na">redimensionar</span><span class="p">(</span><span class="m">800</span><span class="p">,</span><span class="w"> </span><span class="m">600</span><span class="p">)</span>
<a id="__codelineno-16-47" name="__codelineno-16-47" href="#__codelineno-16-47"></a><span class="w">        </span><span class="p">.</span><span class="na">aplicarFiltro</span><span class="p">(</span><span class="n">Filtro</span><span class="p">.</span><span class="na">SEPIA</span><span class="p">)</span>
<a id="__codelineno-16-48" name="__codelineno-16-48" href="#__codelineno-16-48"></a><span class="w">        </span><span class="p">.</span><span class="na">comprimir</span><span class="p">(</span><span class="m">85</span><span class="p">)</span>
<a id="__codelineno-16-49" name="__codelineno-16-49" href="#__codelineno-16-49"></a><span class="w">        </span><span class="p">.</span><span class="na">guardar</span><span class="p">(</span><span class="s">&quot;foto_procesada.jpg&quot;</span><span class="p">)</span>
<a id="__codelineno-16-50" name="__codelineno-16-50" href="#__codelineno-16-50"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Otro ejemplo</strong>: Procesamiento de texto</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="c1">// COHESIÓN SECUENCIAL - Transformaciones de texto</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ProcesadorTexto</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">textoOriginal</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">eliminarEspaciosExtras</span><span class="p">():</span><span class="w"> </span><span class="n">ProcesadorTexto</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">textoLimpio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">textoOriginal</span><span class="p">.</span><span class="na">replace</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;\\s+&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="p">).</span><span class="na">trim</span><span class="p">()</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ProcesadorTexto</span><span class="p">(</span><span class="n">textoLimpio</span><span class="p">)</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">convertirAMinusculas</span><span class="p">():</span><span class="w"> </span><span class="n">ProcesadorTexto</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ProcesadorTexto</span><span class="p">(</span><span class="n">textoOriginal</span><span class="p">.</span><span class="na">lowercase</span><span class="p">())</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a>
<a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">eliminarPuntuacion</span><span class="p">():</span><span class="w"> </span><span class="n">ProcesadorTexto</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">sinPuntuacion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">textoOriginal</span><span class="p">.</span><span class="na">replace</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;[^\\w\\s]&quot;</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ProcesadorTexto</span><span class="p">(</span><span class="n">sinPuntuacion</span><span class="p">)</span>
<a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a>
<a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">dividirEnPalabras</span><span class="p">():</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">textoOriginal</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;\\s+&quot;</span><span class="p">))</span>
<a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a>
<a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtenerTexto</span><span class="p">():</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">textoOriginal</span>
<a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a>
<a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a><span class="w">    </span><span class="kd">companion</span><span class="w"> </span><span class="kd">object</span><span class="w"> </span><span class="err">{</span>
<a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="w">        </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesar</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ProcesadorTexto</span><span class="p">(</span><span class="n">texto</span><span class="p">)</span>
<a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a><span class="p">}</span>
<a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a>
<a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a><span class="c1">// Uso</span>
<a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">palabras</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ProcesadorTexto</span><span class="p">.</span><span class="na">procesar</span><span class="p">(</span><span class="s">&quot;  Hola,    Mundo!!!  &quot;</span><span class="p">)</span>
<a id="__codelineno-17-31" name="__codelineno-17-31" href="#__codelineno-17-31"></a><span class="w">        </span><span class="p">.</span><span class="na">eliminarEspaciosExtras</span><span class="p">()</span>
<a id="__codelineno-17-32" name="__codelineno-17-32" href="#__codelineno-17-32"></a><span class="w">        </span><span class="p">.</span><span class="na">eliminarPuntuacion</span><span class="p">()</span>
<a id="__codelineno-17-33" name="__codelineno-17-33" href="#__codelineno-17-33"></a><span class="w">        </span><span class="p">.</span><span class="na">convertirAMinusculas</span><span class="p">()</span>
<a id="__codelineno-17-34" name="__codelineno-17-34" href="#__codelineno-17-34"></a><span class="w">        </span><span class="p">.</span><span class="na">dividirEnPalabras</span><span class="p">()</span>
<a id="__codelineno-17-35" name="__codelineno-17-35" href="#__codelineno-17-35"></a>
<a id="__codelineno-17-36" name="__codelineno-17-36" href="#__codelineno-17-36"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">palabras</span><span class="p">)</span><span class="w"> </span><span class="c1">// [hola, mundo]</span>
<a id="__codelineno-17-37" name="__codelineno-17-37" href="#__codelineno-17-37"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios de la cohesión secuencial</strong>:</p>
<ul>
<li>Flujo de datos claro y predecible</li>
<li>Fácil de entender (entrada → procesamiento → salida)</li>
<li>Fácil de testear cada transformación</li>
<li>Composable (puedes agregar/quitar pasos)</li>
</ul>
<h5 id="227-cohesion-funcional-nivel-7-la-mejor">2.2.7. Cohesión Funcional (Nivel 7 - La mejor)<a class="headerlink" href="#227-cohesion-funcional-nivel-7-la-mejor" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: <strong>Todos los elementos del módulo contribuyen a una única tarea o función bien definida</strong>. Es el nivel más alto de cohesión y el objetivo que debemos buscar.</p>
<p><strong>Características</strong>:</p>
<ul>
<li>Una sola responsabilidad bien definida</li>
<li>Todos los elementos colaboran hacia un único objetivo</li>
<li>El nombre de la clase describe perfectamente su propósito</li>
<li>Fácil de entender, mantener, testear y reutilizar</li>
</ul>
<p><strong>Ejemplo</strong>: Clase con cohesión funcional perfecta</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="c1">// COHESIÓN FUNCIONAL - Responsabilidad única y clara</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">patronEmail</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}</span><span class="err">$</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">esValido</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">email</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">patronEmail</span><span class="p">)</span>
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validar</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="w">            </span><span class="n">email</span><span class="p">.</span><span class="na">isBlank</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Invalido</span><span class="p">(</span><span class="s">&quot;Email no puede estar vacío&quot;</span><span class="p">)</span>
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="w">            </span><span class="o">!</span><span class="n">email</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Invalido</span><span class="p">(</span><span class="s">&quot;Email debe contener @&quot;</span><span class="p">)</span>
<a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="w">            </span><span class="o">!</span><span class="n">email</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">patronEmail</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Invalido</span><span class="p">(</span><span class="s">&quot;Formato de email inválido&quot;</span><span class="p">)</span>
<a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Valido</span>
<a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a>
<a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">extraerDominio</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">String?</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">esValido</span><span class="p">(</span><span class="n">email</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a><span class="w">            </span><span class="n">email</span><span class="p">.</span><span class="na">substringAfter</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">)</span>
<a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a><span class="w">            </span><span class="kc">null</span>
<a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a><span class="p">}</span>
<a id="__codelineno-18-26" name="__codelineno-18-26" href="#__codelineno-18-26"></a>
<a id="__codelineno-18-27" name="__codelineno-18-27" href="#__codelineno-18-27"></a><span class="kd">sealed</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ResultadoValidacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-18-28" name="__codelineno-18-28" href="#__codelineno-18-28"></a><span class="w">    </span><span class="kd">object</span><span class="w"> </span><span class="nc">Valido</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">()</span>
<a id="__codelineno-18-29" name="__codelineno-18-29" href="#__codelineno-18-29"></a><span class="w">    </span><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Invalido</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">razon</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">()</span>
<a id="__codelineno-18-30" name="__codelineno-18-30" href="#__codelineno-18-30"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Análisis</strong>:</p>
<ul>
<li>Una responsabilidad: validar emails</li>
<li>Todos los métodos están relacionados con emails</li>
<li>Nombre descriptivo y claro</li>
<li>Fácil de testear</li>
<li>Reutilizable en cualquier contexto</li>
</ul>
<p><strong>Más ejemplos de cohesión funcional</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="c1">// COHESIÓN FUNCIONAL - Calculadora de fechas</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CalculadorFechas</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">agregarDias</span><span class="p">(</span><span class="n">fecha</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="p">,</span><span class="w"> </span><span class="n">dias</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">fecha</span><span class="p">.</span><span class="na">plusDays</span><span class="p">(</span><span class="n">dias</span><span class="p">.</span><span class="na">toLong</span><span class="p">())</span>
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularDiferenciaEnDias</span><span class="p">(</span><span class="n">fecha1</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="p">,</span><span class="w"> </span><span class="n">fecha2</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="p">):</span><span class="w"> </span><span class="kt">Long</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">temporal</span><span class="p">.</span><span class="na">ChronoUnit</span><span class="p">.</span><span class="na">DAYS</span><span class="p">.</span><span class="na">between</span><span class="p">(</span><span class="n">fecha1</span><span class="p">,</span><span class="w"> </span><span class="n">fecha2</span><span class="p">)</span>
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">esFechaLaboral</span><span class="p">(</span><span class="n">fecha</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">diaSemana</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fecha</span><span class="p">.</span><span class="na">dayOfWeek</span>
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">diaSemana</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">DayOfWeek</span><span class="p">.</span><span class="na">SATURDAY</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="w">               </span><span class="n">diaSemana</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">DayOfWeek</span><span class="p">.</span><span class="na">SUNDAY</span>
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">proximoDiaLaboral</span><span class="p">(</span><span class="n">fecha</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="p">):</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDate</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nv">siguiente</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fecha</span><span class="p">.</span><span class="na">plusDays</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
<a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">esFechaLaboral</span><span class="p">(</span><span class="n">siguiente</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">            </span><span class="n">siguiente</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">siguiente</span><span class="p">.</span><span class="na">plusDays</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
<a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">siguiente</span>
<a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="p">}</span>
<a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a>
<a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a><span class="c1">// COHESIÓN FUNCIONAL - Formateador de números</span>
<a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a><span class="kd">class</span><span class="w"> </span><span class="nc">FormateadorNumeros</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">locale</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">Locale</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">Locale</span><span class="p">(</span><span class="s">&quot;es&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;ES&quot;</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">formatearDecimal</span><span class="p">(</span><span class="n">numero</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">,</span><span class="w"> </span><span class="n">decimales</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kt">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">locale</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%.</span><span class="si">${</span><span class="n">decimales</span><span class="si">}</span><span class="s">f&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">numero</span><span class="p">)</span>
<a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-31" name="__codelineno-19-31" href="#__codelineno-19-31"></a>
<a id="__codelineno-19-32" name="__codelineno-19-32" href="#__codelineno-19-32"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">formatearPorcentaje</span><span class="p">(</span><span class="n">numero</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-33" name="__codelineno-19-33" href="#__codelineno-19-33"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kt">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="n">locale</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;%.2f%%&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">numero</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">100</span><span class="p">)</span>
<a id="__codelineno-19-34" name="__codelineno-19-34" href="#__codelineno-19-34"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-35" name="__codelineno-19-35" href="#__codelineno-19-35"></a>
<a id="__codelineno-19-36" name="__codelineno-19-36" href="#__codelineno-19-36"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">formatearMoneda</span><span class="p">(</span><span class="n">monto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">,</span><span class="w"> </span><span class="n">simbolo</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;€&quot;</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-37" name="__codelineno-19-37" href="#__codelineno-19-37"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;</span><span class="si">${</span><span class="n">formatearDecimal</span><span class="p">(</span><span class="n">monto</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="si">}</span><span class="s"> </span><span class="si">$</span><span class="n">simbolo</span><span class="s">&quot;</span>
<a id="__codelineno-19-38" name="__codelineno-19-38" href="#__codelineno-19-38"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-39" name="__codelineno-19-39" href="#__codelineno-19-39"></a><span class="p">}</span>
<a id="__codelineno-19-40" name="__codelineno-19-40" href="#__codelineno-19-40"></a>
<a id="__codelineno-19-41" name="__codelineno-19-41" href="#__codelineno-19-41"></a><span class="c1">// COHESIÓN FUNCIONAL - Generador de IDs</span>
<a id="__codelineno-19-42" name="__codelineno-19-42" href="#__codelineno-19-42"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GeneradorIdentificadores</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-43" name="__codelineno-19-43" href="#__codelineno-19-43"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarUUID</span><span class="p">():</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-44" name="__codelineno-19-44" href="#__codelineno-19-44"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">util</span><span class="p">.</span><span class="na">UUID</span><span class="p">.</span><span class="na">randomUUID</span><span class="p">().</span><span class="na">toString</span><span class="p">()</span>
<a id="__codelineno-19-45" name="__codelineno-19-45" href="#__codelineno-19-45"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-46" name="__codelineno-19-46" href="#__codelineno-19-46"></a>
<a id="__codelineno-19-47" name="__codelineno-19-47" href="#__codelineno-19-47"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarIdCorto</span><span class="p">(</span><span class="n">longitud</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-48" name="__codelineno-19-48" href="#__codelineno-19-48"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">caracteres</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;</span>
<a id="__codelineno-19-49" name="__codelineno-19-49" href="#__codelineno-19-49"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="m">1.</span><span class="p">.</span><span class="na">longitud</span><span class="p">)</span>
<a id="__codelineno-19-50" name="__codelineno-19-50" href="#__codelineno-19-50"></a><span class="w">            </span><span class="p">.</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">caracteres</span><span class="p">.</span><span class="na">random</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-19-51" name="__codelineno-19-51" href="#__codelineno-19-51"></a><span class="w">            </span><span class="p">.</span><span class="na">joinToString</span><span class="p">(</span><span class="s">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-19-52" name="__codelineno-19-52" href="#__codelineno-19-52"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-53" name="__codelineno-19-53" href="#__codelineno-19-53"></a>
<a id="__codelineno-19-54" name="__codelineno-19-54" href="#__codelineno-19-54"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarIdConPrefijo</span><span class="p">(</span><span class="n">prefijo</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-19-55" name="__codelineno-19-55" href="#__codelineno-19-55"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">timestamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">System</span><span class="p">.</span><span class="na">currentTimeMillis</span><span class="p">()</span>
<a id="__codelineno-19-56" name="__codelineno-19-56" href="#__codelineno-19-56"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">aleatorio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="m">1000.</span><span class="p">.</span><span class="m">9999</span><span class="p">).</span><span class="na">random</span><span class="p">()</span>
<a id="__codelineno-19-57" name="__codelineno-19-57" href="#__codelineno-19-57"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;</span><span class="si">$</span><span class="n">prefijo</span><span class="s">-</span><span class="si">$</span><span class="n">timestamp</span><span class="s">-</span><span class="si">$</span><span class="n">aleatorio</span><span class="s">&quot;</span>
<a id="__codelineno-19-58" name="__codelineno-19-58" href="#__codelineno-19-58"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-19-59" name="__codelineno-19-59" href="#__codelineno-19-59"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Indicadores de cohesión funcional</strong>:</p>
<ul>
<li>Puedes describir la clase en una frase sin usar "Y"</li>
<li>Todos los métodos usan la mayoría de los atributos</li>
<li>Cambios en un método probablemente afecten a otros (porque están relacionados)</li>
<li>No hay métodos "huérfanos" que no encajan</li>
<li>El nombre de la clase es un sustantivo específico (no "Manager", "Handler", "Util")</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Regla de oro</p>
<p>Si una clase tiene cohesión funcional, respeta automáticamente el Principio de Responsabilidad Única (SRP).</p>
</div>
<h4 id="23-como-mejorar-la-cohesion">2.3. Cómo mejorar la cohesión<a class="headerlink" href="#23-como-mejorar-la-cohesion" title="Permanent link">&para;</a></h4>
<p>Ahora que conoces los tipos de cohesión, veamos estrategias prácticas para mejorar la cohesión en tu código existente.</p>
<h5 id="231-identificar-senales-de-baja-cohesion">2.3.1. Identificar señales de baja cohesión<a class="headerlink" href="#231-identificar-senales-de-baja-cohesion" title="Permanent link">&para;</a></h5>
<p><strong>Checklist de diagnóstico</strong>:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿La clase tiene más de 7-10 métodos públicos?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿El nombre incluye "Manager", "Handler", "Util", "Helper", "Service"?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Cuesta trabajo decidir un nombre descriptivo?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Hay grupos de métodos que usan diferentes subconjuntos de atributos?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿La clase cambia frecuentemente por razones no relacionadas?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Hay métodos estáticos que no usan atributos de instancia?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Necesitas usar "Y" para describir lo que hace la clase?</li>
</ul>
<p>Si respondiste "sí" a 3 o más preguntas, tu clase tiene problemas de cohesión.</p>
<h5 id="232-tecnicas-de-refactorizacion">2.3.2. Técnicas de refactorización<a class="headerlink" href="#232-tecnicas-de-refactorizacion" title="Permanent link">&para;</a></h5>
<p><strong>Técnica 1: Extract Class</strong></p>
<p>Cuando una clase hace demasiadas cosas, extrae funcionalidad en nuevas clases.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="c1">// Antes: Baja cohesión</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Usuario</span><span class="p">(</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">password</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">ultimoLogin</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDateTime</span><span class="p">,</span>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">intentosFallidos</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span>
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">actualizarNombre</span><span class="p">(</span><span class="n">nuevoNombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">nombre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nuevoNombre</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">actualizarEmail</span><span class="p">(</span><span class="n">nuevoEmail</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nuevoEmail</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarPassword</span><span class="p">(</span><span class="n">pwd</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">pwd</span>
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cambiarPassword</span><span class="p">(</span><span class="n">nuevaPassword</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nuevaPassword</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarIntento</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">intentosFallidos</span><span class="o">++</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">resetearIntentos</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">intentosFallidos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">bloquearCuenta</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* lógica */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarLogin</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">ultimoLogin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="p">}</span>
<a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a>
<a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="c1">// Después: Alta cohesión</span>
<a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Usuario</span><span class="p">(</span>
<a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span>
<a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span>
<a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a><span class="p">)</span>
<a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a>
<a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GestorAutenticacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">passwords</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableMapOf</span><span class="o">&lt;</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kt">String</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">intentos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableMapOf</span><span class="o">&lt;</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">bloqueos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableSetOf</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a>
<a id="__codelineno-20-31" name="__codelineno-20-31" href="#__codelineno-20-31"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarPassword</span><span class="p">(</span><span class="n">usuarioId</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">password</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-32" name="__codelineno-20-32" href="#__codelineno-20-32"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">passwords</span><span class="o">[</span><span class="n">usuarioId</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">password</span>
<a id="__codelineno-20-33" name="__codelineno-20-33" href="#__codelineno-20-33"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-20-34" name="__codelineno-20-34" href="#__codelineno-20-34"></a>
<a id="__codelineno-20-35" name="__codelineno-20-35" href="#__codelineno-20-35"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cambiarPassword</span><span class="p">(</span><span class="n">usuarioId</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">nuevaPassword</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-36" name="__codelineno-20-36" href="#__codelineno-20-36"></a><span class="w">        </span><span class="n">require</span><span class="p">(</span><span class="n">nuevaPassword</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">8</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;Password muy corta&quot;</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-20-37" name="__codelineno-20-37" href="#__codelineno-20-37"></a><span class="w">        </span><span class="n">passwords</span><span class="o">[</span><span class="n">usuarioId</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nuevaPassword</span>
<a id="__codelineno-20-38" name="__codelineno-20-38" href="#__codelineno-20-38"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-20-39" name="__codelineno-20-39" href="#__codelineno-20-39"></a>
<a id="__codelineno-20-40" name="__codelineno-20-40" href="#__codelineno-20-40"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarIntentoFallido</span><span class="p">(</span><span class="n">usuarioId</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-41" name="__codelineno-20-41" href="#__codelineno-20-41"></a><span class="w">        </span><span class="n">intentos</span><span class="o">[</span><span class="n">usuarioId</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">intentos</span><span class="o">[</span><span class="n">usuarioId</span><span class="o">]</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span>
<a id="__codelineno-20-42" name="__codelineno-20-42" href="#__codelineno-20-42"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">((</span><span class="n">intentos</span><span class="o">[</span><span class="n">usuarioId</span><span class="o">]</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-43" name="__codelineno-20-43" href="#__codelineno-20-43"></a><span class="w">            </span><span class="n">bloquearCuenta</span><span class="p">(</span><span class="n">usuarioId</span><span class="p">)</span>
<a id="__codelineno-20-44" name="__codelineno-20-44" href="#__codelineno-20-44"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-20-45" name="__codelineno-20-45" href="#__codelineno-20-45"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-20-46" name="__codelineno-20-46" href="#__codelineno-20-46"></a>
<a id="__codelineno-20-47" name="__codelineno-20-47" href="#__codelineno-20-47"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">bloquearCuenta</span><span class="p">(</span><span class="n">usuarioId</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-48" name="__codelineno-20-48" href="#__codelineno-20-48"></a><span class="w">        </span><span class="n">bloqueos</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">usuarioId</span><span class="p">)</span>
<a id="__codelineno-20-49" name="__codelineno-20-49" href="#__codelineno-20-49"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-20-50" name="__codelineno-20-50" href="#__codelineno-20-50"></a>
<a id="__codelineno-20-51" name="__codelineno-20-51" href="#__codelineno-20-51"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">estaBloqueado</span><span class="p">(</span><span class="n">usuarioId</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">usuarioId</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">bloqueos</span>
<a id="__codelineno-20-52" name="__codelineno-20-52" href="#__codelineno-20-52"></a><span class="p">}</span>
<a id="__codelineno-20-53" name="__codelineno-20-53" href="#__codelineno-20-53"></a>
<a id="__codelineno-20-54" name="__codelineno-20-54" href="#__codelineno-20-54"></a><span class="kd">class</span><span class="w"> </span><span class="nc">RegistroActividad</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-55" name="__codelineno-20-55" href="#__codelineno-20-55"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">logins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableMapOf</span><span class="o">&lt;</span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDateTime</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-20-56" name="__codelineno-20-56" href="#__codelineno-20-56"></a>
<a id="__codelineno-20-57" name="__codelineno-20-57" href="#__codelineno-20-57"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrarLogin</span><span class="p">(</span><span class="n">usuarioId</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-58" name="__codelineno-20-58" href="#__codelineno-20-58"></a><span class="w">        </span><span class="n">logins</span><span class="o">[</span><span class="n">usuarioId</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">()</span>
<a id="__codelineno-20-59" name="__codelineno-20-59" href="#__codelineno-20-59"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-20-60" name="__codelineno-20-60" href="#__codelineno-20-60"></a>
<a id="__codelineno-20-61" name="__codelineno-20-61" href="#__codelineno-20-61"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtenerUltimoLogin</span><span class="p">(</span><span class="n">usuarioId</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDateTime</span><span class="o">?</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-20-62" name="__codelineno-20-62" href="#__codelineno-20-62"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">logins</span><span class="o">[</span><span class="n">usuarioId</span><span class="o">]</span>
<a id="__codelineno-20-63" name="__codelineno-20-63" href="#__codelineno-20-63"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-20-64" name="__codelineno-20-64" href="#__codelineno-20-64"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Técnica 2: Reagrupar métodos por dominio</strong></p>
<p>Analiza qué métodos trabajan con qué datos y agrúpalos.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="c1">// Antes: Métodos mezclados</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GestorPedidos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarDireccion</span><span class="p">(</span><span class="n">direccion</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularEnvio</span><span class="p">(</span><span class="n">peso</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicarDescuento</span><span class="p">(</span><span class="n">total</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">,</span><span class="w"> </span><span class="n">codigo</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarStock</span><span class="p">(</span><span class="n">producto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">cantidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarFactura</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">):</span><span class="w"> </span><span class="n">ByteArray</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="p">}</span>
<a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>
<a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="c1">// Después: Separados por dominio</span>
<a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorDatos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarDireccion</span><span class="p">(</span><span class="n">direccion</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarStock</span><span class="p">(</span><span class="n">producto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">cantidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="p">}</span>
<a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>
<a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CalculadoraPreciosEnvio</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularEnvio</span><span class="p">(</span><span class="n">peso</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicarDescuento</span><span class="p">(</span><span class="n">total</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">,</span><span class="w"> </span><span class="n">codigo</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a><span class="p">}</span>
<a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a>
<a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GeneradorDocumentos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarFactura</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">):</span><span class="w"> </span><span class="n">ByteArray</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Técnica 3: Aplicar el Principio de Responsabilidad Única</strong></p>
<p>Pregúntate: ¿Esta clase tiene una sola razón para cambiar?</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="c1">// Antes: Múltiples responsabilidades</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Reporte</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">datos</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Venta</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listOf</span><span class="p">()</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cargarDatos</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* BD */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularTotal</span><span class="p">():</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* cálculo */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarPDF</span><span class="p">():</span><span class="w"> </span><span class="n">ByteArray</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* PDF */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarPorEmail</span><span class="p">(</span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* email */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="p">}</span>
<a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>
<a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="c1">// Después: Una responsabilidad por clase</span>
<a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="kd">class</span><span class="w"> </span><span class="nc">RepositorioVentas</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cargarVentas</span><span class="p">():</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Venta</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* BD */</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">listOf</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="p">}</span>
<a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>
<a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="kd">class</span><span class="w"> </span><span class="nc">AnalizadorVentas</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularTotal</span><span class="p">(</span><span class="n">ventas</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Venta</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* cálculo */</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="m">0.0</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="p">}</span>
<a id="__codelineno-22-19" name="__codelineno-22-19" href="#__codelineno-22-19"></a>
<a id="__codelineno-22-20" name="__codelineno-22-20" href="#__codelineno-22-20"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GeneradorReportePDF</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-21" name="__codelineno-22-21" href="#__codelineno-22-21"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generar</span><span class="p">(</span><span class="n">ventas</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Venta</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">ByteArray</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* PDF */</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">byteArrayOf</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-22-22" name="__codelineno-22-22" href="#__codelineno-22-22"></a><span class="p">}</span>
<a id="__codelineno-22-23" name="__codelineno-22-23" href="#__codelineno-22-23"></a>
<a id="__codelineno-22-24" name="__codelineno-22-24" href="#__codelineno-22-24"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioEmailReportes</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-22-25" name="__codelineno-22-25" href="#__codelineno-22-25"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviar</span><span class="p">(</span><span class="n">pdf</span><span class="p">:</span><span class="w"> </span><span class="n">ByteArray</span><span class="p">,</span><span class="w"> </span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* email */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-22-26" name="__codelineno-22-26" href="#__codelineno-22-26"></a><span class="p">}</span>
</code></pre></div>
<h3 id="3-acoplamiento-la-dependencia-entre-modulos">3. Acoplamiento: La dependencia entre módulos<a class="headerlink" href="#3-acoplamiento-la-dependencia-entre-modulos" title="Permanent link">&para;</a></h3>
<h4 id="31-que-es-el-acoplamiento">3.1. ¿Qué es el acoplamiento?<a class="headerlink" href="#31-que-es-el-acoplamiento" title="Permanent link">&para;</a></h4>
<p>El <strong>acoplamiento</strong> es una medida del <strong>grado de interdependencia entre módulos</strong>. Indica cuánto conoce un módulo sobre la estructura interna de otro módulo y cuánto depende de él.</p>
<h5 id="311-definicion-formal">3.1.1. Definición formal<a class="headerlink" href="#311-definicion-formal" title="Permanent link">&para;</a></h5>
<p><strong>Acoplamiento</strong> = Grado de dependencia que un módulo tiene respecto a otros módulos.</p>
<p><strong>Alto acoplamiento</strong> significa:
- Los módulos están fuertemente conectados
- Cambios en un módulo requieren cambios en otros
- Difícil de reutilizar módulos de forma independiente
- <abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> complejo (necesitas muchos mocks)
- Sistema frágil (cambios causan efectos en cascada)</p>
<p><strong>Bajo acoplamiento</strong> significa:
- Los módulos son independientes
- Cambios localizados en un módulo
- Fácil de reutilizar y testear
- Sistema robusto y flexible</p>
<h5 id="312-analogias-del-mundo-real">3.1.2.  Analogías del mundo real<a class="headerlink" href="#312-analogias-del-mundo-real" title="Permanent link">&para;</a></h5>
<p><strong>Analogía 1 - Componentes de computadora</strong>:
- <strong>Bajo acoplamiento</strong>: USB (puedes conectar cualquier dispositivo USB a cualquier puerto USB)
- <strong>Alto acoplamiento</strong>: CPU soldada a la placa madre (cambiar una requiere cambiar la otra)</p>
<p><strong>Analogía 2 - Muebles</strong>:
- <strong>Bajo acoplamiento</strong>: Muebles modulares IKEA (puedes reemplazar una pieza sin afectar las demás)
- <strong>Alto acoplamiento</strong>: Mueble de madera maciza (todo es una sola pieza)</p>
<p><strong>Analogía 3 - Restaurante</strong>:
- <strong>Bajo acoplamiento</strong>: Cocina solo conoce el pedido (no sabe quién lo pidió ni cómo pagará)
- <strong>Alto acoplamiento</strong>: Chef que también toma pedidos, cobra y limpia mesas</p>
<h5 id="313-por-que-importa-el-acoplamiento">3.1.3.  ¿Por qué importa el acoplamiento?<a class="headerlink" href="#313-por-que-importa-el-acoplamiento" title="Permanent link">&para;</a></h5>
<p>El acoplamiento es crítico porque:</p>
<ol>
<li><strong>Mantenibilidad</strong>: Cambios en un módulo no deberían romper otros</li>
<li><strong>Testeabilidad</strong>: Módulos desacoplados son fáciles de probar</li>
<li><strong>Reusabilidad</strong>: Módulos independientes pueden reutilizarse</li>
<li><strong>Comprensión</strong>: Menos dependencias = más fácil de entender</li>
<li><strong>Desarrollo paralelo</strong>: Equipos pueden trabajar en módulos diferentes</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Acoplamiento inevitable</p>
<p>Es imposible tener acoplamiento cero (los módulos deben comunicarse). El objetivo es minimizarlo y hacerlo explícito.</p>
</div>
<h5 id="314-senales-de-alto-acoplamiento">3.1.4.  Señales de alto acoplamiento<a class="headerlink" href="#314-senales-de-alto-acoplamiento" title="Permanent link">&para;</a></h5>
<p>Identifica problemas cuando:</p>
<ul>
<li>❌ Cambiar una clase requiere cambiar 5-10 clases más</li>
<li>❌ No puedes testear una clase sin instanciar otras 10</li>
<li>❌ Una clase accede directamente a atributos de otra</li>
<li>❌ Muchas clases importan la misma clase concreta</li>
<li>❌ Cambios en la base de datos rompen la UI</li>
<li>❌ No puedes reutilizar un módulo sin arrastrar medio proyecto</li>
</ul>
<h5 id="315-ejemplo-introductorio">3.1.5.  Ejemplo introductorio<a class="headerlink" href="#315-ejemplo-introductorio" title="Permanent link">&para;</a></h5>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1">// ❌ ALTO ACOPLAMIENTO - Dependencias directas y rígidas</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ProcesadorPedido</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">baseDatos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BaseDatosMySQL</span><span class="p">()</span><span class="w">  </span><span class="c1">// Dependencia concreta</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">emailSender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServidorEmailSMTP</span><span class="p">()</span><span class="w">  </span><span class="c1">// Dependencia concreta</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LoggerArchivo</span><span class="p">()</span><span class="w">  </span><span class="c1">// Dependencia concreta</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesar</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">        </span><span class="c1">// Fuertemente acoplado a implementaciones específicas</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">        </span><span class="n">baseDatos</span><span class="p">.</span><span class="na">conectar</span><span class="p">(</span><span class="s">&quot;localhost&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;password&quot;</span><span class="p">)</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">        </span><span class="n">baseDatos</span><span class="p">.</span><span class="na">guardar</span><span class="p">(</span><span class="s">&quot;INSERT INTO pedidos...&quot;</span><span class="p">)</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">        </span><span class="n">emailSender</span><span class="p">.</span><span class="na">configurar</span><span class="p">(</span><span class="s">&quot;smtp.gmail.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">587</span><span class="p">)</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">        </span><span class="n">emailSender</span><span class="p">.</span><span class="na">enviar</span><span class="p">(</span><span class="s">&quot;cliente@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Pedido confirmado&quot;</span><span class="p">)</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a><span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">escribir</span><span class="p">(</span><span class="s">&quot;/var/log/app.log&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Pedido procesado: </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">id</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-23-17" name="__codelineno-23-17" href="#__codelineno-23-17"></a><span class="p">}</span>
<a id="__codelineno-23-18" name="__codelineno-23-18" href="#__codelineno-23-18"></a>
<a id="__codelineno-23-19" name="__codelineno-23-19" href="#__codelineno-23-19"></a><span class="kd">class</span><span class="w"> </span><span class="nc">BaseDatosMySQL</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-20" name="__codelineno-23-20" href="#__codelineno-23-20"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">conectar</span><span class="p">(</span><span class="n">host</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">user</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">pwd</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-23-21" name="__codelineno-23-21" href="#__codelineno-23-21"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">sql</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-23-22" name="__codelineno-23-22" href="#__codelineno-23-22"></a><span class="p">}</span>
<a id="__codelineno-23-23" name="__codelineno-23-23" href="#__codelineno-23-23"></a>
<a id="__codelineno-23-24" name="__codelineno-23-24" href="#__codelineno-23-24"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServidorEmailSMTP</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-25" name="__codelineno-23-25" href="#__codelineno-23-25"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">configurar</span><span class="p">(</span><span class="n">servidor</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">puerto</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-23-26" name="__codelineno-23-26" href="#__codelineno-23-26"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviar</span><span class="p">(</span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-23-27" name="__codelineno-23-27" href="#__codelineno-23-27"></a><span class="p">}</span>
<a id="__codelineno-23-28" name="__codelineno-23-28" href="#__codelineno-23-28"></a>
<a id="__codelineno-23-29" name="__codelineno-23-29" href="#__codelineno-23-29"></a><span class="kd">class</span><span class="w"> </span><span class="nc">LoggerArchivo</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-23-30" name="__codelineno-23-30" href="#__codelineno-23-30"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">escribir</span><span class="p">(</span><span class="n">ruta</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-23-31" name="__codelineno-23-31" href="#__codelineno-23-31"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Problemas</strong>:
- Cambiar de MySQL a PostgreSQL requiere modificar ProcesadorPedido
- No puedes testear sin una BD real, servidor <abbr title="Protocolo de Transferencia de Correo Simple. Es un protocolo que se utiliza para enviar y recibir correos electrónicos entre servidores de correo. El SMTP permite a los usuarios enviar correos electrónicos a través de la red de forma segura y eficiente.">SMTP</abbr> real, etc.
- No puedes reutilizar ProcesadorPedido con otro sistema de email
- Conoce detalles de implementación (hosts, puertos, rutas)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">// BAJO ACOPLAMIENTO - Dependencias mediante interfaces</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">RepositorioPedidos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="p">}</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">ServicioEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviar</span><span class="p">(</span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="p">}</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">Logger</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">log</span><span class="p">(</span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="p">}</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ProcesadorPedido</span><span class="p">(</span>
<a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">repositorio</span><span class="p">:</span><span class="w"> </span><span class="n">RepositorioPedidos</span><span class="p">,</span>
<a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">emailService</span><span class="p">:</span><span class="w"> </span><span class="n">ServicioEmail</span><span class="p">,</span>
<a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">logger</span><span class="p">:</span><span class="w"> </span><span class="n">Logger</span>
<a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesar</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-20" name="__codelineno-24-20" href="#__codelineno-24-20"></a><span class="w">        </span><span class="c1">// Desacoplado de implementaciones específicas</span>
<a id="__codelineno-24-21" name="__codelineno-24-21" href="#__codelineno-24-21"></a><span class="w">        </span><span class="n">repositorio</span><span class="p">.</span><span class="na">guardar</span><span class="p">(</span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-24-22" name="__codelineno-24-22" href="#__codelineno-24-22"></a><span class="w">        </span><span class="n">emailService</span><span class="p">.</span><span class="na">enviar</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">cliente</span><span class="p">.</span><span class="na">email</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Pedido confirmado&quot;</span><span class="p">)</span>
<a id="__codelineno-24-23" name="__codelineno-24-23" href="#__codelineno-24-23"></a><span class="w">        </span><span class="n">logger</span><span class="p">.</span><span class="na">log</span><span class="p">(</span><span class="s">&quot;Pedido procesado: </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">id</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-24-24" name="__codelineno-24-24" href="#__codelineno-24-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-24-25" name="__codelineno-24-25" href="#__codelineno-24-25"></a><span class="p">}</span>
<a id="__codelineno-24-26" name="__codelineno-24-26" href="#__codelineno-24-26"></a>
<a id="__codelineno-24-27" name="__codelineno-24-27" href="#__codelineno-24-27"></a><span class="c1">// Implementaciones concretas</span>
<a id="__codelineno-24-28" name="__codelineno-24-28" href="#__codelineno-24-28"></a><span class="kd">class</span><span class="w"> </span><span class="nc">RepositorioPedidosMySQL</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">RepositorioPedidos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-29" name="__codelineno-24-29" href="#__codelineno-24-29"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* MySQL */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-24-30" name="__codelineno-24-30" href="#__codelineno-24-30"></a><span class="p">}</span>
<a id="__codelineno-24-31" name="__codelineno-24-31" href="#__codelineno-24-31"></a>
<a id="__codelineno-24-32" name="__codelineno-24-32" href="#__codelineno-24-32"></a><span class="kd">class</span><span class="w"> </span><span class="nc">RepositorioPedidosPostgreSQL</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">RepositorioPedidos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-33" name="__codelineno-24-33" href="#__codelineno-24-33"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* PostgreSQL */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-24-34" name="__codelineno-24-34" href="#__codelineno-24-34"></a><span class="p">}</span>
<a id="__codelineno-24-35" name="__codelineno-24-35" href="#__codelineno-24-35"></a>
<a id="__codelineno-24-36" name="__codelineno-24-36" href="#__codelineno-24-36"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioEmailSMTP</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ServicioEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-37" name="__codelineno-24-37" href="#__codelineno-24-37"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviar</span><span class="p">(</span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* SMTP */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-24-38" name="__codelineno-24-38" href="#__codelineno-24-38"></a><span class="p">}</span>
<a id="__codelineno-24-39" name="__codelineno-24-39" href="#__codelineno-24-39"></a>
<a id="__codelineno-24-40" name="__codelineno-24-40" href="#__codelineno-24-40"></a><span class="kd">class</span><span class="w"> </span><span class="nc">LoggerArchivo</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Logger</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-41" name="__codelineno-24-41" href="#__codelineno-24-41"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">log</span><span class="p">(</span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* File */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-24-42" name="__codelineno-24-42" href="#__codelineno-24-42"></a><span class="p">}</span>
<a id="__codelineno-24-43" name="__codelineno-24-43" href="#__codelineno-24-43"></a>
<a id="__codelineno-24-44" name="__codelineno-24-44" href="#__codelineno-24-44"></a><span class="kd">class</span><span class="w"> </span><span class="nc">LoggerConsola</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Logger</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-45" name="__codelineno-24-45" href="#__codelineno-24-45"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">log</span><span class="p">(</span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="n">mensaje</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-24-46" name="__codelineno-24-46" href="#__codelineno-24-46"></a><span class="p">}</span>
<a id="__codelineno-24-47" name="__codelineno-24-47" href="#__codelineno-24-47"></a>
<a id="__codelineno-24-48" name="__codelineno-24-48" href="#__codelineno-24-48"></a><span class="c1">// Uso con inyección de dependencias</span>
<a id="__codelineno-24-49" name="__codelineno-24-49" href="#__codelineno-24-49"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-24-50" name="__codelineno-24-50" href="#__codelineno-24-50"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">procesador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ProcesadorPedido</span><span class="p">(</span>
<a id="__codelineno-24-51" name="__codelineno-24-51" href="#__codelineno-24-51"></a><span class="w">        </span><span class="n">repositorio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RepositorioPedidosMySQL</span><span class="p">(),</span>
<a id="__codelineno-24-52" name="__codelineno-24-52" href="#__codelineno-24-52"></a><span class="w">        </span><span class="n">emailService</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioEmailSMTP</span><span class="p">(),</span>
<a id="__codelineno-24-53" name="__codelineno-24-53" href="#__codelineno-24-53"></a><span class="w">        </span><span class="n">logger</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">LoggerConsola</span><span class="p">()</span>
<a id="__codelineno-24-54" name="__codelineno-24-54" href="#__codelineno-24-54"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-24-55" name="__codelineno-24-55" href="#__codelineno-24-55"></a>
<a id="__codelineno-24-56" name="__codelineno-24-56" href="#__codelineno-24-56"></a><span class="w">    </span><span class="n">procesador</span><span class="p">.</span><span class="na">procesar</span><span class="p">(</span><span class="n">Pedido</span><span class="p">(</span><span class="s">&quot;P001&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">Cliente</span><span class="p">(</span><span class="s">&quot;Juan&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;juan@example.com&quot;</span><span class="p">),</span><span class="w"> </span><span class="n">listOf</span><span class="p">()))</span>
<a id="__codelineno-24-57" name="__codelineno-24-57" href="#__codelineno-24-57"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios</strong>:
- Cambiar implementaciones no requiere modificar ProcesadorPedido
- <abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> fácil con mocks
- Reutilizable con cualquier combinación de servicios
- Respeta el Principio de Inversión de Dependencias</p>
<p>En las siguientes secciones exploraremos los diferentes tipos de acoplamiento y estrategias para reducirlo.</p>
<h4 id="32-tipos-de-acoplamiento-de-peor-a-mejor">3.2. Tipos de acoplamiento: De peor a mejor<a class="headerlink" href="#32-tipos-de-acoplamiento-de-peor-a-mejor" title="Permanent link">&para;</a></h4>
<p>El acoplamiento, al igual que la cohesión, se clasifica en diferentes niveles. Conocer estos tipos te ayudará a identificar y reducir el acoplamiento en tu código.</p>
<h5 id="321-tabla-resumen-de-tipos-de-acoplamiento">3.2.1. Tabla resumen de tipos de acoplamiento<a class="headerlink" href="#321-tabla-resumen-de-tipos-de-acoplamiento" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>Nivel</th>
<th>Tipo</th>
<th>Calidad</th>
<th>Descripción breve</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Acoplamiento de contenido</td>
<td>❌ La peor</td>
<td>Un módulo modifica o depende del interior de otro</td>
</tr>
<tr>
<td>2</td>
<td>Acoplamiento común</td>
<td>🔴 Muy malo</td>
<td>Módulos comparten datos globales</td>
</tr>
<tr>
<td>3</td>
<td>Acoplamiento externo</td>
<td>🟠 Malo</td>
<td>Dependencia de formato externo compartido</td>
</tr>
<tr>
<td>4</td>
<td>Acoplamiento de control</td>
<td>🟡 Regular</td>
<td>Un módulo controla el flujo de otro con flags</td>
</tr>
<tr>
<td>5</td>
<td>Acoplamiento de estampado</td>
<td>🟢 Aceptable</td>
<td>Módulos comparten estructura de datos compleja</td>
</tr>
<tr>
<td>6</td>
<td>Acoplamiento de datos</td>
<td>🔵 Bueno</td>
<td>Módulos comparten solo datos simples</td>
</tr>
<tr>
<td>7</td>
<td>Acoplamiento de mensaje</td>
<td>La mejor</td>
<td>Comunicación solo por paso de mensajes/interfaces</td>
</tr>
</tbody>
</table>
<h5 id="322-acoplamiento-de-contenido-nivel-1-la-peor">3.2.2. Acoplamiento de Contenido (Nivel 1 - ❌ La peor)<a class="headerlink" href="#322-acoplamiento-de-contenido-nivel-1-la-peor" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Un módulo <strong>modifica o accede directamente al interior de otro módulo</strong>, incluyendo sus variables privadas, flujo de control interno, o datos locales.</p>
<p><strong>Características</strong>:
- Un módulo referencia o altera directamente el contenido de otro
- Acceso a variables privadas/internas
- Saltos a mitad del código de otro módulo
- Extremadamente frágil y difícil de mantener</p>
<p><strong>Ejemplo típico</strong>: Acceso a miembros privados (simulado con reflexión)</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="c1">// ❌ ACOPLAMIENTO DE CONTENIDO - Accediendo a privados</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Usuario</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">saldo</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">depositar</span><span class="p">(</span><span class="n">monto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">monto</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">            </span><span class="n">saldo</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">monto</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a>
<a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtenerSaldo</span><span class="p">():</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">saldo</span>
<a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="p">}</span>
<a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a>
<a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a><span class="kd">class</span><span class="w"> </span><span class="nc">HackerCuenta</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">modificarSaldoDirectamente</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">,</span><span class="w"> </span><span class="n">nuevoSaldo</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">        </span><span class="c1">// En algunos lenguajes esto sería posible con reflexión</span>
<a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a><span class="w">        </span><span class="c1">// En Kotlin: acceso mediante reflection (muy malo)</span>
<a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">campo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Usuario</span><span class="o">::</span><span class="n">class</span><span class="p">.</span><span class="na">java</span><span class="p">.</span><span class="na">getDeclaredField</span><span class="p">(</span><span class="s">&quot;saldo&quot;</span><span class="p">)</span>
<a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a><span class="w">        </span><span class="n">campo</span><span class="p">.</span><span class="na">isAccessible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a><span class="w">        </span><span class="n">campo</span><span class="p">.</span><span class="na">setDouble</span><span class="p">(</span><span class="n">usuario</span><span class="p">,</span><span class="w"> </span><span class="n">nuevoSaldo</span><span class="p">)</span>
<a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Saldo modificado directamente: </span><span class="si">$</span><span class="n">nuevoSaldo</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a><span class="p">}</span>
<a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a>
<a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a><span class="c1">// Uso problemático</span>
<a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">usuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Usuario</span><span class="p">(</span><span class="m">100.0</span><span class="p">)</span>
<a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">hacker</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HackerCuenta</span><span class="p">()</span>
<a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a>
<a id="__codelineno-25-28" name="__codelineno-25-28" href="#__codelineno-25-28"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Saldo inicial: </span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">obtenerSaldo</span><span class="p">()</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-25-29" name="__codelineno-25-29" href="#__codelineno-25-29"></a><span class="w">    </span><span class="n">hacker</span><span class="p">.</span><span class="na">modificarSaldoDirectamente</span><span class="p">(</span><span class="n">usuario</span><span class="p">,</span><span class="w"> </span><span class="m">1000000.0</span><span class="p">)</span>
<a id="__codelineno-25-30" name="__codelineno-25-30" href="#__codelineno-25-30"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Saldo después de hack: </span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">obtenerSaldo</span><span class="p">()</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-25-31" name="__codelineno-25-31" href="#__codelineno-25-31"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Otro ejemplo</strong>: Dependencia de implementación interna</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1">// ❌ ACOPLAMIENTO DE CONTENIDO - Dependiendo de detalles internos</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CarritoCompras</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="w">    </span><span class="c1">// Mal diseño: lista internal expuesta</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="w">    </span><span class="kd">internal</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableListOf</span><span class="o">&lt;</span><span class="n">Producto</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">agregar</span><span class="p">(</span><span class="n">producto</span><span class="p">:</span><span class="w"> </span><span class="n">Producto</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="w">        </span><span class="n">items</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">producto</span><span class="p">)</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="p">}</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CalculadoraDescuentos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicarDescuentoMasivo</span><span class="p">(</span><span class="n">carrito</span><span class="p">:</span><span class="w"> </span><span class="n">CarritoCompras</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-26-13" name="__codelineno-26-13" href="#__codelineno-26-13"></a><span class="w">        </span><span class="c1">// Acoplamiento fuerte: accedemos a internal</span>
<a id="__codelineno-26-14" name="__codelineno-26-14" href="#__codelineno-26-14"></a><span class="w">        </span><span class="n">carrito</span><span class="p">.</span><span class="na">items</span><span class="p">.</span><span class="na">forEach</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">producto</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-26-15" name="__codelineno-26-15" href="#__codelineno-26-15"></a><span class="w">            </span><span class="n">producto</span><span class="p">.</span><span class="na">precio</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="m">0.9</span><span class="w">  </span><span class="c1">// 10% descuento</span>
<a id="__codelineno-26-16" name="__codelineno-26-16" href="#__codelineno-26-16"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-26-17" name="__codelineno-26-17" href="#__codelineno-26-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-26-18" name="__codelineno-26-18" href="#__codelineno-26-18"></a><span class="p">}</span>
<a id="__codelineno-26-19" name="__codelineno-26-19" href="#__codelineno-26-19"></a>
<a id="__codelineno-26-20" name="__codelineno-26-20" href="#__codelineno-26-20"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Producto</span><span class="p">(</span><span class="kd">var</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">precio</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span>
</code></pre></div>
<p><strong>Problemas</strong>:
- Rompe completamente la encapsulación
- Cualquier cambio interno rompe el código dependiente
- Imposible de mantener o refactorizar
- Bugs difíciles de rastrear</p>
<p><strong>Solución - Respetar encapsulación y usar <abbr title="Interfaz de Programación de Aplicaciones. Conjunto de definiciones y protocolos que se utilizan para desarrollar e integrar el software de las aplicaciones. Las API permiten que diferentes aplicaciones se comuniquen entre sí, compartan datos y funcionalidades.">API</abbr> pública</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="c1">// BAJO ACOPLAMIENTO - Solo API pública</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Usuario</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">saldo</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">depositar</span><span class="p">(</span><span class="n">monto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">monto</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="w">            </span><span class="n">saldo</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">monto</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="w">            </span><span class="kc">true</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a><span class="w">            </span><span class="kc">false</span>
<a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>
<a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">retirar</span><span class="p">(</span><span class="n">monto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">monto</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">saldo</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">monto</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a><span class="w">            </span><span class="n">saldo</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">monto</span>
<a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a><span class="w">            </span><span class="kc">true</span>
<a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="w">            </span><span class="kc">false</span>
<a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a>
<a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtenerSaldo</span><span class="p">():</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">saldo</span>
<a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="p">}</span>
<a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a>
<a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CarritoCompras</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableListOf</span><span class="o">&lt;</span><span class="n">Producto</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a>
<a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">agregar</span><span class="p">(</span><span class="n">producto</span><span class="p">:</span><span class="w"> </span><span class="n">Producto</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a><span class="w">        </span><span class="n">items</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">producto</span><span class="p">)</span>
<a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a>
<a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtenerItems</span><span class="p">():</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Producto</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">toList</span><span class="p">()</span><span class="w">  </span><span class="c1">// Copia defensiva</span>
<a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a>
<a id="__codelineno-27-33" name="__codelineno-27-33" href="#__codelineno-27-33"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicarDescuentoTodos</span><span class="p">(</span><span class="n">porcentaje</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-34" name="__codelineno-27-34" href="#__codelineno-27-34"></a><span class="w">        </span><span class="n">items</span><span class="p">.</span><span class="na">forEach</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">aplicarDescuento</span><span class="p">(</span><span class="n">porcentaje</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-27-35" name="__codelineno-27-35" href="#__codelineno-27-35"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-36" name="__codelineno-27-36" href="#__codelineno-27-36"></a><span class="p">}</span>
<a id="__codelineno-27-37" name="__codelineno-27-37" href="#__codelineno-27-37"></a>
<a id="__codelineno-27-38" name="__codelineno-27-38" href="#__codelineno-27-38"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Producto</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">precio</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-39" name="__codelineno-27-39" href="#__codelineno-27-39"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtenerPrecio</span><span class="p">():</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">precio</span>
<a id="__codelineno-27-40" name="__codelineno-27-40" href="#__codelineno-27-40"></a>
<a id="__codelineno-27-41" name="__codelineno-27-41" href="#__codelineno-27-41"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicarDescuento</span><span class="p">(</span><span class="n">porcentaje</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-42" name="__codelineno-27-42" href="#__codelineno-27-42"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">porcentaje</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="m">0.0</span><span class="p">..</span><span class="m">100.0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-27-43" name="__codelineno-27-43" href="#__codelineno-27-43"></a><span class="w">            </span><span class="n">precio</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="p">(</span><span class="m">1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">porcentaje</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">100</span><span class="p">)</span>
<a id="__codelineno-27-44" name="__codelineno-27-44" href="#__codelineno-27-44"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-27-45" name="__codelineno-27-45" href="#__codelineno-27-45"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-27-46" name="__codelineno-27-46" href="#__codelineno-27-46"></a><span class="p">}</span>
</code></pre></div>
<h5 id="323-acoplamiento-comun-nivel-2-muy-malo">3.2.3. Acoplamiento Común (Nivel 2 - 🔴 Muy malo)<a class="headerlink" href="#323-acoplamiento-comun-nivel-2-muy-malo" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Dos o más módulos <strong>comparten datos globales</strong>. Cualquiera puede leer y modificar estos datos, creando dependencias ocultas.</p>
<p><strong>Características</strong>:
- Variables globales compartidas
- Singletons mutables compartidos
- Estado global compartido
- Efectos colaterales difíciles de rastrear</p>
<p><strong>Ejemplo típico</strong>: Variables globales</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="c1">// ❌ ACOPLAMIENTO COMÚN - Variables globales compartidas</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="kd">object</span><span class="w"> </span><span class="nc">ConfiguracionGlobal</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">nombreUsuario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">idioma</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;es&quot;</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">modoDebug</span><span class="p">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">tasaImpuesto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.21</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="p">}</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioFacturacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarFactura</span><span class="p">(</span><span class="n">monto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">        </span><span class="c1">// Depende del estado global</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">impuesto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">monto</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">ConfiguracionGlobal</span><span class="p">.</span><span class="na">tasaImpuesto</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">monto</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">impuesto</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="p">}</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a>
<a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioReportes</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarReporte</span><span class="p">():</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="w">        </span><span class="c1">// También depende del estado global</span>
<a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Reporte generado en </span><span class="si">${</span><span class="n">ConfiguracionGlobal</span><span class="p">.</span><span class="na">idioma</span><span class="si">}</span><span class="s"> &quot;</span><span class="w"> </span><span class="o">+</span>
<a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="w">               </span><span class="s">&quot;para </span><span class="si">${</span><span class="n">ConfiguracionGlobal</span><span class="p">.</span><span class="na">nombreUsuario</span><span class="si">}</span><span class="s">&quot;</span>
<a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-23" name="__codelineno-28-23" href="#__codelineno-28-23"></a><span class="p">}</span>
<a id="__codelineno-28-24" name="__codelineno-28-24" href="#__codelineno-28-24"></a>
<a id="__codelineno-28-25" name="__codelineno-28-25" href="#__codelineno-28-25"></a><span class="kd">class</span><span class="w"> </span><span class="nc">PanelAdmin</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-26" name="__codelineno-28-26" href="#__codelineno-28-26"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cambiarTasaImpuesto</span><span class="p">(</span><span class="n">nuevaTasa</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-28-27" name="__codelineno-28-27" href="#__codelineno-28-27"></a><span class="w">        </span><span class="c1">// Modifica estado global - afecta a TODOS</span>
<a id="__codelineno-28-28" name="__codelineno-28-28" href="#__codelineno-28-28"></a><span class="w">        </span><span class="n">ConfiguracionGlobal</span><span class="p">.</span><span class="na">tasaImpuesto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nuevaTasa</span>
<a id="__codelineno-28-29" name="__codelineno-28-29" href="#__codelineno-28-29"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Tasa de impuesto cambiada globalmente a </span><span class="si">$</span><span class="n">nuevaTasa</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-28-30" name="__codelineno-28-30" href="#__codelineno-28-30"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-28-31" name="__codelineno-28-31" href="#__codelineno-28-31"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Problemas</strong>:
- Cambios en ConfiguracionGlobal afectan a múltiples clases
- <abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> complicado (estado compartido entre tests)
- Difícil rastrear quién modifica qué
- Condiciones de carrera en programación concurrente
- Imposible tener configuraciones diferentes simultáneamente</p>
<p><strong>Otro ejemplo</strong>: Singleton mutable</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="c1">// ❌ ACOPLAMIENTO COMÚN - Singleton mutable</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="kd">object</span><span class="w"> </span><span class="nc">CacheGlobal</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">cache</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableMapOf</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">Any</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">clave</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">valor</span><span class="p">:</span><span class="w"> </span><span class="kt">Any</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w">        </span><span class="n">cache</span><span class="o">[</span><span class="n">clave</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">valor</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtener</span><span class="p">(</span><span class="n">clave</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Any?</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cache</span><span class="o">[</span><span class="n">clave</span><span class="o">]</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">limpiar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="w">        </span><span class="n">cache</span><span class="p">.</span><span class="na">clear</span><span class="p">()</span>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="p">}</span>
<a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a>
<a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioUsuarios</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarUsuario</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Usuario? </span><span class="p">{</span>
<a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a><span class="w">        </span><span class="c1">// Usa caché global</span>
<a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">cached</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CacheGlobal</span><span class="p">.</span><span class="na">obtener</span><span class="p">(</span><span class="s">&quot;usuario_</span><span class="si">$</span><span class="n">id</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cached</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Usuario</span>
<a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a>
<a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">usuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cargarDesdeBD</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<a id="__codelineno-29-23" name="__codelineno-29-23" href="#__codelineno-29-23"></a><span class="w">        </span><span class="n">CacheGlobal</span><span class="p">.</span><span class="na">guardar</span><span class="p">(</span><span class="s">&quot;usuario_</span><span class="si">$</span><span class="n">id</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-29-24" name="__codelineno-29-24" href="#__codelineno-29-24"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">usuario</span>
<a id="__codelineno-29-25" name="__codelineno-29-25" href="#__codelineno-29-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-26" name="__codelineno-29-26" href="#__codelineno-29-26"></a>
<a id="__codelineno-29-27" name="__codelineno-29-27" href="#__codelineno-29-27"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cargarDesdeBD</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Usuario</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-28" name="__codelineno-29-28" href="#__codelineno-29-28"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Usuario</span><span class="p">(</span><span class="m">100.0</span><span class="p">)</span><span class="w">  </span><span class="c1">// Simulado</span>
<a id="__codelineno-29-29" name="__codelineno-29-29" href="#__codelineno-29-29"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-30" name="__codelineno-29-30" href="#__codelineno-29-30"></a><span class="p">}</span>
<a id="__codelineno-29-31" name="__codelineno-29-31" href="#__codelineno-29-31"></a>
<a id="__codelineno-29-32" name="__codelineno-29-32" href="#__codelineno-29-32"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioProductos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-33" name="__codelineno-29-33" href="#__codelineno-29-33"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarProducto</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Producto? </span><span class="p">{</span>
<a id="__codelineno-29-34" name="__codelineno-29-34" href="#__codelineno-29-34"></a><span class="w">        </span><span class="c1">// También usa el mismo caché global</span>
<a id="__codelineno-29-35" name="__codelineno-29-35" href="#__codelineno-29-35"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">cached</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CacheGlobal</span><span class="p">.</span><span class="na">obtener</span><span class="p">(</span><span class="s">&quot;producto_</span><span class="si">$</span><span class="n">id</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-29-36" name="__codelineno-29-36" href="#__codelineno-29-36"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cached</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Producto</span>
<a id="__codelineno-29-37" name="__codelineno-29-37" href="#__codelineno-29-37"></a>
<a id="__codelineno-29-38" name="__codelineno-29-38" href="#__codelineno-29-38"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">producto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cargarDesdeBD</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<a id="__codelineno-29-39" name="__codelineno-29-39" href="#__codelineno-29-39"></a><span class="w">        </span><span class="n">CacheGlobal</span><span class="p">.</span><span class="na">guardar</span><span class="p">(</span><span class="s">&quot;producto_</span><span class="si">$</span><span class="n">id</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">producto</span><span class="p">)</span>
<a id="__codelineno-29-40" name="__codelineno-29-40" href="#__codelineno-29-40"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">producto</span>
<a id="__codelineno-29-41" name="__codelineno-29-41" href="#__codelineno-29-41"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-42" name="__codelineno-29-42" href="#__codelineno-29-42"></a>
<a id="__codelineno-29-43" name="__codelineno-29-43" href="#__codelineno-29-43"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cargarDesdeBD</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Producto</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-29-44" name="__codelineno-29-44" href="#__codelineno-29-44"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Producto</span><span class="p">(</span><span class="s">&quot;Producto&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">50.0</span><span class="p">)</span><span class="w">  </span><span class="c1">// Simulado</span>
<a id="__codelineno-29-45" name="__codelineno-29-45" href="#__codelineno-29-45"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-29-46" name="__codelineno-29-46" href="#__codelineno-29-46"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Solución - Inyección de dependencias</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="c1">// BAJO ACOPLAMIENTO - Configuración inyectada</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Configuracion</span><span class="p">(</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">nombreUsuario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">idioma</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">modoDebug</span><span class="p">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="p">,</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">tasaImpuesto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="p">)</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioFacturacion</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">config</span><span class="p">:</span><span class="w"> </span><span class="n">Configuracion</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarFactura</span><span class="p">(</span><span class="n">monto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">impuesto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">monto</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">config</span><span class="p">.</span><span class="na">tasaImpuesto</span>
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">monto</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">impuesto</span>
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a><span class="p">}</span>
<a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a>
<a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioReportes</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">config</span><span class="p">:</span><span class="w"> </span><span class="n">Configuracion</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generarReporte</span><span class="p">():</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Reporte generado en </span><span class="si">${</span><span class="n">config</span><span class="p">.</span><span class="na">idioma</span><span class="si">}</span><span class="s"> para </span><span class="si">${</span><span class="n">config</span><span class="p">.</span><span class="na">nombreUsuario</span><span class="si">}</span><span class="s">&quot;</span>
<a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-30-20" name="__codelineno-30-20" href="#__codelineno-30-20"></a><span class="p">}</span>
<a id="__codelineno-30-21" name="__codelineno-30-21" href="#__codelineno-30-21"></a>
<a id="__codelineno-30-22" name="__codelineno-30-22" href="#__codelineno-30-22"></a><span class="c1">// Caché como dependencia inyectable</span>
<a id="__codelineno-30-23" name="__codelineno-30-23" href="#__codelineno-30-23"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">Cache</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-24" name="__codelineno-30-24" href="#__codelineno-30-24"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">clave</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">valor</span><span class="p">:</span><span class="w"> </span><span class="kt">Any</span><span class="p">)</span>
<a id="__codelineno-30-25" name="__codelineno-30-25" href="#__codelineno-30-25"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtener</span><span class="p">(</span><span class="n">clave</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Any?</span>
<a id="__codelineno-30-26" name="__codelineno-30-26" href="#__codelineno-30-26"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">limpiar</span><span class="p">()</span>
<a id="__codelineno-30-27" name="__codelineno-30-27" href="#__codelineno-30-27"></a><span class="p">}</span>
<a id="__codelineno-30-28" name="__codelineno-30-28" href="#__codelineno-30-28"></a>
<a id="__codelineno-30-29" name="__codelineno-30-29" href="#__codelineno-30-29"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CacheMemoria</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Cache</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-30" name="__codelineno-30-30" href="#__codelineno-30-30"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">cache</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableMapOf</span><span class="o">&lt;</span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kt">Any</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-30-31" name="__codelineno-30-31" href="#__codelineno-30-31"></a>
<a id="__codelineno-30-32" name="__codelineno-30-32" href="#__codelineno-30-32"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">clave</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">valor</span><span class="p">:</span><span class="w"> </span><span class="kt">Any</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-33" name="__codelineno-30-33" href="#__codelineno-30-33"></a><span class="w">        </span><span class="n">cache</span><span class="o">[</span><span class="n">clave</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">valor</span>
<a id="__codelineno-30-34" name="__codelineno-30-34" href="#__codelineno-30-34"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-30-35" name="__codelineno-30-35" href="#__codelineno-30-35"></a>
<a id="__codelineno-30-36" name="__codelineno-30-36" href="#__codelineno-30-36"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">obtener</span><span class="p">(</span><span class="n">clave</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Any?</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cache</span><span class="o">[</span><span class="n">clave</span><span class="o">]</span>
<a id="__codelineno-30-37" name="__codelineno-30-37" href="#__codelineno-30-37"></a>
<a id="__codelineno-30-38" name="__codelineno-30-38" href="#__codelineno-30-38"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">limpiar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-39" name="__codelineno-30-39" href="#__codelineno-30-39"></a><span class="w">        </span><span class="n">cache</span><span class="p">.</span><span class="na">clear</span><span class="p">()</span>
<a id="__codelineno-30-40" name="__codelineno-30-40" href="#__codelineno-30-40"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-30-41" name="__codelineno-30-41" href="#__codelineno-30-41"></a><span class="p">}</span>
<a id="__codelineno-30-42" name="__codelineno-30-42" href="#__codelineno-30-42"></a>
<a id="__codelineno-30-43" name="__codelineno-30-43" href="#__codelineno-30-43"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioUsuarios</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">cache</span><span class="p">:</span><span class="w"> </span><span class="n">Cache</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-44" name="__codelineno-30-44" href="#__codelineno-30-44"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarUsuario</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Usuario? </span><span class="p">{</span>
<a id="__codelineno-30-45" name="__codelineno-30-45" href="#__codelineno-30-45"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">cached</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cache</span><span class="p">.</span><span class="na">obtener</span><span class="p">(</span><span class="s">&quot;usuario_</span><span class="si">$</span><span class="n">id</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-30-46" name="__codelineno-30-46" href="#__codelineno-30-46"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cached</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">cached</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">Usuario</span>
<a id="__codelineno-30-47" name="__codelineno-30-47" href="#__codelineno-30-47"></a>
<a id="__codelineno-30-48" name="__codelineno-30-48" href="#__codelineno-30-48"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">usuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cargarDesdeBD</span><span class="p">(</span><span class="n">id</span><span class="p">)</span>
<a id="__codelineno-30-49" name="__codelineno-30-49" href="#__codelineno-30-49"></a><span class="w">        </span><span class="n">cache</span><span class="p">.</span><span class="na">guardar</span><span class="p">(</span><span class="s">&quot;usuario_</span><span class="si">$</span><span class="n">id</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-30-50" name="__codelineno-30-50" href="#__codelineno-30-50"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">usuario</span>
<a id="__codelineno-30-51" name="__codelineno-30-51" href="#__codelineno-30-51"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-30-52" name="__codelineno-30-52" href="#__codelineno-30-52"></a>
<a id="__codelineno-30-53" name="__codelineno-30-53" href="#__codelineno-30-53"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">cargarDesdeBD</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Usuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Usuario</span><span class="p">(</span><span class="m">100.0</span><span class="p">)</span>
<a id="__codelineno-30-54" name="__codelineno-30-54" href="#__codelineno-30-54"></a><span class="p">}</span>
<a id="__codelineno-30-55" name="__codelineno-30-55" href="#__codelineno-30-55"></a>
<a id="__codelineno-30-56" name="__codelineno-30-56" href="#__codelineno-30-56"></a><span class="c1">// Uso</span>
<a id="__codelineno-30-57" name="__codelineno-30-57" href="#__codelineno-30-57"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-30-58" name="__codelineno-30-58" href="#__codelineno-30-58"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Configuracion</span><span class="p">(</span>
<a id="__codelineno-30-59" name="__codelineno-30-59" href="#__codelineno-30-59"></a><span class="w">        </span><span class="n">nombreUsuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Admin&quot;</span><span class="p">,</span>
<a id="__codelineno-30-60" name="__codelineno-30-60" href="#__codelineno-30-60"></a><span class="w">        </span><span class="n">idioma</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;es&quot;</span><span class="p">,</span>
<a id="__codelineno-30-61" name="__codelineno-30-61" href="#__codelineno-30-61"></a><span class="w">        </span><span class="n">modoDebug</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<a id="__codelineno-30-62" name="__codelineno-30-62" href="#__codelineno-30-62"></a><span class="w">        </span><span class="n">tasaImpuesto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.21</span>
<a id="__codelineno-30-63" name="__codelineno-30-63" href="#__codelineno-30-63"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-30-64" name="__codelineno-30-64" href="#__codelineno-30-64"></a>
<a id="__codelineno-30-65" name="__codelineno-30-65" href="#__codelineno-30-65"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">facturacion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioFacturacion</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<a id="__codelineno-30-66" name="__codelineno-30-66" href="#__codelineno-30-66"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">reportes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioReportes</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<a id="__codelineno-30-67" name="__codelineno-30-67" href="#__codelineno-30-67"></a>
<a id="__codelineno-30-68" name="__codelineno-30-68" href="#__codelineno-30-68"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">cache</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CacheMemoria</span><span class="p">()</span>
<a id="__codelineno-30-69" name="__codelineno-30-69" href="#__codelineno-30-69"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">usuarios</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioUsuarios</span><span class="p">(</span><span class="n">cache</span><span class="p">)</span>
<a id="__codelineno-30-70" name="__codelineno-30-70" href="#__codelineno-30-70"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios</strong>:
- Configuración explícita (no global)
- <abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> fácil (cada test con su configuración)
- Sin efectos colaterales ocultos
- Concurrencia segura</p>
<h5 id="324-acoplamiento-externo-nivel-3-malo">3.2.4. Acoplamiento Externo (Nivel 3 - 🟠 Malo)<a class="headerlink" href="#324-acoplamiento-externo-nivel-3-malo" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Módulos dependen de un <strong>formato, protocolo o convención externa</strong> compartida (formato de archivo, estructura de BD, protocolo de comunicación).</p>
<p><strong>Características</strong>:
- Dependencia de formato de datos externo
- Múltiples módulos conocen la misma estructura externa
- Cambios en el formato externo afectan a todos
- Típico en sistemas legacy</p>
<p><strong>Ejemplo típico</strong>: Múltiples clases dependiendo del mismo formato de archivo</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1">// ❌ ACOPLAMIENTO EXTERNO - Formato CSV hardcodeado en múltiples lugares</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">LectorUsuarios</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">leer</span><span class="p">(</span><span class="n">archivo</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">        </span><span class="c1">// Lee CSV con formato: id,nombre,email</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">lineas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">archivo</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="s">&quot;\n&quot;</span><span class="p">)</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">lineas</span><span class="p">.</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">linea</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">partes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linea</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">            </span><span class="n">Usuario</span><span class="p">(</span><span class="n">partes</span><span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="n">partes</span><span class="o">[</span><span class="m">2</span><span class="o">]</span><span class="p">)</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="p">}</span>
<a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a>
<a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorUsuarios</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validar</span><span class="p">(</span><span class="n">archivo</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-15" name="__codelineno-31-15" href="#__codelineno-31-15"></a><span class="w">        </span><span class="c1">// También conoce el formato CSV</span>
<a id="__codelineno-31-16" name="__codelineno-31-16" href="#__codelineno-31-16"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">lineas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">archivo</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="s">&quot;\n&quot;</span><span class="p">)</span>
<a id="__codelineno-31-17" name="__codelineno-31-17" href="#__codelineno-31-17"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">lineas</span><span class="p">.</span><span class="na">all</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">linea</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-31-18" name="__codelineno-31-18" href="#__codelineno-31-18"></a><span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">partes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linea</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)</span>
<a id="__codelineno-31-19" name="__codelineno-31-19" href="#__codelineno-31-19"></a><span class="w">            </span><span class="n">partes</span><span class="p">.</span><span class="na">size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="m">3</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">partes</span><span class="o">[</span><span class="m">2</span><span class="o">]</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">)</span>
<a id="__codelineno-31-20" name="__codelineno-31-20" href="#__codelineno-31-20"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-31-21" name="__codelineno-31-21" href="#__codelineno-31-21"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-31-22" name="__codelineno-31-22" href="#__codelineno-31-22"></a><span class="p">}</span>
<a id="__codelineno-31-23" name="__codelineno-31-23" href="#__codelineno-31-23"></a>
<a id="__codelineno-31-24" name="__codelineno-31-24" href="#__codelineno-31-24"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ExportadorUsuarios</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-25" name="__codelineno-31-25" href="#__codelineno-31-25"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">exportar</span><span class="p">(</span><span class="n">usuarios</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-31-26" name="__codelineno-31-26" href="#__codelineno-31-26"></a><span class="w">        </span><span class="c1">// También genera el mismo formato CSV</span>
<a id="__codelineno-31-27" name="__codelineno-31-27" href="#__codelineno-31-27"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">usuarios</span><span class="p">.</span><span class="na">mapIndexed</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">usuario</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-31-28" name="__codelineno-31-28" href="#__codelineno-31-28"></a><span class="w">            </span><span class="s">&quot;</span><span class="si">${</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="si">}</span><span class="s">,</span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">nombre</span><span class="si">}</span><span class="s">,</span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">email</span><span class="si">}</span><span class="s">&quot;</span>
<a id="__codelineno-31-29" name="__codelineno-31-29" href="#__codelineno-31-29"></a><span class="w">        </span><span class="p">}.</span><span class="na">joinToString</span><span class="p">(</span><span class="s">&quot;\n&quot;</span><span class="p">)</span>
<a id="__codelineno-31-30" name="__codelineno-31-30" href="#__codelineno-31-30"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-31-31" name="__codelineno-31-31" href="#__codelineno-31-31"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Problemas</strong>:
- Cambiar el formato CSV requiere modificar 3 clases
- No hay punto único de responsabilidad
- Difícil mantener consistencia</p>
<p><strong>Solución - Encapsular el formato en una abstracción</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="c1">// BAJO ACOPLAMIENTO - Formato encapsulado</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">FormatoUsuario</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">parsear</span><span class="p">(</span><span class="n">contenido</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">serializar</span><span class="p">(</span><span class="n">usuarios</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="p">}</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="kd">class</span><span class="w"> </span><span class="nc">FormatoCSVUsuario</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">FormatoUsuario</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">parsear</span><span class="p">(</span><span class="n">contenido</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">lineas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">contenido</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="s">&quot;\n&quot;</span><span class="p">).</span><span class="na">filter</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">isNotBlank</span><span class="p">()</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">lineas</span><span class="p">.</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">linea</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">partes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">linea</span><span class="p">.</span><span class="na">split</span><span class="p">(</span><span class="s">&quot;,&quot;</span><span class="p">)</span>
<a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="w">            </span><span class="n">Usuario</span><span class="p">(</span><span class="n">partes</span><span class="o">[</span><span class="m">1</span><span class="o">]</span><span class="p">.</span><span class="na">trim</span><span class="p">(),</span><span class="w"> </span><span class="n">partes</span><span class="o">[</span><span class="m">2</span><span class="o">]</span><span class="p">.</span><span class="na">trim</span><span class="p">())</span>
<a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a>
<a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">serializar</span><span class="p">(</span><span class="n">usuarios</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">usuarios</span><span class="p">.</span><span class="na">mapIndexed</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">index</span><span class="p">,</span><span class="w"> </span><span class="n">usuario</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a><span class="w">            </span><span class="s">&quot;</span><span class="si">${</span><span class="n">index</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="m">1</span><span class="si">}</span><span class="s">,</span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">nombre</span><span class="si">}</span><span class="s">,</span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">email</span><span class="si">}</span><span class="s">&quot;</span>
<a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="w">        </span><span class="p">}.</span><span class="na">joinToString</span><span class="p">(</span><span class="s">&quot;\n&quot;</span><span class="p">)</span>
<a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a><span class="p">}</span>
<a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a>
<a id="__codelineno-32-23" name="__codelineno-32-23" href="#__codelineno-32-23"></a><span class="kd">class</span><span class="w"> </span><span class="nc">FormatoJSONUsuario</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">FormatoUsuario</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-24" name="__codelineno-32-24" href="#__codelineno-32-24"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">parsear</span><span class="p">(</span><span class="n">contenido</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-25" name="__codelineno-32-25" href="#__codelineno-32-25"></a><span class="w">        </span><span class="c1">// Parseo JSON (simulado)</span>
<a id="__codelineno-32-26" name="__codelineno-32-26" href="#__codelineno-32-26"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">listOf</span><span class="p">()</span>
<a id="__codelineno-32-27" name="__codelineno-32-27" href="#__codelineno-32-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-28" name="__codelineno-32-28" href="#__codelineno-32-28"></a>
<a id="__codelineno-32-29" name="__codelineno-32-29" href="#__codelineno-32-29"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">serializar</span><span class="p">(</span><span class="n">usuarios</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-30" name="__codelineno-32-30" href="#__codelineno-32-30"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">usuarios</span><span class="p">.</span><span class="na">joinToString</span><span class="p">(</span><span class="s">&quot;,\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;[\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;\n]&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">usuario</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-32-31" name="__codelineno-32-31" href="#__codelineno-32-31"></a><span class="w">            </span><span class="s">&quot;&quot;&quot;  {&quot;nombre&quot;: &quot;</span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">nombre</span><span class="si">}</span><span class="s">&quot;, &quot;email&quot;: &quot;</span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">email</span><span class="si">}</span><span class="s">&quot;}&quot;&quot;&quot;</span>
<a id="__codelineno-32-32" name="__codelineno-32-32" href="#__codelineno-32-32"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-32-33" name="__codelineno-32-33" href="#__codelineno-32-33"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-34" name="__codelineno-32-34" href="#__codelineno-32-34"></a><span class="p">}</span>
<a id="__codelineno-32-35" name="__codelineno-32-35" href="#__codelineno-32-35"></a>
<a id="__codelineno-32-36" name="__codelineno-32-36" href="#__codelineno-32-36"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GestorUsuarios</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">formato</span><span class="p">:</span><span class="w"> </span><span class="n">FormatoUsuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-37" name="__codelineno-32-37" href="#__codelineno-32-37"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">importar</span><span class="p">(</span><span class="n">contenido</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-38" name="__codelineno-32-38" href="#__codelineno-32-38"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">formato</span><span class="p">.</span><span class="na">parsear</span><span class="p">(</span><span class="n">contenido</span><span class="p">)</span>
<a id="__codelineno-32-39" name="__codelineno-32-39" href="#__codelineno-32-39"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-40" name="__codelineno-32-40" href="#__codelineno-32-40"></a>
<a id="__codelineno-32-41" name="__codelineno-32-41" href="#__codelineno-32-41"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">exportar</span><span class="p">(</span><span class="n">usuarios</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-42" name="__codelineno-32-42" href="#__codelineno-32-42"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">formato</span><span class="p">.</span><span class="na">serializar</span><span class="p">(</span><span class="n">usuarios</span><span class="p">)</span>
<a id="__codelineno-32-43" name="__codelineno-32-43" href="#__codelineno-32-43"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-44" name="__codelineno-32-44" href="#__codelineno-32-44"></a>
<a id="__codelineno-32-45" name="__codelineno-32-45" href="#__codelineno-32-45"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validar</span><span class="p">(</span><span class="n">contenido</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-46" name="__codelineno-32-46" href="#__codelineno-32-46"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-47" name="__codelineno-32-47" href="#__codelineno-32-47"></a><span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">usuarios</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">formato</span><span class="p">.</span><span class="na">parsear</span><span class="p">(</span><span class="n">contenido</span><span class="p">)</span>
<a id="__codelineno-32-48" name="__codelineno-32-48" href="#__codelineno-32-48"></a><span class="w">            </span><span class="n">usuarios</span><span class="p">.</span><span class="na">all</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">email</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-32-49" name="__codelineno-32-49" href="#__codelineno-32-49"></a><span class="w">        </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">:</span><span class="w"> </span><span class="n">Exception</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-50" name="__codelineno-32-50" href="#__codelineno-32-50"></a><span class="w">            </span><span class="kc">false</span>
<a id="__codelineno-32-51" name="__codelineno-32-51" href="#__codelineno-32-51"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-32-52" name="__codelineno-32-52" href="#__codelineno-32-52"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-32-53" name="__codelineno-32-53" href="#__codelineno-32-53"></a><span class="p">}</span>
<a id="__codelineno-32-54" name="__codelineno-32-54" href="#__codelineno-32-54"></a>
<a id="__codelineno-32-55" name="__codelineno-32-55" href="#__codelineno-32-55"></a><span class="c1">// Uso</span>
<a id="__codelineno-32-56" name="__codelineno-32-56" href="#__codelineno-32-56"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-32-57" name="__codelineno-32-57" href="#__codelineno-32-57"></a><span class="w">    </span><span class="c1">// Con CSV</span>
<a id="__codelineno-32-58" name="__codelineno-32-58" href="#__codelineno-32-58"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">gestorCSV</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GestorUsuarios</span><span class="p">(</span><span class="n">FormatoCSVUsuario</span><span class="p">())</span>
<a id="__codelineno-32-59" name="__codelineno-32-59" href="#__codelineno-32-59"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">usuariosCSV</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gestorCSV</span><span class="p">.</span><span class="na">importar</span><span class="p">(</span><span class="s">&quot;1,Juan,juan@example.com\n2,Ana,ana@example.com&quot;</span><span class="p">)</span>
<a id="__codelineno-32-60" name="__codelineno-32-60" href="#__codelineno-32-60"></a>
<a id="__codelineno-32-61" name="__codelineno-32-61" href="#__codelineno-32-61"></a><span class="w">    </span><span class="c1">// Con JSON (mismo gestor, diferente formato)</span>
<a id="__codelineno-32-62" name="__codelineno-32-62" href="#__codelineno-32-62"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">gestorJSON</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GestorUsuarios</span><span class="p">(</span><span class="n">FormatoJSONUsuario</span><span class="p">())</span>
<a id="__codelineno-32-63" name="__codelineno-32-63" href="#__codelineno-32-63"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">exportadoJSON</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">gestorJSON</span><span class="p">.</span><span class="na">exportar</span><span class="p">(</span><span class="n">usuariosCSV</span><span class="p">)</span>
<a id="__codelineno-32-64" name="__codelineno-32-64" href="#__codelineno-32-64"></a><span class="w">    </span><span class="n">println</span><span class="p">(</span><span class="n">exportadoJSON</span><span class="p">)</span>
<a id="__codelineno-32-65" name="__codelineno-32-65" href="#__codelineno-32-65"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios</strong>:
- Cambiar formato solo requiere cambiar una clase
- Fácil agregar nuevos formatos (XML, YAML, etc.)
- Gestor desacoplado del formato específico</p>
<h5 id="325-acoplamiento-de-control-nivel-4-regular">3.2.5. Acoplamiento de Control (Nivel 4 - 🟡 Regular)<a class="headerlink" href="#325-acoplamiento-de-control-nivel-4-regular" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Un módulo <strong>controla el comportamiento de otro</strong> pasando flags o parámetros de control que determinan qué hace el módulo llamado.</p>
<p><strong>Características</strong>:
- Un módulo dice a otro QUÉ hacer (no CÓMO)
- Flags booleanos o códigos de operación
- El llamador conoce la lógica interna del llamado
- Viola el principio de "Tell, Don't Ask"</p>
<p><strong>Ejemplo típico</strong>: Métodos con flags booleanos</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">// ❌ ACOPLAMIENTO DE CONTROL - Flag controla el comportamiento</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviar</span><span class="p">(</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">        </span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">        </span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="w">        </span><span class="n">urgente</span><span class="p">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="p">,</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="w">        </span><span class="n">conCopia</span><span class="p">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="p">,</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="w">        </span><span class="n">adjuntar</span><span class="p">:</span><span class="w"> </span><span class="kt">Boolean</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="w">    </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Enviando email a </span><span class="si">$</span><span class="n">destinatario</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Mensaje: </span><span class="si">$</span><span class="n">mensaje</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">urgente</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Marcando como urgente&quot;</span><span class="p">)</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">conCopia</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Enviando copia a admin@empresa.com&quot;</span><span class="p">)</span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a>
<a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">adjuntar</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Adjuntando archivo&quot;</span><span class="p">)</span>
<a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-33-24" name="__codelineno-33-24" href="#__codelineno-33-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-25" name="__codelineno-33-25" href="#__codelineno-33-25"></a><span class="p">}</span>
<a id="__codelineno-33-26" name="__codelineno-33-26" href="#__codelineno-33-26"></a>
<a id="__codelineno-33-27" name="__codelineno-33-27" href="#__codelineno-33-27"></a><span class="c1">// Uso confuso</span>
<a id="__codelineno-33-28" name="__codelineno-33-28" href="#__codelineno-33-28"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-29" name="__codelineno-33-29" href="#__codelineno-33-29"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">servicio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioEmail</span><span class="p">()</span>
<a id="__codelineno-33-30" name="__codelineno-33-30" href="#__codelineno-33-30"></a><span class="w">    </span><span class="n">servicio</span><span class="p">.</span><span class="na">enviar</span><span class="p">(</span><span class="s">&quot;user@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Hola&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span><span class="w">  </span><span class="c1">// ¿Qué significa esto?</span>
<a id="__codelineno-33-31" name="__codelineno-33-31" href="#__codelineno-33-31"></a><span class="w">    </span><span class="n">servicio</span><span class="p">.</span><span class="na">enviar</span><span class="p">(</span><span class="s">&quot;otro@example.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Mensaje&quot;</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="kc">false</span><span class="p">)</span>
<a id="__codelineno-33-32" name="__codelineno-33-32" href="#__codelineno-33-32"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Problemas</strong>:
- El llamador conoce detalles de implementación
- Métodos difíciles de leer (<code>true</code>, <code>false</code> no descriptivos)
- Difícil de extender (nuevo comportamiento = nuevo flag)</p>
<p><strong>Solución - Polimorfismo o clases especializadas</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="c1">// BAJO ACOPLAMIENTO - Polimorfismo y composición</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">ConfiguracionEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicar</span><span class="p">(</span><span class="n">builder</span><span class="p">:</span><span class="w"> </span><span class="n">EmailBuilder</span><span class="p">)</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="p">}</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="kd">class</span><span class="w"> </span><span class="nc">EmailBuilder</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">prioridad</span><span class="p">:</span><span class="w"> </span><span class="n">Prioridad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Prioridad</span><span class="p">.</span><span class="na">NORMAL</span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">copias</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">emptyList</span><span class="p">()</span>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nv">adjuntos</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">emptyList</span><span class="p">()</span>
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">build</span><span class="p">():</span><span class="w"> </span><span class="n">Email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Email</span><span class="p">(</span><span class="n">destinatario</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">,</span><span class="w"> </span><span class="n">prioridad</span><span class="p">,</span><span class="w"> </span><span class="n">copias</span><span class="p">,</span><span class="w"> </span><span class="n">adjuntos</span><span class="p">)</span>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="p">}</span>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a>
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="kd">enum</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Prioridad</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">BAJA</span><span class="p">,</span><span class="w"> </span><span class="n">NORMAL</span><span class="p">,</span><span class="w"> </span><span class="n">ALTA</span><span class="p">,</span><span class="w"> </span><span class="n">URGENTE</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Email</span><span class="p">(</span>
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">prioridad</span><span class="p">:</span><span class="w"> </span><span class="n">Prioridad</span><span class="p">,</span>
<a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">copias</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span><span class="p">,</span>
<a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">adjuntos</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">String</span><span class="o">&gt;</span>
<a id="__codelineno-34-24" name="__codelineno-34-24" href="#__codelineno-34-24"></a><span class="p">)</span>
<a id="__codelineno-34-25" name="__codelineno-34-25" href="#__codelineno-34-25"></a>
<a id="__codelineno-34-26" name="__codelineno-34-26" href="#__codelineno-34-26"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ConfiguracionEmailUrgente</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ConfiguracionEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-27" name="__codelineno-34-27" href="#__codelineno-34-27"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicar</span><span class="p">(</span><span class="n">builder</span><span class="p">:</span><span class="w"> </span><span class="n">EmailBuilder</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-28" name="__codelineno-34-28" href="#__codelineno-34-28"></a><span class="w">        </span><span class="n">builder</span><span class="p">.</span><span class="na">prioridad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Prioridad</span><span class="p">.</span><span class="na">URGENTE</span>
<a id="__codelineno-34-29" name="__codelineno-34-29" href="#__codelineno-34-29"></a><span class="w">        </span><span class="n">builder</span><span class="p">.</span><span class="na">copias</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="s">&quot;admin@empresa.com&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;manager@empresa.com&quot;</span><span class="p">)</span>
<a id="__codelineno-34-30" name="__codelineno-34-30" href="#__codelineno-34-30"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-31" name="__codelineno-34-31" href="#__codelineno-34-31"></a><span class="p">}</span>
<a id="__codelineno-34-32" name="__codelineno-34-32" href="#__codelineno-34-32"></a>
<a id="__codelineno-34-33" name="__codelineno-34-33" href="#__codelineno-34-33"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ConfiguracionEmailConAdjunto</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">rutaArchivo</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">ConfiguracionEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-34" name="__codelineno-34-34" href="#__codelineno-34-34"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">aplicar</span><span class="p">(</span><span class="n">builder</span><span class="p">:</span><span class="w"> </span><span class="n">EmailBuilder</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-35" name="__codelineno-34-35" href="#__codelineno-34-35"></a><span class="w">        </span><span class="n">builder</span><span class="p">.</span><span class="na">adjuntos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="n">rutaArchivo</span><span class="p">)</span>
<a id="__codelineno-34-36" name="__codelineno-34-36" href="#__codelineno-34-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-37" name="__codelineno-34-37" href="#__codelineno-34-37"></a><span class="p">}</span>
<a id="__codelineno-34-38" name="__codelineno-34-38" href="#__codelineno-34-38"></a>
<a id="__codelineno-34-39" name="__codelineno-34-39" href="#__codelineno-34-39"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-40" name="__codelineno-34-40" href="#__codelineno-34-40"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviar</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="n">Email</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-41" name="__codelineno-34-41" href="#__codelineno-34-41"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Enviando email a </span><span class="si">${</span><span class="n">email</span><span class="p">.</span><span class="na">destinatario</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-34-42" name="__codelineno-34-42" href="#__codelineno-34-42"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Mensaje: </span><span class="si">${</span><span class="n">email</span><span class="p">.</span><span class="na">mensaje</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-34-43" name="__codelineno-34-43" href="#__codelineno-34-43"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Prioridad: </span><span class="si">${</span><span class="n">email</span><span class="p">.</span><span class="na">prioridad</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-34-44" name="__codelineno-34-44" href="#__codelineno-34-44"></a>
<a id="__codelineno-34-45" name="__codelineno-34-45" href="#__codelineno-34-45"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">email</span><span class="p">.</span><span class="na">copias</span><span class="p">.</span><span class="na">isNotEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-46" name="__codelineno-34-46" href="#__codelineno-34-46"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Con copia a: </span><span class="si">${</span><span class="n">email</span><span class="p">.</span><span class="na">copias</span><span class="p">.</span><span class="na">joinToString</span><span class="p">()</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-34-47" name="__codelineno-34-47" href="#__codelineno-34-47"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-48" name="__codelineno-34-48" href="#__codelineno-34-48"></a>
<a id="__codelineno-34-49" name="__codelineno-34-49" href="#__codelineno-34-49"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">email</span><span class="p">.</span><span class="na">adjuntos</span><span class="p">.</span><span class="na">isNotEmpty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-50" name="__codelineno-34-50" href="#__codelineno-34-50"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Adjuntos: </span><span class="si">${</span><span class="n">email</span><span class="p">.</span><span class="na">adjuntos</span><span class="p">.</span><span class="na">joinToString</span><span class="p">()</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-34-51" name="__codelineno-34-51" href="#__codelineno-34-51"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-34-52" name="__codelineno-34-52" href="#__codelineno-34-52"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-53" name="__codelineno-34-53" href="#__codelineno-34-53"></a><span class="p">}</span>
<a id="__codelineno-34-54" name="__codelineno-34-54" href="#__codelineno-34-54"></a>
<a id="__codelineno-34-55" name="__codelineno-34-55" href="#__codelineno-34-55"></a><span class="c1">// Uso más claro</span>
<a id="__codelineno-34-56" name="__codelineno-34-56" href="#__codelineno-34-56"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-57" name="__codelineno-34-57" href="#__codelineno-34-57"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">servicio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioEmail</span><span class="p">()</span>
<a id="__codelineno-34-58" name="__codelineno-34-58" href="#__codelineno-34-58"></a>
<a id="__codelineno-34-59" name="__codelineno-34-59" href="#__codelineno-34-59"></a><span class="w">    </span><span class="c1">// Email simple</span>
<a id="__codelineno-34-60" name="__codelineno-34-60" href="#__codelineno-34-60"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">emailSimple</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EmailBuilder</span><span class="p">().</span><span class="na">apply</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-61" name="__codelineno-34-61" href="#__codelineno-34-61"></a><span class="w">        </span><span class="n">destinatario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;user@example.com&quot;</span>
<a id="__codelineno-34-62" name="__codelineno-34-62" href="#__codelineno-34-62"></a><span class="w">        </span><span class="n">mensaje</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hola&quot;</span>
<a id="__codelineno-34-63" name="__codelineno-34-63" href="#__codelineno-34-63"></a><span class="w">    </span><span class="p">}.</span><span class="na">build</span><span class="p">()</span>
<a id="__codelineno-34-64" name="__codelineno-34-64" href="#__codelineno-34-64"></a><span class="w">    </span><span class="n">servicio</span><span class="p">.</span><span class="na">enviar</span><span class="p">(</span><span class="n">emailSimple</span><span class="p">)</span>
<a id="__codelineno-34-65" name="__codelineno-34-65" href="#__codelineno-34-65"></a>
<a id="__codelineno-34-66" name="__codelineno-34-66" href="#__codelineno-34-66"></a><span class="w">    </span><span class="c1">// Email urgente con configuración</span>
<a id="__codelineno-34-67" name="__codelineno-34-67" href="#__codelineno-34-67"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">builderUrgente</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EmailBuilder</span><span class="p">().</span><span class="na">apply</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-68" name="__codelineno-34-68" href="#__codelineno-34-68"></a><span class="w">        </span><span class="n">destinatario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;user@example.com&quot;</span>
<a id="__codelineno-34-69" name="__codelineno-34-69" href="#__codelineno-34-69"></a><span class="w">        </span><span class="n">mensaje</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;¡Urgente!&quot;</span>
<a id="__codelineno-34-70" name="__codelineno-34-70" href="#__codelineno-34-70"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-71" name="__codelineno-34-71" href="#__codelineno-34-71"></a><span class="w">    </span><span class="n">ConfiguracionEmailUrgente</span><span class="p">().</span><span class="na">aplicar</span><span class="p">(</span><span class="n">builderUrgente</span><span class="p">)</span>
<a id="__codelineno-34-72" name="__codelineno-34-72" href="#__codelineno-34-72"></a><span class="w">    </span><span class="n">servicio</span><span class="p">.</span><span class="na">enviar</span><span class="p">(</span><span class="n">builderUrgente</span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-34-73" name="__codelineno-34-73" href="#__codelineno-34-73"></a>
<a id="__codelineno-34-74" name="__codelineno-34-74" href="#__codelineno-34-74"></a><span class="w">    </span><span class="c1">// Email con adjunto</span>
<a id="__codelineno-34-75" name="__codelineno-34-75" href="#__codelineno-34-75"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">builderAdjunto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EmailBuilder</span><span class="p">().</span><span class="na">apply</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-76" name="__codelineno-34-76" href="#__codelineno-34-76"></a><span class="w">        </span><span class="n">destinatario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;user@example.com&quot;</span>
<a id="__codelineno-34-77" name="__codelineno-34-77" href="#__codelineno-34-77"></a><span class="w">        </span><span class="n">mensaje</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Documento adjunto&quot;</span>
<a id="__codelineno-34-78" name="__codelineno-34-78" href="#__codelineno-34-78"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-79" name="__codelineno-34-79" href="#__codelineno-34-79"></a><span class="w">    </span><span class="n">ConfiguracionEmailConAdjunto</span><span class="p">(</span><span class="s">&quot;/ruta/documento.pdf&quot;</span><span class="p">).</span><span class="na">aplicar</span><span class="p">(</span><span class="n">builderAdjunto</span><span class="p">)</span>
<a id="__codelineno-34-80" name="__codelineno-34-80" href="#__codelineno-34-80"></a><span class="w">    </span><span class="n">servicio</span><span class="p">.</span><span class="na">enviar</span><span class="p">(</span><span class="n">builderAdjunto</span><span class="p">.</span><span class="na">build</span><span class="p">())</span>
<a id="__codelineno-34-81" name="__codelineno-34-81" href="#__codelineno-34-81"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios</strong>:
- Código más legible y autodocumentado
- Fácil de extender (nueva configuración = nueva clase)
- Sin flags booleanos confusos</p>
<h5 id="326-acoplamiento-de-estampadostamp-nivel-5-aceptable">3.2.6. Acoplamiento de Estampado/Stamp (Nivel 5 - 🟢 Aceptable)<a class="headerlink" href="#326-acoplamiento-de-estampadostamp-nivel-5-aceptable" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Los módulos comparten una <strong>estructura de datos compleja</strong>, pero cada módulo solo usa parte de ella.</p>
<p><strong>Características</strong>:
- Se pasa un objeto completo pero solo se usan algunos campos
- Más acoplamiento del necesario
- Cambios en la estructura afectan a módulos que no la usan completamente</p>
<p><strong>Ejemplo típico</strong>: Pasar objeto completo cuando solo se necesitan algunos campos</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1">// ⚠️ ACOPLAMIENTO DE ESTAMPADO - Objeto completo innecesario</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Pedido</span><span class="p">(</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente</span><span class="p">,</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">,</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">fechaPedido</span><span class="p">:</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDateTime</span><span class="p">,</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">estado</span><span class="p">:</span><span class="w"> </span><span class="n">EstadoPedido</span><span class="p">,</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">metodoPago</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">direccionEnvio</span><span class="p">:</span><span class="w"> </span><span class="n">Direccion</span><span class="p">,</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">notas</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="p">)</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Cliente</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ItemPedido</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">productoId</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">cantidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">precio</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Direccion</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">calle</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">ciudad</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">codigoPostal</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="kd">enum</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">EstadoPedido</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">PENDIENTE</span><span class="p">,</span><span class="w"> </span><span class="n">PROCESANDO</span><span class="p">,</span><span class="w"> </span><span class="n">ENVIADO</span><span class="p">,</span><span class="w"> </span><span class="n">ENTREGADO</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CalculadoraEnvio</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="w">    </span><span class="c1">// Solo necesita la dirección, pero recibe el pedido completo</span>
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularCosto</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">direccion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pedido</span><span class="p">.</span><span class="na">direccionEnvio</span>
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="p">(</span><span class="n">direccion</span><span class="p">.</span><span class="na">ciudad</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a><span class="w">            </span><span class="s">&quot;Madrid&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="m">5.0</span>
<a id="__codelineno-35-24" name="__codelineno-35-24" href="#__codelineno-35-24"></a><span class="w">            </span><span class="s">&quot;Barcelona&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="m">7.0</span>
<a id="__codelineno-35-25" name="__codelineno-35-25" href="#__codelineno-35-25"></a><span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="m">10.0</span>
<a id="__codelineno-35-26" name="__codelineno-35-26" href="#__codelineno-35-26"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-35-27" name="__codelineno-35-27" href="#__codelineno-35-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-28" name="__codelineno-35-28" href="#__codelineno-35-28"></a><span class="p">}</span>
<a id="__codelineno-35-29" name="__codelineno-35-29" href="#__codelineno-35-29"></a>
<a id="__codelineno-35-30" name="__codelineno-35-30" href="#__codelineno-35-30"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GeneradorEtiqueta</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-31" name="__codelineno-35-31" href="#__codelineno-35-31"></a><span class="w">    </span><span class="c1">// Solo necesita nombre del cliente y dirección</span>
<a id="__codelineno-35-32" name="__codelineno-35-32" href="#__codelineno-35-32"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generar</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-33" name="__codelineno-35-33" href="#__codelineno-35-33"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<a id="__codelineno-35-34" name="__codelineno-35-34" href="#__codelineno-35-34"></a><span class="s">            </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">cliente</span><span class="p">.</span><span class="na">nombre</span><span class="si">}</span>
<a id="__codelineno-35-35" name="__codelineno-35-35" href="#__codelineno-35-35"></a><span class="s">            </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">direccionEnvio</span><span class="p">.</span><span class="na">calle</span><span class="si">}</span>
<a id="__codelineno-35-36" name="__codelineno-35-36" href="#__codelineno-35-36"></a><span class="s">            </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">direccionEnvio</span><span class="p">.</span><span class="na">ciudad</span><span class="si">}</span><span class="s">, </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">direccionEnvio</span><span class="p">.</span><span class="na">codigoPostal</span><span class="si">}</span>
<a id="__codelineno-35-37" name="__codelineno-35-37" href="#__codelineno-35-37"></a><span class="s">        &quot;&quot;&quot;</span><span class="p">.</span><span class="na">trimIndent</span><span class="p">()</span>
<a id="__codelineno-35-38" name="__codelineno-35-38" href="#__codelineno-35-38"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-39" name="__codelineno-35-39" href="#__codelineno-35-39"></a><span class="p">}</span>
<a id="__codelineno-35-40" name="__codelineno-35-40" href="#__codelineno-35-40"></a>
<a id="__codelineno-35-41" name="__codelineno-35-41" href="#__codelineno-35-41"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorInventario</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-42" name="__codelineno-35-42" href="#__codelineno-35-42"></a><span class="w">    </span><span class="c1">// Solo necesita los items</span>
<a id="__codelineno-35-43" name="__codelineno-35-43" href="#__codelineno-35-43"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">verificar</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-44" name="__codelineno-35-44" href="#__codelineno-35-44"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">pedido</span><span class="p">.</span><span class="na">items</span><span class="p">.</span><span class="na">all</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-35-45" name="__codelineno-35-45" href="#__codelineno-35-45"></a><span class="w">            </span><span class="n">verificarDisponibilidad</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">productoId</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">cantidad</span><span class="p">)</span>
<a id="__codelineno-35-46" name="__codelineno-35-46" href="#__codelineno-35-46"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-35-47" name="__codelineno-35-47" href="#__codelineno-35-47"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-48" name="__codelineno-35-48" href="#__codelineno-35-48"></a>
<a id="__codelineno-35-49" name="__codelineno-35-49" href="#__codelineno-35-49"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">verificarDisponibilidad</span><span class="p">(</span><span class="n">productoId</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">cantidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-35-50" name="__codelineno-35-50" href="#__codelineno-35-50"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Problemas</strong>:
- Más acoplamiento del necesario
- Cambios en Pedido pueden afectar a clases que no usan esos cambios
- No está claro qué campos usa realmente cada clase</p>
<p><strong>Solución - Pasar solo lo necesario</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="c1">// BAJO ACOPLAMIENTO - Solo datos necesarios</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CalculadoraEnvio</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularCosto</span><span class="p">(</span><span class="n">direccion</span><span class="p">:</span><span class="w"> </span><span class="n">Direccion</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">when</span><span class="w"> </span><span class="p">(</span><span class="n">direccion</span><span class="p">.</span><span class="na">ciudad</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">            </span><span class="s">&quot;Madrid&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="m">5.0</span>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">            </span><span class="s">&quot;Barcelona&quot;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="m">7.0</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">            </span><span class="k">else</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="m">10.0</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="p">}</span>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GeneradorEtiqueta</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generar</span><span class="p">(</span><span class="n">nombreCliente</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">direccion</span><span class="p">:</span><span class="w"> </span><span class="n">Direccion</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;&quot;&quot;</span>
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="s">            </span><span class="si">$</span><span class="n">nombreCliente</span>
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a><span class="s">            </span><span class="si">${</span><span class="n">direccion</span><span class="p">.</span><span class="na">calle</span><span class="si">}</span>
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="s">            </span><span class="si">${</span><span class="n">direccion</span><span class="p">.</span><span class="na">ciudad</span><span class="si">}</span><span class="s">, </span><span class="si">${</span><span class="n">direccion</span><span class="p">.</span><span class="na">codigoPostal</span><span class="si">}</span>
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a><span class="s">        &quot;&quot;&quot;</span><span class="p">.</span><span class="na">trimIndent</span><span class="p">()</span>
<a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a><span class="p">}</span>
<a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a>
<a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorInventario</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-23" name="__codelineno-36-23" href="#__codelineno-36-23"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">verificar</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-24" name="__codelineno-36-24" href="#__codelineno-36-24"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">all</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">-&gt;</span>
<a id="__codelineno-36-25" name="__codelineno-36-25" href="#__codelineno-36-25"></a><span class="w">            </span><span class="n">verificarDisponibilidad</span><span class="p">(</span><span class="n">item</span><span class="p">.</span><span class="na">productoId</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="na">cantidad</span><span class="p">)</span>
<a id="__codelineno-36-26" name="__codelineno-36-26" href="#__codelineno-36-26"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-36-27" name="__codelineno-36-27" href="#__codelineno-36-27"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-36-28" name="__codelineno-36-28" href="#__codelineno-36-28"></a>
<a id="__codelineno-36-29" name="__codelineno-36-29" href="#__codelineno-36-29"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">verificarDisponibilidad</span><span class="p">(</span><span class="n">productoId</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">cantidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-36-30" name="__codelineno-36-30" href="#__codelineno-36-30"></a><span class="p">}</span>
<a id="__codelineno-36-31" name="__codelineno-36-31" href="#__codelineno-36-31"></a>
<a id="__codelineno-36-32" name="__codelineno-36-32" href="#__codelineno-36-32"></a><span class="c1">// Uso</span>
<a id="__codelineno-36-33" name="__codelineno-36-33" href="#__codelineno-36-33"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-36-34" name="__codelineno-36-34" href="#__codelineno-36-34"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">pedido</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Pedido</span><span class="p">(</span>
<a id="__codelineno-36-35" name="__codelineno-36-35" href="#__codelineno-36-35"></a><span class="w">        </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;P001&quot;</span><span class="p">,</span>
<a id="__codelineno-36-36" name="__codelineno-36-36" href="#__codelineno-36-36"></a><span class="w">        </span><span class="n">cliente</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Cliente</span><span class="p">(</span><span class="s">&quot;C001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Juan Pérez&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;juan@example.com&quot;</span><span class="p">),</span>
<a id="__codelineno-36-37" name="__codelineno-36-37" href="#__codelineno-36-37"></a><span class="w">        </span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">listOf</span><span class="p">(</span><span class="n">ItemPedido</span><span class="p">(</span><span class="s">&quot;PROD1&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="m">50.0</span><span class="p">)),</span>
<a id="__codelineno-36-38" name="__codelineno-36-38" href="#__codelineno-36-38"></a><span class="w">        </span><span class="n">fechaPedido</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">time</span><span class="p">.</span><span class="na">LocalDateTime</span><span class="p">.</span><span class="na">now</span><span class="p">(),</span>
<a id="__codelineno-36-39" name="__codelineno-36-39" href="#__codelineno-36-39"></a><span class="w">        </span><span class="n">estado</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">EstadoPedido</span><span class="p">.</span><span class="na">PENDIENTE</span><span class="p">,</span>
<a id="__codelineno-36-40" name="__codelineno-36-40" href="#__codelineno-36-40"></a><span class="w">        </span><span class="n">metodoPago</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Tarjeta&quot;</span><span class="p">,</span>
<a id="__codelineno-36-41" name="__codelineno-36-41" href="#__codelineno-36-41"></a><span class="w">        </span><span class="n">direccionEnvio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Direccion</span><span class="p">(</span><span class="s">&quot;Calle Mayor 1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Madrid&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;28001&quot;</span><span class="p">),</span>
<a id="__codelineno-36-42" name="__codelineno-36-42" href="#__codelineno-36-42"></a><span class="w">        </span><span class="n">notas</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span>
<a id="__codelineno-36-43" name="__codelineno-36-43" href="#__codelineno-36-43"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-36-44" name="__codelineno-36-44" href="#__codelineno-36-44"></a>
<a id="__codelineno-36-45" name="__codelineno-36-45" href="#__codelineno-36-45"></a><span class="w">    </span><span class="c1">// Cada servicio recibe solo lo que necesita</span>
<a id="__codelineno-36-46" name="__codelineno-36-46" href="#__codelineno-36-46"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">calculadora</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CalculadoraEnvio</span><span class="p">()</span>
<a id="__codelineno-36-47" name="__codelineno-36-47" href="#__codelineno-36-47"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">costoEnvio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculadora</span><span class="p">.</span><span class="na">calcularCosto</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">direccionEnvio</span><span class="p">)</span>
<a id="__codelineno-36-48" name="__codelineno-36-48" href="#__codelineno-36-48"></a>
<a id="__codelineno-36-49" name="__codelineno-36-49" href="#__codelineno-36-49"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">generador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">GeneradorEtiqueta</span><span class="p">()</span>
<a id="__codelineno-36-50" name="__codelineno-36-50" href="#__codelineno-36-50"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">etiqueta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">generador</span><span class="p">.</span><span class="na">generar</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">cliente</span><span class="p">.</span><span class="na">nombre</span><span class="p">,</span><span class="w"> </span><span class="n">pedido</span><span class="p">.</span><span class="na">direccionEnvio</span><span class="p">)</span>
<a id="__codelineno-36-51" name="__codelineno-36-51" href="#__codelineno-36-51"></a>
<a id="__codelineno-36-52" name="__codelineno-36-52" href="#__codelineno-36-52"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">validador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ValidadorInventario</span><span class="p">()</span>
<a id="__codelineno-36-53" name="__codelineno-36-53" href="#__codelineno-36-53"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">disponible</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validador</span><span class="p">.</span><span class="na">verificar</span><span class="p">(</span><span class="n">pedido</span><span class="p">.</span><span class="na">items</span><span class="p">)</span>
<a id="__codelineno-36-54" name="__codelineno-36-54" href="#__codelineno-36-54"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios</strong>:
- Dependencias explícitas y mínimas
- Cambios en Pedido no afectan a estas clases
- Más fácil de testear (menos datos que preparar)</p>
<h5 id="327-acoplamiento-de-datos-nivel-6-bueno">3.2.7. Acoplamiento de Datos (Nivel 6 - 🔵 Bueno)<a class="headerlink" href="#327-acoplamiento-de-datos-nivel-6-bueno" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Los módulos se comunican solo mediante <strong>parámetros de datos simples</strong> (primitivos, strings, listas simples).</p>
<p><strong>Características</strong>:
- Parámetros simples y claros
- Sin estructuras complejas compartidas
- Mínima interdependencia
- Buen nivel de acoplamiento</p>
<p><strong>Ejemplo</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="c1">// ACOPLAMIENTO DE DATOS - Parámetros simples</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Calculadora</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">sumar</span><span class="p">(</span><span class="n">a</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">b</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">b</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a>
<a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularPorcentaje</span><span class="p">(</span><span class="n">valor</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">,</span><span class="w"> </span><span class="n">porcentaje</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">valor</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">porcentaje</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="m">100</span><span class="p">)</span>
<a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="p">}</span>
<a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a>
<a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorTexto</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">esEmailValido</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">email</span><span class="p">.</span><span class="na">matches</span><span class="p">(</span><span class="n">Regex</span><span class="p">(</span><span class="s">&quot;^[A-Za-z0-9+_.-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}</span><span class="err">$</span><span class="s">&quot;</span><span class="p">))</span>
<a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a>
<a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">longitudValida</span><span class="p">(</span><span class="n">texto</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">minimo</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">maximo</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">texto</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">minimo</span><span class="p">..</span><span class="na">maximo</span>
<a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a><span class="p">}</span>
<a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a>
<a id="__codelineno-37-20" name="__codelineno-37-20" href="#__codelineno-37-20"></a><span class="kd">class</span><span class="w"> </span><span class="nc">FormateadorFecha</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-21" name="__codelineno-37-21" href="#__codelineno-37-21"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">formatear</span><span class="p">(</span><span class="n">anio</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">mes</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">dia</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="kt">String</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-37-22" name="__codelineno-37-22" href="#__codelineno-37-22"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kt">String</span><span class="p">.</span><span class="na">format</span><span class="p">(</span><span class="s">&quot;%04d-%02d-%02d&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">anio</span><span class="p">,</span><span class="w"> </span><span class="n">mes</span><span class="p">,</span><span class="w"> </span><span class="n">dia</span><span class="p">)</span>
<a id="__codelineno-37-23" name="__codelineno-37-23" href="#__codelineno-37-23"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-37-24" name="__codelineno-37-24" href="#__codelineno-37-24"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Ventajas</strong>:
- Completamente desacoplado
- Fácil de entender y mantener
- Reutilizable en cualquier contexto
- <abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> trivial</p>
<h5 id="328-acoplamiento-de-mensaje-nivel-7-la-mejor">3.2.8. Acoplamiento de Mensaje (Nivel 7 - La mejor)<a class="headerlink" href="#328-acoplamiento-de-mensaje-nivel-7-la-mejor" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: La comunicación se realiza únicamente mediante <strong>paso de mensajes</strong> o a través de <strong>interfaces</strong>, sin conocer implementaciones concretas.</p>
<p><strong>Características</strong>:
- Comunicación mediante interfaces
- No se conocen implementaciones
- Máxima flexibilidad
- Principio de Inversión de Dependencias</p>
<p><strong>Ejemplo perfecto</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="c1">// ACOPLAMIENTO DE MENSAJE - Solo interfaces</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">RepositorioUsuarios</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span>
<a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarPorEmail</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Usuario?</span>
<a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">listarTodos</span><span class="p">():</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span>
<a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="p">}</span>
<a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a>
<a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">Notificador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">notificar</span><span class="p">(</span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>
<a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="p">}</span>
<a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a>
<a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">Validador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validar</span><span class="p">(</span><span class="n">dato</span><span class="p">:</span><span class="w"> </span><span class="kt">Any</span><span class="p">):</span><span class="w"> </span><span class="n">ResultadoValidacion</span>
<a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="p">}</span>
<a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a>
<a id="__codelineno-38-16" name="__codelineno-38-16" href="#__codelineno-38-16"></a><span class="c1">// Servicio que solo depende de interfaces</span>
<a id="__codelineno-38-17" name="__codelineno-38-17" href="#__codelineno-38-17"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioRegistro</span><span class="p">(</span>
<a id="__codelineno-38-18" name="__codelineno-38-18" href="#__codelineno-38-18"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">repositorio</span><span class="p">:</span><span class="w"> </span><span class="n">RepositorioUsuarios</span><span class="p">,</span>
<a id="__codelineno-38-19" name="__codelineno-38-19" href="#__codelineno-38-19"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">notificador</span><span class="p">:</span><span class="w"> </span><span class="n">Notificador</span><span class="p">,</span>
<a id="__codelineno-38-20" name="__codelineno-38-20" href="#__codelineno-38-20"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">validador</span><span class="p">:</span><span class="w"> </span><span class="n">Validador</span>
<a id="__codelineno-38-21" name="__codelineno-38-21" href="#__codelineno-38-21"></a><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-22" name="__codelineno-38-22" href="#__codelineno-38-22"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">registrar</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-23" name="__codelineno-38-23" href="#__codelineno-38-23"></a><span class="w">        </span><span class="c1">// Validar</span>
<a id="__codelineno-38-24" name="__codelineno-38-24" href="#__codelineno-38-24"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">resultado</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">validador</span><span class="p">.</span><span class="na">validar</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-38-25" name="__codelineno-38-25" href="#__codelineno-38-25"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">resultado</span><span class="w"> </span><span class="k">is</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Invalido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-26" name="__codelineno-38-26" href="#__codelineno-38-26"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-38-27" name="__codelineno-38-27" href="#__codelineno-38-27"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-38-28" name="__codelineno-38-28" href="#__codelineno-38-28"></a>
<a id="__codelineno-38-29" name="__codelineno-38-29" href="#__codelineno-38-29"></a><span class="w">        </span><span class="c1">// Guardar</span>
<a id="__codelineno-38-30" name="__codelineno-38-30" href="#__codelineno-38-30"></a><span class="w">        </span><span class="n">repositorio</span><span class="p">.</span><span class="na">guardar</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-38-31" name="__codelineno-38-31" href="#__codelineno-38-31"></a>
<a id="__codelineno-38-32" name="__codelineno-38-32" href="#__codelineno-38-32"></a><span class="w">        </span><span class="c1">// Notificar</span>
<a id="__codelineno-38-33" name="__codelineno-38-33" href="#__codelineno-38-33"></a><span class="w">        </span><span class="n">notificador</span><span class="p">.</span><span class="na">notificar</span><span class="p">(</span><span class="n">usuario</span><span class="p">.</span><span class="na">email</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Bienvenido </span><span class="si">${</span><span class="n">usuario</span><span class="p">.</span><span class="na">nombre</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-38-34" name="__codelineno-38-34" href="#__codelineno-38-34"></a>
<a id="__codelineno-38-35" name="__codelineno-38-35" href="#__codelineno-38-35"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-38-36" name="__codelineno-38-36" href="#__codelineno-38-36"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-38-37" name="__codelineno-38-37" href="#__codelineno-38-37"></a><span class="p">}</span>
<a id="__codelineno-38-38" name="__codelineno-38-38" href="#__codelineno-38-38"></a>
<a id="__codelineno-38-39" name="__codelineno-38-39" href="#__codelineno-38-39"></a><span class="c1">// Implementaciones intercambiables</span>
<a id="__codelineno-38-40" name="__codelineno-38-40" href="#__codelineno-38-40"></a><span class="kd">class</span><span class="w"> </span><span class="nc">RepositorioUsuariosMemoria</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">RepositorioUsuarios</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-41" name="__codelineno-38-41" href="#__codelineno-38-41"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">usuarios</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mutableListOf</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-38-42" name="__codelineno-38-42" href="#__codelineno-38-42"></a>
<a id="__codelineno-38-43" name="__codelineno-38-43" href="#__codelineno-38-43"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">usuario</span><span class="p">:</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-44" name="__codelineno-38-44" href="#__codelineno-38-44"></a><span class="w">        </span><span class="n">usuarios</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-38-45" name="__codelineno-38-45" href="#__codelineno-38-45"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-38-46" name="__codelineno-38-46" href="#__codelineno-38-46"></a>
<a id="__codelineno-38-47" name="__codelineno-38-47" href="#__codelineno-38-47"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarPorEmail</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="n">Usuario? </span><span class="p">{</span>
<a id="__codelineno-38-48" name="__codelineno-38-48" href="#__codelineno-38-48"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">usuarios</span><span class="p">.</span><span class="na">find</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">email</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-38-49" name="__codelineno-38-49" href="#__codelineno-38-49"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-38-50" name="__codelineno-38-50" href="#__codelineno-38-50"></a>
<a id="__codelineno-38-51" name="__codelineno-38-51" href="#__codelineno-38-51"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">listarTodos</span><span class="p">():</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Usuario</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">usuarios</span><span class="p">.</span><span class="na">toList</span><span class="p">()</span>
<a id="__codelineno-38-52" name="__codelineno-38-52" href="#__codelineno-38-52"></a><span class="p">}</span>
<a id="__codelineno-38-53" name="__codelineno-38-53" href="#__codelineno-38-53"></a>
<a id="__codelineno-38-54" name="__codelineno-38-54" href="#__codelineno-38-54"></a><span class="kd">class</span><span class="w"> </span><span class="nc">NotificadorEmail</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Notificador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-55" name="__codelineno-38-55" href="#__codelineno-38-55"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">notificar</span><span class="p">(</span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-56" name="__codelineno-38-56" href="#__codelineno-38-56"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Email enviado a </span><span class="si">$</span><span class="n">destinatario</span><span class="s">: </span><span class="si">$</span><span class="n">mensaje</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-38-57" name="__codelineno-38-57" href="#__codelineno-38-57"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-38-58" name="__codelineno-38-58" href="#__codelineno-38-58"></a><span class="p">}</span>
<a id="__codelineno-38-59" name="__codelineno-38-59" href="#__codelineno-38-59"></a>
<a id="__codelineno-38-60" name="__codelineno-38-60" href="#__codelineno-38-60"></a><span class="kd">class</span><span class="w"> </span><span class="nc">NotificadorSMS</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Notificador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-61" name="__codelineno-38-61" href="#__codelineno-38-61"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">notificar</span><span class="p">(</span><span class="n">destinatario</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-62" name="__codelineno-38-62" href="#__codelineno-38-62"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;SMS enviado a </span><span class="si">$</span><span class="n">destinatario</span><span class="s">: </span><span class="si">$</span><span class="n">mensaje</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-38-63" name="__codelineno-38-63" href="#__codelineno-38-63"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-38-64" name="__codelineno-38-64" href="#__codelineno-38-64"></a><span class="p">}</span>
<a id="__codelineno-38-65" name="__codelineno-38-65" href="#__codelineno-38-65"></a>
<a id="__codelineno-38-66" name="__codelineno-38-66" href="#__codelineno-38-66"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorUsuario</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Validador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-67" name="__codelineno-38-67" href="#__codelineno-38-67"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validar</span><span class="p">(</span><span class="n">dato</span><span class="p">:</span><span class="w"> </span><span class="kt">Any</span><span class="p">):</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-68" name="__codelineno-38-68" href="#__codelineno-38-68"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dato</span><span class="w"> </span><span class="k">!is</span><span class="w"> </span><span class="n">Usuario</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Invalido</span><span class="p">(</span><span class="s">&quot;Tipo inválido&quot;</span><span class="p">)</span>
<a id="__codelineno-38-69" name="__codelineno-38-69" href="#__codelineno-38-69"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">dato</span><span class="p">.</span><span class="na">nombre</span><span class="p">.</span><span class="na">isBlank</span><span class="p">())</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Invalido</span><span class="p">(</span><span class="s">&quot;Nombre requerido&quot;</span><span class="p">)</span>
<a id="__codelineno-38-70" name="__codelineno-38-70" href="#__codelineno-38-70"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">dato</span><span class="p">.</span><span class="na">email</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">))</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Invalido</span><span class="p">(</span><span class="s">&quot;Email inválido&quot;</span><span class="p">)</span>
<a id="__codelineno-38-71" name="__codelineno-38-71" href="#__codelineno-38-71"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ResultadoValidacion</span><span class="p">.</span><span class="na">Exitoso</span>
<a id="__codelineno-38-72" name="__codelineno-38-72" href="#__codelineno-38-72"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-38-73" name="__codelineno-38-73" href="#__codelineno-38-73"></a><span class="p">}</span>
<a id="__codelineno-38-74" name="__codelineno-38-74" href="#__codelineno-38-74"></a>
<a id="__codelineno-38-75" name="__codelineno-38-75" href="#__codelineno-38-75"></a><span class="c1">// Uso con total flexibilidad</span>
<a id="__codelineno-38-76" name="__codelineno-38-76" href="#__codelineno-38-76"></a><span class="kd">fun</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-38-77" name="__codelineno-38-77" href="#__codelineno-38-77"></a><span class="w">    </span><span class="c1">// Configuración 1: Memoria + Email</span>
<a id="__codelineno-38-78" name="__codelineno-38-78" href="#__codelineno-38-78"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">servicio1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioRegistro</span><span class="p">(</span>
<a id="__codelineno-38-79" name="__codelineno-38-79" href="#__codelineno-38-79"></a><span class="w">        </span><span class="n">repositorio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RepositorioUsuariosMemoria</span><span class="p">(),</span>
<a id="__codelineno-38-80" name="__codelineno-38-80" href="#__codelineno-38-80"></a><span class="w">        </span><span class="n">notificador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NotificadorEmail</span><span class="p">(),</span>
<a id="__codelineno-38-81" name="__codelineno-38-81" href="#__codelineno-38-81"></a><span class="w">        </span><span class="n">validador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ValidadorUsuario</span><span class="p">()</span>
<a id="__codelineno-38-82" name="__codelineno-38-82" href="#__codelineno-38-82"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-38-83" name="__codelineno-38-83" href="#__codelineno-38-83"></a>
<a id="__codelineno-38-84" name="__codelineno-38-84" href="#__codelineno-38-84"></a><span class="w">    </span><span class="c1">// Configuración 2: Memoria + SMS (sin cambiar ServicioRegistro)</span>
<a id="__codelineno-38-85" name="__codelineno-38-85" href="#__codelineno-38-85"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">servicio2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ServicioRegistro</span><span class="p">(</span>
<a id="__codelineno-38-86" name="__codelineno-38-86" href="#__codelineno-38-86"></a><span class="w">        </span><span class="n">repositorio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RepositorioUsuariosMemoria</span><span class="p">(),</span>
<a id="__codelineno-38-87" name="__codelineno-38-87" href="#__codelineno-38-87"></a><span class="w">        </span><span class="n">notificador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NotificadorSMS</span><span class="p">(),</span>
<a id="__codelineno-38-88" name="__codelineno-38-88" href="#__codelineno-38-88"></a><span class="w">        </span><span class="n">validador</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ValidadorUsuario</span><span class="p">()</span>
<a id="__codelineno-38-89" name="__codelineno-38-89" href="#__codelineno-38-89"></a><span class="w">    </span><span class="p">)</span>
<a id="__codelineno-38-90" name="__codelineno-38-90" href="#__codelineno-38-90"></a>
<a id="__codelineno-38-91" name="__codelineno-38-91" href="#__codelineno-38-91"></a><span class="w">    </span><span class="kd">val</span><span class="w"> </span><span class="nv">usuario</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Usuario</span><span class="p">(</span><span class="m">100.0</span><span class="p">)</span>
<a id="__codelineno-38-92" name="__codelineno-38-92" href="#__codelineno-38-92"></a><span class="w">    </span><span class="n">usuario</span><span class="p">.</span><span class="na">nombre</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Juan&quot;</span>
<a id="__codelineno-38-93" name="__codelineno-38-93" href="#__codelineno-38-93"></a><span class="w">    </span><span class="n">usuario</span><span class="p">.</span><span class="na">email</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;juan@example.com&quot;</span>
<a id="__codelineno-38-94" name="__codelineno-38-94" href="#__codelineno-38-94"></a>
<a id="__codelineno-38-95" name="__codelineno-38-95" href="#__codelineno-38-95"></a><span class="w">    </span><span class="n">servicio1</span><span class="p">.</span><span class="na">registrar</span><span class="p">(</span><span class="n">usuario</span><span class="p">)</span>
<a id="__codelineno-38-96" name="__codelineno-38-96" href="#__codelineno-38-96"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios máximos</strong>:
- Completamente desacoplado
- Implementaciones intercambiables
- <abbr title="Proceso de evaluación de la calidad y el rendimiento de un programa. El testing se realiza utilizando técnicas de pruebas que permiten a los desarrolladores identificar y corregir los errores, verificar el comportamiento del programa y garantizar su funcionamiento correcto.">Testing</abbr> con mocks trivial
- Máxima flexibilidad y extensibilidad</p>
<h4 id="33-estrategias-para-reducir-el-acoplamiento">3.3. Estrategias para reducir el acoplamiento<a class="headerlink" href="#33-estrategias-para-reducir-el-acoplamiento" title="Permanent link">&para;</a></h4>
<p>Para lograr un bajo acoplamiento, puedes aplicar varias estrategias y patrones de diseño. Aquí te presento algunas de las más efectivas</p>
<h5 id="331-inyeccion-de-dependencias-di">3.3.1. Inyección de Dependencias (DI)<a class="headerlink" href="#331-inyeccion-de-dependencias-di" title="Permanent link">&para;</a></h5>
<p>No crees tus dependencias, recíbelas desde fuera:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="c1">// ❌ Sin DI - Alto acoplamiento</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Servicio</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">repositorio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">RepositorioMySQL</span><span class="p">()</span><span class="w">  </span><span class="c1">// Dependencia concreta</span>
<a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>
<a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">hacer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">        </span><span class="n">repositorio</span><span class="p">.</span><span class="na">guardar</span><span class="p">()</span>
<a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="p">}</span>
<a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a>
<a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="c1">// Con DI - Bajo acoplamiento</span>
<a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Servicio</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">repositorio</span><span class="p">:</span><span class="w"> </span><span class="n">Repositorio</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// Interfaz</span>
<a id="__codelineno-39-12" name="__codelineno-39-12" href="#__codelineno-39-12"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">hacer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-39-13" name="__codelineno-39-13" href="#__codelineno-39-13"></a><span class="w">        </span><span class="n">repositorio</span><span class="p">.</span><span class="na">guardar</span><span class="p">()</span>
<a id="__codelineno-39-14" name="__codelineno-39-14" href="#__codelineno-39-14"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-39-15" name="__codelineno-39-15" href="#__codelineno-39-15"></a><span class="p">}</span>
</code></pre></div>
<h5 id="332-principio-de-inversion-de-dependencias-dip">3.3.2. Principio de Inversión de Dependencias (DIP)<a class="headerlink" href="#332-principio-de-inversion-de-dependencias-dip" title="Permanent link">&para;</a></h5>
<p>Depende de abstracciones, no de concreciones:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="c1">// ❌ Depende de concreción</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Notificador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">notificar</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="n">ServicioEmailSMTP</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">        </span><span class="n">email</span><span class="p">.</span><span class="na">enviar</span><span class="p">(</span><span class="s">&quot;mensaje&quot;</span><span class="p">)</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="p">}</span>
<a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a>
<a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="c1">// Depende de abstracción</span>
<a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">ServicioEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviar</span><span class="p">(</span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>
<a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="p">}</span>
<a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a>
<a id="__codelineno-40-13" name="__codelineno-40-13" href="#__codelineno-40-13"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Notificador</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">servicioEmail</span><span class="p">:</span><span class="w"> </span><span class="n">ServicioEmail</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-14" name="__codelineno-40-14" href="#__codelineno-40-14"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">notificar</span><span class="p">(</span><span class="n">mensaje</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-40-15" name="__codelineno-40-15" href="#__codelineno-40-15"></a><span class="w">        </span><span class="n">servicioEmail</span><span class="p">.</span><span class="na">enviar</span><span class="p">(</span><span class="n">mensaje</span><span class="p">)</span>
<a id="__codelineno-40-16" name="__codelineno-40-16" href="#__codelineno-40-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-40-17" name="__codelineno-40-17" href="#__codelineno-40-17"></a><span class="p">}</span>
</code></pre></div>
<h5 id="333-ley-de-demeter-principle-of-least-knowledge">3.3.3. Ley de Demeter (Principle of Least Knowledge)<a class="headerlink" href="#333-ley-de-demeter-principle-of-least-knowledge" title="Permanent link">&para;</a></h5>
<p>No hables con extraños, solo con amigos directos:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="c1">// ❌ Viola Ley de Demeter</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Cliente</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesarPago</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">monto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pedido</span><span class="p">.</span><span class="na">carrito</span><span class="p">.</span><span class="na">items</span><span class="p">.</span><span class="na">sumOf</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">precio</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="c1">// Cadena larga</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Procesando </span><span class="si">$</span><span class="n">monto</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="p">}</span>
<a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a>
<a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="c1">// Respeta Ley de Demeter</span>
<a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Pedido</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularTotal</span><span class="p">():</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">carrito</span><span class="p">.</span><span class="na">calcularTotal</span><span class="p">()</span>
<a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-41-14" name="__codelineno-41-14" href="#__codelineno-41-14"></a><span class="p">}</span>
<a id="__codelineno-41-15" name="__codelineno-41-15" href="#__codelineno-41-15"></a>
<a id="__codelineno-41-16" name="__codelineno-41-16" href="#__codelineno-41-16"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Cliente</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-17" name="__codelineno-41-17" href="#__codelineno-41-17"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesarPago</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-41-18" name="__codelineno-41-18" href="#__codelineno-41-18"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">monto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pedido</span><span class="p">.</span><span class="na">calcularTotal</span><span class="p">()</span><span class="w">  </span><span class="c1">// Solo un nivel</span>
<a id="__codelineno-41-19" name="__codelineno-41-19" href="#__codelineno-41-19"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Procesando </span><span class="si">$</span><span class="n">monto</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-41-20" name="__codelineno-41-20" href="#__codelineno-41-20"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-41-21" name="__codelineno-41-21" href="#__codelineno-41-21"></a><span class="p">}</span>
</code></pre></div>
<h5 id="334-facade-pattern">3.3.4. Facade Pattern<a class="headerlink" href="#334-facade-pattern" title="Permanent link">&para;</a></h5>
<p>Simplifica interfaces complejas:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="c1">// Sistema complejo</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">SubsistemaA</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">operacion1</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="kd">class</span><span class="w"> </span><span class="nc">SubsistemaB</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">operacion2</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="kd">class</span><span class="w"> </span><span class="nc">SubsistemaC</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">operacion3</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a>
<a id="__codelineno-42-6" name="__codelineno-42-6" href="#__codelineno-42-6"></a><span class="c1">// Facade simplifica el acceso</span>
<a id="__codelineno-42-7" name="__codelineno-42-7" href="#__codelineno-42-7"></a><span class="kd">class</span><span class="w"> </span><span class="nc">FachadeSistema</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-8" name="__codelineno-42-8" href="#__codelineno-42-8"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">subsistemaA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SubsistemaA</span><span class="p">()</span>
<a id="__codelineno-42-9" name="__codelineno-42-9" href="#__codelineno-42-9"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">subsistemaB</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SubsistemaB</span><span class="p">()</span>
<a id="__codelineno-42-10" name="__codelineno-42-10" href="#__codelineno-42-10"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">subsistemaC</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SubsistemaC</span><span class="p">()</span>
<a id="__codelineno-42-11" name="__codelineno-42-11" href="#__codelineno-42-11"></a>
<a id="__codelineno-42-12" name="__codelineno-42-12" href="#__codelineno-42-12"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">operacionSimplificada</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-13" name="__codelineno-42-13" href="#__codelineno-42-13"></a><span class="w">        </span><span class="n">subsistemaA</span><span class="p">.</span><span class="na">operacion1</span><span class="p">()</span>
<a id="__codelineno-42-14" name="__codelineno-42-14" href="#__codelineno-42-14"></a><span class="w">        </span><span class="n">subsistemaB</span><span class="p">.</span><span class="na">operacion2</span><span class="p">()</span>
<a id="__codelineno-42-15" name="__codelineno-42-15" href="#__codelineno-42-15"></a><span class="w">        </span><span class="n">subsistemaC</span><span class="p">.</span><span class="na">operacion3</span><span class="p">()</span>
<a id="__codelineno-42-16" name="__codelineno-42-16" href="#__codelineno-42-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-42-17" name="__codelineno-42-17" href="#__codelineno-42-17"></a><span class="p">}</span>
<a id="__codelineno-42-18" name="__codelineno-42-18" href="#__codelineno-42-18"></a>
<a id="__codelineno-42-19" name="__codelineno-42-19" href="#__codelineno-42-19"></a><span class="c1">// Cliente solo conoce la fachada</span>
<a id="__codelineno-42-20" name="__codelineno-42-20" href="#__codelineno-42-20"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Cliente</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">fachada</span><span class="p">:</span><span class="w"> </span><span class="n">FachadeSistema</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-21" name="__codelineno-42-21" href="#__codelineno-42-21"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">hacer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-42-22" name="__codelineno-42-22" href="#__codelineno-42-22"></a><span class="w">        </span><span class="n">fachada</span><span class="p">.</span><span class="na">operacionSimplificada</span><span class="p">()</span>
<a id="__codelineno-42-23" name="__codelineno-42-23" href="#__codelineno-42-23"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-42-24" name="__codelineno-42-24" href="#__codelineno-42-24"></a><span class="p">}</span>
</code></pre></div>
<h3 id="4-la-relacion-entre-cohesion-y-acoplamiento">4. La relación entre Cohesión y Acoplamiento<a class="headerlink" href="#4-la-relacion-entre-cohesion-y-acoplamiento" title="Permanent link">&para;</a></h3>
<h4 id="41-matriz-de-calidad-del-diseno">4.1. Matriz de calidad del diseño<a class="headerlink" href="#41-matriz-de-calidad-del-diseno" title="Permanent link">&para;</a></h4>
<p>La calidad del diseño depende de la combinación de cohesión y acoplamiento:</p>
<table>
<thead>
<tr>
<th>Cohesión  Acoplamiento</th>
<th><strong>Bajo Acoplamiento</strong></th>
<th><strong>Alto Acoplamiento</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Alta Cohesión</strong></td>
<td><strong>EXCELENTE</strong><br/>Módulos independientes con propósito claro<br/>Fácil mantener, testear, reutilizar</td>
<td>⚠️ <strong>BUENO</strong><br/>Módulos cohesivos pero dependientes<br/>Mantener es viable pero complejo</td>
</tr>
<tr>
<td><strong>Baja Cohesión</strong></td>
<td>⚠️ <strong>REGULAR</strong><br/>Módulos independientes pero confusos<br/>Difícil entender qué hacen</td>
<td>❌ <strong>MALO</strong><br/>Módulos confusos y dependientes<br/>Código espagueti, imposible mantener</td>
</tr>
</tbody>
</table>
<h4 id="42-trade-offs-y-decisiones">4.2. Trade-offs y decisiones<a class="headerlink" href="#42-trade-offs-y-decisiones" title="Permanent link">&para;</a></h4>
<p><strong>¿Cuándo es aceptable tener algo de acoplamiento?</strong></p>
<ul>
<li>Cuando dos módulos están intrínsecamente relacionados por el dominio</li>
<li>En frameworks donde el acoplamiento está controlado por convención</li>
<li>Cuando la performance es crítica y el desacoplamiento tiene coste</li>
</ul>
<p><strong>¿Cuándo es aceptable tener cohesión media?</strong></p>
<ul>
<li>En clases de utilidad bien documentadas</li>
<li>En coordinadores o orquestadores (su trabajo es coordinar)</li>
<li>En adaptadores entre sistemas</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Regla práctica</p>
<p>Prioriza siempre la alta cohesión sobre el bajo acoplamiento. Es mejor tener módulos cohesivos ligeramente acoplados que módulos desacoplados pero confusos.</p>
</div>
<h3 id="5-principios-de-diseno-relacionados">5. Principios de Diseño Relacionados<a class="headerlink" href="#5-principios-de-diseno-relacionados" title="Permanent link">&para;</a></h3>
<p>Tantos la cohesión como el acoplamiento están influenciados por varios principios de diseño de software. Aquí exploramos algunos de los más relevantes.</p>
<h4 id="51-principio-de-responsabilidad-unica-srp">5.1. Principio de Responsabilidad Única (SRP)<a class="headerlink" href="#51-principio-de-responsabilidad-unica-srp" title="Permanent link">&para;</a></h4>
<p><strong>Definición</strong>: Una clase debe tener una sola razón para cambiar.</p>
<p><strong>Relación</strong>: El SRP promueve directamente la <strong>alta cohesión</strong>. Si una clase tiene una responsabilidad única, automáticamente tendrá alta cohesión funcional.</p>
<p><strong>Ejemplo</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="c1">// SRP + Alta Cohesión</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorEmail</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">esValido</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">email</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">)</span>
<a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">extraerDominio</span><span class="p">(</span><span class="n">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">String?</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">email</span><span class="p">.</span><span class="na">substringAfter</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="p">}</span>
</code></pre></div>
<h4 id="52-principio-de-inversion-de-dependencias-dip">5.2. Principio de Inversión de Dependencias (DIP)<a class="headerlink" href="#52-principio-de-inversion-de-dependencias-dip" title="Permanent link">&para;</a></h4>
<p><strong>Definición</strong>: Depender de abstracciones, no de concreciones.</p>
<p><strong>Relación</strong>: El DIP reduce directamente el <strong>acoplamiento</strong>. Al depender de interfaces en lugar de implementaciones, los módulos se vuelven independientes.</p>
<p><strong>Ejemplo</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="c1">// DIP + Bajo Acoplamiento</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">Repositorio</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">dato</span><span class="p">:</span><span class="w"> </span><span class="kt">Any</span><span class="p">)</span>
<a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="p">}</span>
<a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>
<a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Servicio</span><span class="p">(</span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">repositorio</span><span class="p">:</span><span class="w"> </span><span class="n">Repositorio</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// Depende de abstracción</span>
<a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesar</span><span class="p">(</span><span class="n">dato</span><span class="p">:</span><span class="w"> </span><span class="kt">Any</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a><span class="w">        </span><span class="n">repositorio</span><span class="p">.</span><span class="na">guardar</span><span class="p">(</span><span class="n">dato</span><span class="p">)</span>
<a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a><span class="p">}</span>
</code></pre></div>
<h4 id="53-principio-de-segregacion-de-interfaces-isp">5.3. Principio de Segregación de Interfaces (ISP)<a class="headerlink" href="#53-principio-de-segregacion-de-interfaces-isp" title="Permanent link">&para;</a></h4>
<p><strong>Definición</strong>: Los clientes no deben depender de interfaces que no usan.</p>
<p><strong>Relación</strong>: El ISP reduce el <strong>acoplamiento innecesario</strong>. Interfaces pequeñas y específicas minimizan las dependencias.</p>
<p><strong>Ejemplo</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="c1">// ❌ Interfaz gorda - acoplamiento innecesario</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">Trabajador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">trabajar</span><span class="p">()</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">comer</span><span class="p">()</span>
<a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">dormir</span><span class="p">()</span>
<a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="p">}</span>
<a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a>
<a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Robot</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Trabajador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-9" name="__codelineno-45-9" href="#__codelineno-45-9"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">trabajar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* OK */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-45-10" name="__codelineno-45-10" href="#__codelineno-45-10"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">comer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* No aplica */</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="c1">// ❌</span>
<a id="__codelineno-45-11" name="__codelineno-45-11" href="#__codelineno-45-11"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">dormir</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* No aplica */</span><span class="w"> </span><span class="p">}</span><span class="w">  </span><span class="c1">// ❌</span>
<a id="__codelineno-45-12" name="__codelineno-45-12" href="#__codelineno-45-12"></a><span class="p">}</span>
<a id="__codelineno-45-13" name="__codelineno-45-13" href="#__codelineno-45-13"></a>
<a id="__codelineno-45-14" name="__codelineno-45-14" href="#__codelineno-45-14"></a><span class="c1">// Interfaces segregadas</span>
<a id="__codelineno-45-15" name="__codelineno-45-15" href="#__codelineno-45-15"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">Trabajador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-16" name="__codelineno-45-16" href="#__codelineno-45-16"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">trabajar</span><span class="p">()</span>
<a id="__codelineno-45-17" name="__codelineno-45-17" href="#__codelineno-45-17"></a><span class="p">}</span>
<a id="__codelineno-45-18" name="__codelineno-45-18" href="#__codelineno-45-18"></a>
<a id="__codelineno-45-19" name="__codelineno-45-19" href="#__codelineno-45-19"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">SerVivo</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-20" name="__codelineno-45-20" href="#__codelineno-45-20"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">comer</span><span class="p">()</span>
<a id="__codelineno-45-21" name="__codelineno-45-21" href="#__codelineno-45-21"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">dormir</span><span class="p">()</span>
<a id="__codelineno-45-22" name="__codelineno-45-22" href="#__codelineno-45-22"></a><span class="p">}</span>
<a id="__codelineno-45-23" name="__codelineno-45-23" href="#__codelineno-45-23"></a>
<a id="__codelineno-45-24" name="__codelineno-45-24" href="#__codelineno-45-24"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Robot</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Trabajador</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-25" name="__codelineno-45-25" href="#__codelineno-45-25"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">trabajar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* OK */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-45-26" name="__codelineno-45-26" href="#__codelineno-45-26"></a><span class="p">}</span>
<a id="__codelineno-45-27" name="__codelineno-45-27" href="#__codelineno-45-27"></a>
<a id="__codelineno-45-28" name="__codelineno-45-28" href="#__codelineno-45-28"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Humano</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">Trabajador</span><span class="p">,</span><span class="w"> </span><span class="n">SerVivo</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-45-29" name="__codelineno-45-29" href="#__codelineno-45-29"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">trabajar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* OK */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-45-30" name="__codelineno-45-30" href="#__codelineno-45-30"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">comer</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* OK */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-45-31" name="__codelineno-45-31" href="#__codelineno-45-31"></a><span class="w">    </span><span class="kd">override</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">dormir</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* OK */</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-45-32" name="__codelineno-45-32" href="#__codelineno-45-32"></a><span class="p">}</span>
</code></pre></div>
<h3 id="6-metricas-y-medicion">6. Métricas y Medición<a class="headerlink" href="#6-metricas-y-medicion" title="Permanent link">&para;</a></h3>
<h4 id="61-metricas-de-cohesion">6.1. Métricas de Cohesión<a class="headerlink" href="#61-metricas-de-cohesion" title="Permanent link">&para;</a></h4>
<h5 id="611-lcom-lack-of-cohesion-of-methods">6.1.1. LCOM (Lack of Cohesion of Methods)<a class="headerlink" href="#611-lcom-lack-of-cohesion-of-methods" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Mide cuántos métodos de una clase NO comparten atributos.</p>
<p><strong>Cálculo simplificado</strong>:
<div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>LCOM = (Pares de métodos que NO comparten atributos) - 
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a>       (Pares de métodos que SÍ comparten atributos)
</code></pre></div></p>
<p><strong>Interpretación</strong>:</p>
<ul>
<li><strong>LCOM = 0</strong>: Perfecta cohesión (todos los métodos usan todos los atributos)</li>
<li><strong>LCOM bajo (&lt; 50)</strong>: Buena cohesión</li>
<li><strong>LCOM alto (&gt; 100)</strong>: Baja cohesión (considerar dividir la clase)</li>
</ul>
<p><strong>Ejemplo</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="c1">// LCOM bajo - Alta cohesión</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Rectangulo</span><span class="p">(</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">ancho</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">,</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">alto</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span>
<a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="w">    </span><span class="c1">// Todos los métodos usan ambos atributos</span>
<a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularArea</span><span class="p">():</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ancho</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">alto</span>
<a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularPerimetro</span><span class="p">():</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="n">ancho</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">alto</span><span class="p">)</span>
<a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">escalar</span><span class="p">(</span><span class="n">factor</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="w">        </span><span class="n">ancho</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="n">factor</span>
<a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="w">        </span><span class="n">alto</span><span class="w"> </span><span class="o">*=</span><span class="w"> </span><span class="n">factor</span>
<a id="__codelineno-47-12" name="__codelineno-47-12" href="#__codelineno-47-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-47-13" name="__codelineno-47-13" href="#__codelineno-47-13"></a><span class="p">}</span>
<a id="__codelineno-47-14" name="__codelineno-47-14" href="#__codelineno-47-14"></a>
<a id="__codelineno-47-15" name="__codelineno-47-15" href="#__codelineno-47-15"></a><span class="c1">// ❌ LCOM alto - Baja cohesión</span>
<a id="__codelineno-47-16" name="__codelineno-47-16" href="#__codelineno-47-16"></a><span class="kd">class</span><span class="w"> </span><span class="nc">Utilidades</span><span class="p">(</span>
<a id="__codelineno-47-17" name="__codelineno-47-17" href="#__codelineno-47-17"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">contador</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span>
<a id="__codelineno-47-18" name="__codelineno-47-18" href="#__codelineno-47-18"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">var</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span>
<a id="__codelineno-47-19" name="__codelineno-47-19" href="#__codelineno-47-19"></a><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-47-20" name="__codelineno-47-20" href="#__codelineno-47-20"></a><span class="w">    </span><span class="c1">// incrementar() solo usa contador</span>
<a id="__codelineno-47-21" name="__codelineno-47-21" href="#__codelineno-47-21"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">incrementar</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">contador</span><span class="o">++</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-47-22" name="__codelineno-47-22" href="#__codelineno-47-22"></a>
<a id="__codelineno-47-23" name="__codelineno-47-23" href="#__codelineno-47-23"></a><span class="w">    </span><span class="c1">// validarEmail() solo usa email</span>
<a id="__codelineno-47-24" name="__codelineno-47-24" href="#__codelineno-47-24"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarEmail</span><span class="p">():</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">email</span><span class="p">.</span><span class="na">contains</span><span class="p">(</span><span class="s">&quot;@&quot;</span><span class="p">)</span>
<a id="__codelineno-47-25" name="__codelineno-47-25" href="#__codelineno-47-25"></a>
<a id="__codelineno-47-26" name="__codelineno-47-26" href="#__codelineno-47-26"></a><span class="w">    </span><span class="c1">// No hay métodos que usen ambos atributos - LCOM alto</span>
<a id="__codelineno-47-27" name="__codelineno-47-27" href="#__codelineno-47-27"></a><span class="p">}</span>
</code></pre></div>
<h4 id="62-metricas-de-acoplamiento">6.2. Métricas de Acoplamiento<a class="headerlink" href="#62-metricas-de-acoplamiento" title="Permanent link">&para;</a></h4>
<p>Las métricas de acoplamiento miden las dependencias entre clases o módulos.</p>
<h5 id="621-acoplamiento-aferente-ca">6.2.1.  Acoplamiento Aferente (Ca)<a class="headerlink" href="#621-acoplamiento-aferente-ca" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Número de clases externas que <strong>dependen de</strong> esta clase.</p>
<p><strong>Interpretación</strong>:</p>
<ul>
<li><strong>Ca alto</strong>: Clase estable, muchas otras dependen de ella. Por lo tanto, menos propensa a cambios. Esto es bueno para clases de bajo nivel (utilidades, frameworks).</li>
<li><strong>Ca bajo</strong>: Clase volátil, pocas dependen de ella. Por lo tanto, más propensa a cambios. Esto es aceptable para clases de alto nivel (coordinadores).</li>
</ul>
<h5 id="622-acoplamiento-eferente-ce">6.2.2.  Acoplamiento Eferente (Ce)<a class="headerlink" href="#622-acoplamiento-eferente-ce" title="Permanent link">&para;</a></h5>
<p><strong>Definición</strong>: Número de clases externas de las que <strong>depende</strong> esta clase.</p>
<p><strong>Interpretación</strong>:</p>
<ul>
<li><strong>Ce alto</strong>: Clase dependiente, usa muchas otras</li>
<li><strong>Ce bajo</strong>: Clase independiente</li>
</ul>
<h5 id="623-inestabilidad-i">6.2.3.  Inestabilidad (I)<a class="headerlink" href="#623-inestabilidad-i" title="Permanent link">&para;</a></h5>
<p><strong>Fórmula</strong>: <code>I = Ce / (Ca + Ce)</code></p>
<p><strong>Interpretación</strong>:</p>
<ul>
<li><strong>I = 0</strong>: Clase máximamente estable (muchas dependen de ella, depende de pocas)</li>
<li><strong>I = 1</strong>: Clase máximamente inestable (pocas dependen de ella, depende de muchas)</li>
</ul>
<p><strong>Objetivo</strong>:</p>
<ul>
<li>Clases de bajo nivel (utilidades, frameworks): I cercano a 0</li>
<li>Clases de alto nivel (coordinadores): I puede ser mayor</li>
</ul>
<p><strong>Ejemplo</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a>Clase A:
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a>- Ca = 5 (5 clases la usan)
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a>- Ce = 1 (usa 1 clase)
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a>- I = 1 / (5 + 1) = 0.16 → Muy estable
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a>Clase B:
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a>- Ca = 1 (1 clase la usa)
<a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a>- Ce = 10 (usa 10 clases)
<a id="__codelineno-48-9" name="__codelineno-48-9" href="#__codelineno-48-9"></a>- I = 10 / (1 + 10) = 0.91 → Muy inestable
</code></pre></div>
<h4 id="63-herramientas-de-analisis">6.3. Herramientas de análisis<a class="headerlink" href="#63-herramientas-de-analisis" title="Permanent link">&para;</a></h4>
<p><strong>Para Kotlin/Java</strong>:</p>
<ul>
<li><strong>SonarQube</strong>: Análisis continuo de calidad, reporta LCOM, complejidad, acoplamiento</li>
<li><strong>IntelliJ IDEA</strong>: Inspecciones integradas, análisis de dependencias</li>
<li><strong>Detekt</strong>: Linter para Kotlin, detecta code smells</li>
<li><strong>JDepend</strong>: Analiza métricas de acoplamiento</li>
</ul>
<p><strong>Comandos útiles</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="c1"># Detekt</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>./gradlew<span class="w"> </span>detekt
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="c1"># SonarQube</span>
<a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a>./gradlew<span class="w"> </span>sonarqube
<a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a>
<a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="c1"># IntelliJ - Analyze → Inspect Code</span>
</code></pre></div>
<h3 id="7-casos-practicos-de-refactorizacion">7. Casos Prácticos de Refactorización<a class="headerlink" href="#7-casos-practicos-de-refactorizacion" title="Permanent link">&para;</a></h3>
<h4 id="71-caso-sistema-de-pedidos">7.1. Caso: Sistema de Pedidos<a class="headerlink" href="#71-caso-sistema-de-pedidos" title="Permanent link">&para;</a></h4>
<p><strong>Antes - Alto acoplamiento y baja cohesión</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="c1">// ❌ Clase monolítica con múltiples responsabilidades</span>
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="kd">class</span><span class="w"> </span><span class="nc">SistemaVentas</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">conexionBD</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;jdbc:mysql://localhost/ventas&quot;</span>
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesarVenta</span><span class="p">(</span><span class="n">clienteId</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">productos</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">        </span><span class="c1">// 1. Validar cliente</span>
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">cliente</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buscarEnBD</span><span class="p">(</span><span class="s">&quot;SELECT * FROM clientes WHERE id = </span><span class="si">$</span><span class="n">clienteId</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">cliente</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Cliente no existe&quot;</span><span class="p">)</span>
<a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a><span class="w">            </span><span class="k">return</span>
<a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-50-12" name="__codelineno-50-12" href="#__codelineno-50-12"></a>
<a id="__codelineno-50-13" name="__codelineno-50-13" href="#__codelineno-50-13"></a><span class="w">        </span><span class="c1">// 2. Validar stock</span>
<a id="__codelineno-50-14" name="__codelineno-50-14" href="#__codelineno-50-14"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">productoId</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">productos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-15" name="__codelineno-50-15" href="#__codelineno-50-15"></a><span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">stock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buscarEnBD</span><span class="p">(</span><span class="s">&quot;SELECT stock FROM productos WHERE id = </span><span class="si">$</span><span class="n">productoId</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-50-16" name="__codelineno-50-16" href="#__codelineno-50-16"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">stock</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">stock</span><span class="p">.</span><span class="na">toInt</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-17" name="__codelineno-50-17" href="#__codelineno-50-17"></a><span class="w">                </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Sin stock&quot;</span><span class="p">)</span>
<a id="__codelineno-50-18" name="__codelineno-50-18" href="#__codelineno-50-18"></a><span class="w">                </span><span class="k">return</span>
<a id="__codelineno-50-19" name="__codelineno-50-19" href="#__codelineno-50-19"></a><span class="w">            </span><span class="p">}</span>
<a id="__codelineno-50-20" name="__codelineno-50-20" href="#__codelineno-50-20"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-50-21" name="__codelineno-50-21" href="#__codelineno-50-21"></a>
<a id="__codelineno-50-22" name="__codelineno-50-22" href="#__codelineno-50-22"></a><span class="w">        </span><span class="c1">// 3. Calcular total</span>
<a id="__codelineno-50-23" name="__codelineno-50-23" href="#__codelineno-50-23"></a><span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nv">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.0</span>
<a id="__codelineno-50-24" name="__codelineno-50-24" href="#__codelineno-50-24"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">productoId</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">productos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-50-25" name="__codelineno-50-25" href="#__codelineno-50-25"></a><span class="w">            </span><span class="kd">val</span><span class="w"> </span><span class="nv">precio</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">buscarEnBD</span><span class="p">(</span><span class="s">&quot;SELECT precio FROM productos WHERE id = </span><span class="si">$</span><span class="n">productoId</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-50-26" name="__codelineno-50-26" href="#__codelineno-50-26"></a><span class="w">            </span><span class="n">total</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">precio</span><span class="o">?.</span><span class="na">toDouble</span><span class="p">()</span><span class="w"> </span><span class="o">?:</span><span class="w"> </span><span class="m">0.0</span>
<a id="__codelineno-50-27" name="__codelineno-50-27" href="#__codelineno-50-27"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-50-28" name="__codelineno-50-28" href="#__codelineno-50-28"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">impuesto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="m">0.21</span>
<a id="__codelineno-50-29" name="__codelineno-50-29" href="#__codelineno-50-29"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">totalFinal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">total</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">impuesto</span>
<a id="__codelineno-50-30" name="__codelineno-50-30" href="#__codelineno-50-30"></a>
<a id="__codelineno-50-31" name="__codelineno-50-31" href="#__codelineno-50-31"></a><span class="w">        </span><span class="c1">// 4. Guardar pedido</span>
<a id="__codelineno-50-32" name="__codelineno-50-32" href="#__codelineno-50-32"></a><span class="w">        </span><span class="n">ejecutarSQL</span><span class="p">(</span><span class="s">&quot;INSERT INTO pedidos (cliente_id, total) VALUES (</span><span class="si">$</span><span class="n">clienteId</span><span class="s">, </span><span class="si">$</span><span class="n">totalFinal</span><span class="s">)&quot;</span><span class="p">)</span>
<a id="__codelineno-50-33" name="__codelineno-50-33" href="#__codelineno-50-33"></a>
<a id="__codelineno-50-34" name="__codelineno-50-34" href="#__codelineno-50-34"></a><span class="w">        </span><span class="c1">// 5. Enviar email</span>
<a id="__codelineno-50-35" name="__codelineno-50-35" href="#__codelineno-50-35"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Enviando email a cliente </span><span class="si">$</span><span class="n">clienteId</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-50-36" name="__codelineno-50-36" href="#__codelineno-50-36"></a>
<a id="__codelineno-50-37" name="__codelineno-50-37" href="#__codelineno-50-37"></a><span class="w">        </span><span class="c1">// 6. Generar factura PDF</span>
<a id="__codelineno-50-38" name="__codelineno-50-38" href="#__codelineno-50-38"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Generando PDF...&quot;</span><span class="p">)</span>
<a id="__codelineno-50-39" name="__codelineno-50-39" href="#__codelineno-50-39"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-50-40" name="__codelineno-50-40" href="#__codelineno-50-40"></a>
<a id="__codelineno-50-41" name="__codelineno-50-41" href="#__codelineno-50-41"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarEnBD</span><span class="p">(</span><span class="n">sql</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">):</span><span class="w"> </span><span class="kt">String?</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;resultado&quot;</span>
<a id="__codelineno-50-42" name="__codelineno-50-42" href="#__codelineno-50-42"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">fun</span><span class="w"> </span><span class="nf">ejecutarSQL</span><span class="p">(</span><span class="n">sql</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Ejecutando: </span><span class="si">$</span><span class="n">sql</span><span class="s">&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-50-43" name="__codelineno-50-43" href="#__codelineno-50-43"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Después - Bajo acoplamiento y alta cohesión</strong>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="c1">// Responsabilidades separadas</span>
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="c1">// 1. Entidades del dominio</span>
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Cliente</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">email</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">)</span>
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Producto</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">nombre</span><span class="p">:</span><span class="w"> </span><span class="kt">String</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">precio</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">stock</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span>
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">Pedido</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">total</span><span class="p">:</span><span class="w"> </span><span class="kt">Double</span><span class="p">)</span>
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="kd">data</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nc">ItemPedido</span><span class="p">(</span><span class="kd">val</span><span class="w"> </span><span class="nv">producto</span><span class="p">:</span><span class="w"> </span><span class="n">Producto</span><span class="p">,</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">cantidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">)</span>
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a>
<a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a><span class="c1">// 2. Repositorios</span>
<a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">RepositorioClientes</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarPorId</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="n">Cliente?</span>
<a id="__codelineno-51-12" name="__codelineno-51-12" href="#__codelineno-51-12"></a><span class="p">}</span>
<a id="__codelineno-51-13" name="__codelineno-51-13" href="#__codelineno-51-13"></a>
<a id="__codelineno-51-14" name="__codelineno-51-14" href="#__codelineno-51-14"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">RepositorioProductos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-15" name="__codelineno-51-15" href="#__codelineno-51-15"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">buscarPorId</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="n">Producto?</span>
<a id="__codelineno-51-16" name="__codelineno-51-16" href="#__codelineno-51-16"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">verificarStock</span><span class="p">(</span><span class="n">id</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">cantidad</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span>
<a id="__codelineno-51-17" name="__codelineno-51-17" href="#__codelineno-51-17"></a><span class="p">}</span>
<a id="__codelineno-51-18" name="__codelineno-51-18" href="#__codelineno-51-18"></a>
<a id="__codelineno-51-19" name="__codelineno-51-19" href="#__codelineno-51-19"></a><span class="kd">interface</span><span class="w"> </span><span class="nc">RepositorioPedidos</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-20" name="__codelineno-51-20" href="#__codelineno-51-20"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">):</span><span class="w"> </span><span class="kt">Int</span>
<a id="__codelineno-51-21" name="__codelineno-51-21" href="#__codelineno-51-21"></a><span class="p">}</span>
<a id="__codelineno-51-22" name="__codelineno-51-22" href="#__codelineno-51-22"></a>
<a id="__codelineno-51-23" name="__codelineno-51-23" href="#__codelineno-51-23"></a><span class="c1">// 3. Servicios especializados</span>
<a id="__codelineno-51-24" name="__codelineno-51-24" href="#__codelineno-51-24"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ValidadorPedido</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-25" name="__codelineno-51-25" href="#__codelineno-51-25"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarCliente</span><span class="p">(</span><span class="n">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente?)</span><span class="p">:</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cliente</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-51-26" name="__codelineno-51-26" href="#__codelineno-51-26"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">validarStock</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Boolean</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-27" name="__codelineno-51-27" href="#__codelineno-51-27"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">all</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">producto</span><span class="p">.</span><span class="na">stock</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">cantidad</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-51-28" name="__codelineno-51-28" href="#__codelineno-51-28"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-51-29" name="__codelineno-51-29" href="#__codelineno-51-29"></a><span class="p">}</span>
<a id="__codelineno-51-30" name="__codelineno-51-30" href="#__codelineno-51-30"></a>
<a id="__codelineno-51-31" name="__codelineno-51-31" href="#__codelineno-51-31"></a><span class="kd">class</span><span class="w"> </span><span class="nc">CalculadoraPrecios</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-32" name="__codelineno-51-32" href="#__codelineno-51-32"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">tasaImpuesto</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.21</span>
<a id="__codelineno-51-33" name="__codelineno-51-33" href="#__codelineno-51-33"></a>
<a id="__codelineno-51-34" name="__codelineno-51-34" href="#__codelineno-51-34"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">calcularTotal</span><span class="p">(</span><span class="n">items</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">ItemPedido</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="kt">Double</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-35" name="__codelineno-51-35" href="#__codelineno-51-35"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">subtotal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">items</span><span class="p">.</span><span class="na">sumOf</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">producto</span><span class="p">.</span><span class="na">precio</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="nb">it</span><span class="p">.</span><span class="na">cantidad</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-51-36" name="__codelineno-51-36" href="#__codelineno-51-36"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">subtotal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">subtotal</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">tasaImpuesto</span><span class="p">)</span>
<a id="__codelineno-51-37" name="__codelineno-51-37" href="#__codelineno-51-37"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-51-38" name="__codelineno-51-38" href="#__codelineno-51-38"></a><span class="p">}</span>
<a id="__codelineno-51-39" name="__codelineno-51-39" href="#__codelineno-51-39"></a>
<a id="__codelineno-51-40" name="__codelineno-51-40" href="#__codelineno-51-40"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioNotificaciones</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-41" name="__codelineno-51-41" href="#__codelineno-51-41"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">enviarConfirmacion</span><span class="p">(</span><span class="n">cliente</span><span class="p">:</span><span class="w"> </span><span class="n">Cliente</span><span class="p">,</span><span class="w"> </span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-42" name="__codelineno-51-42" href="#__codelineno-51-42"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Email enviado a </span><span class="si">${</span><span class="n">cliente</span><span class="p">.</span><span class="na">email</span><span class="si">}</span><span class="s">: Pedido </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">id</span><span class="si">}</span><span class="s"> confirmado&quot;</span><span class="p">)</span>
<a id="__codelineno-51-43" name="__codelineno-51-43" href="#__codelineno-51-43"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-51-44" name="__codelineno-51-44" href="#__codelineno-51-44"></a><span class="p">}</span>
<a id="__codelineno-51-45" name="__codelineno-51-45" href="#__codelineno-51-45"></a>
<a id="__codelineno-51-46" name="__codelineno-51-46" href="#__codelineno-51-46"></a><span class="kd">class</span><span class="w"> </span><span class="nc">GeneradorFacturas</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-47" name="__codelineno-51-47" href="#__codelineno-51-47"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">generar</span><span class="p">(</span><span class="n">pedido</span><span class="p">:</span><span class="w"> </span><span class="n">Pedido</span><span class="p">):</span><span class="w"> </span><span class="n">ByteArray</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-48" name="__codelineno-51-48" href="#__codelineno-51-48"></a><span class="w">        </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Generando factura PDF para pedido </span><span class="si">${</span><span class="n">pedido</span><span class="p">.</span><span class="na">id</span><span class="si">}</span><span class="s">&quot;</span><span class="p">)</span>
<a id="__codelineno-51-49" name="__codelineno-51-49" href="#__codelineno-51-49"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">byteArrayOf</span><span class="p">()</span>
<a id="__codelineno-51-50" name="__codelineno-51-50" href="#__codelineno-51-50"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-51-51" name="__codelineno-51-51" href="#__codelineno-51-51"></a><span class="p">}</span>
<a id="__codelineno-51-52" name="__codelineno-51-52" href="#__codelineno-51-52"></a>
<a id="__codelineno-51-53" name="__codelineno-51-53" href="#__codelineno-51-53"></a><span class="c1">// 4. Orquestador con dependencias inyectadas</span>
<a id="__codelineno-51-54" name="__codelineno-51-54" href="#__codelineno-51-54"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ServicioPedidos</span><span class="p">(</span>
<a id="__codelineno-51-55" name="__codelineno-51-55" href="#__codelineno-51-55"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">repoClientes</span><span class="p">:</span><span class="w"> </span><span class="n">RepositorioClientes</span><span class="p">,</span>
<a id="__codelineno-51-56" name="__codelineno-51-56" href="#__codelineno-51-56"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">repoProductos</span><span class="p">:</span><span class="w"> </span><span class="n">RepositorioProductos</span><span class="p">,</span>
<a id="__codelineno-51-57" name="__codelineno-51-57" href="#__codelineno-51-57"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">repoPedidos</span><span class="p">:</span><span class="w"> </span><span class="n">RepositorioPedidos</span><span class="p">,</span>
<a id="__codelineno-51-58" name="__codelineno-51-58" href="#__codelineno-51-58"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">validador</span><span class="p">:</span><span class="w"> </span><span class="n">ValidadorPedido</span><span class="p">,</span>
<a id="__codelineno-51-59" name="__codelineno-51-59" href="#__codelineno-51-59"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">calculadora</span><span class="p">:</span><span class="w"> </span><span class="n">CalculadoraPrecios</span><span class="p">,</span>
<a id="__codelineno-51-60" name="__codelineno-51-60" href="#__codelineno-51-60"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">notificaciones</span><span class="p">:</span><span class="w"> </span><span class="n">ServicioNotificaciones</span><span class="p">,</span>
<a id="__codelineno-51-61" name="__codelineno-51-61" href="#__codelineno-51-61"></a><span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kd">val</span><span class="w"> </span><span class="nv">generadorFacturas</span><span class="p">:</span><span class="w"> </span><span class="n">GeneradorFacturas</span>
<a id="__codelineno-51-62" name="__codelineno-51-62" href="#__codelineno-51-62"></a><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-63" name="__codelineno-51-63" href="#__codelineno-51-63"></a><span class="w">    </span><span class="kd">fun</span><span class="w"> </span><span class="nf">procesarPedido</span><span class="p">(</span><span class="n">clienteId</span><span class="p">:</span><span class="w"> </span><span class="kt">Int</span><span class="p">,</span><span class="w"> </span><span class="n">productosIds</span><span class="p">:</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="kt">Int</span><span class="o">&gt;</span><span class="p">):</span><span class="w"> </span><span class="n">Pedido? </span><span class="p">{</span>
<a id="__codelineno-51-64" name="__codelineno-51-64" href="#__codelineno-51-64"></a><span class="w">        </span><span class="c1">// 1. Buscar cliente</span>
<a id="__codelineno-51-65" name="__codelineno-51-65" href="#__codelineno-51-65"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">cliente</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repoClientes</span><span class="p">.</span><span class="na">buscarPorId</span><span class="p">(</span><span class="n">clienteId</span><span class="p">)</span>
<a id="__codelineno-51-66" name="__codelineno-51-66" href="#__codelineno-51-66"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">validador</span><span class="p">.</span><span class="na">validarCliente</span><span class="p">(</span><span class="n">cliente</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-67" name="__codelineno-51-67" href="#__codelineno-51-67"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Cliente inválido&quot;</span><span class="p">)</span>
<a id="__codelineno-51-68" name="__codelineno-51-68" href="#__codelineno-51-68"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-51-69" name="__codelineno-51-69" href="#__codelineno-51-69"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-51-70" name="__codelineno-51-70" href="#__codelineno-51-70"></a>
<a id="__codelineno-51-71" name="__codelineno-51-71" href="#__codelineno-51-71"></a><span class="w">        </span><span class="c1">// 2. Buscar productos</span>
<a id="__codelineno-51-72" name="__codelineno-51-72" href="#__codelineno-51-72"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">productos</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productosIds</span><span class="p">.</span><span class="na">mapNotNull</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">repoProductos</span><span class="p">.</span><span class="na">buscarPorId</span><span class="p">(</span><span class="nb">it</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-51-73" name="__codelineno-51-73" href="#__codelineno-51-73"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">productos</span><span class="p">.</span><span class="na">map</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">ItemPedido</span><span class="p">(</span><span class="nb">it</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="p">}</span>
<a id="__codelineno-51-74" name="__codelineno-51-74" href="#__codelineno-51-74"></a>
<a id="__codelineno-51-75" name="__codelineno-51-75" href="#__codelineno-51-75"></a><span class="w">        </span><span class="c1">// 3. Validar stock</span>
<a id="__codelineno-51-76" name="__codelineno-51-76" href="#__codelineno-51-76"></a><span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">validador</span><span class="p">.</span><span class="na">validarStock</span><span class="p">(</span><span class="n">items</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-51-77" name="__codelineno-51-77" href="#__codelineno-51-77"></a><span class="w">            </span><span class="n">println</span><span class="p">(</span><span class="s">&quot;Stock insuficiente&quot;</span><span class="p">)</span>
<a id="__codelineno-51-78" name="__codelineno-51-78" href="#__codelineno-51-78"></a><span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">null</span>
<a id="__codelineno-51-79" name="__codelineno-51-79" href="#__codelineno-51-79"></a><span class="w">        </span><span class="p">}</span>
<a id="__codelineno-51-80" name="__codelineno-51-80" href="#__codelineno-51-80"></a>
<a id="__codelineno-51-81" name="__codelineno-51-81" href="#__codelineno-51-81"></a><span class="w">        </span><span class="c1">// 4. Calcular total</span>
<a id="__codelineno-51-82" name="__codelineno-51-82" href="#__codelineno-51-82"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">total</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculadora</span><span class="p">.</span><span class="na">calcularTotal</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
<a id="__codelineno-51-83" name="__codelineno-51-83" href="#__codelineno-51-83"></a>
<a id="__codelineno-51-84" name="__codelineno-51-84" href="#__codelineno-51-84"></a><span class="w">        </span><span class="c1">// 5. Crear y guardar pedido</span>
<a id="__codelineno-51-85" name="__codelineno-51-85" href="#__codelineno-51-85"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">pedido</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Pedido</span><span class="p">(</span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="n">cliente</span><span class="o">!!</span><span class="p">,</span><span class="w"> </span><span class="n">items</span><span class="p">,</span><span class="w"> </span><span class="n">total</span><span class="p">)</span>
<a id="__codelineno-51-86" name="__codelineno-51-86" href="#__codelineno-51-86"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">pedidoId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">repoPedidos</span><span class="p">.</span><span class="na">guardar</span><span class="p">(</span><span class="n">pedido</span><span class="p">)</span>
<a id="__codelineno-51-87" name="__codelineno-51-87" href="#__codelineno-51-87"></a><span class="w">        </span><span class="kd">val</span><span class="w"> </span><span class="nv">pedidoGuardado</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pedido</span><span class="p">.</span><span class="na">copy</span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pedidoId</span><span class="p">)</span>
<a id="__codelineno-51-88" name="__codelineno-51-88" href="#__codelineno-51-88"></a>
<a id="__codelineno-51-89" name="__codelineno-51-89" href="#__codelineno-51-89"></a><span class="w">        </span><span class="c1">// 6. Notificaciones</span>
<a id="__codelineno-51-90" name="__codelineno-51-90" href="#__codelineno-51-90"></a><span class="w">        </span><span class="n">notificaciones</span><span class="p">.</span><span class="na">enviarConfirmacion</span><span class="p">(</span><span class="n">cliente</span><span class="p">,</span><span class="w"> </span><span class="n">pedidoGuardado</span><span class="p">)</span>
<a id="__codelineno-51-91" name="__codelineno-51-91" href="#__codelineno-51-91"></a><span class="w">        </span><span class="n">generadorFacturas</span><span class="p">.</span><span class="na">generar</span><span class="p">(</span><span class="n">pedidoGuardado</span><span class="p">)</span>
<a id="__codelineno-51-92" name="__codelineno-51-92" href="#__codelineno-51-92"></a>
<a id="__codelineno-51-93" name="__codelineno-51-93" href="#__codelineno-51-93"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">pedidoGuardado</span>
<a id="__codelineno-51-94" name="__codelineno-51-94" href="#__codelineno-51-94"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-51-95" name="__codelineno-51-95" href="#__codelineno-51-95"></a><span class="p">}</span>
</code></pre></div>
<p><strong>Beneficios</strong>:</p>
<ul>
<li><strong>Alta cohesión</strong>: Cada clase tiene una responsabilidad única</li>
<li><strong>Bajo acoplamiento</strong>: Dependencias mediante interfaces</li>
<li><strong>Testeable</strong>: Cada componente puede testearse independientemente</li>
<li><strong>Mantenible</strong>: Cambios localizados</li>
<li><strong>Extensible</strong>: Fácil agregar nuevas funcionalidades</li>
</ul>
<h3 id="8-conclusiones">8. Conclusiones<a class="headerlink" href="#8-conclusiones" title="Permanent link">&para;</a></h3>
<h4 id="81-resumen-de-conceptos-clave">8.1. Resumen de conceptos clave<a class="headerlink" href="#81-resumen-de-conceptos-clave" title="Permanent link">&para;</a></h4>
<p><strong>Cohesión</strong>: Qué tan relacionados están los elementos dentro de un módulo</p>
<ul>
<li><strong>Objetivo</strong>: Alta cohesión funcional</li>
<li><strong>Técnica</strong>: Una responsabilidad por clase (SRP)</li>
<li><strong>Beneficio</strong>: Código claro y fácil de mantener</li>
</ul>
<p><strong>Acoplamiento</strong>: Qué tan interdependientes son los módulos</p>
<ul>
<li><strong>Objetivo</strong>: Bajo acoplamiento de mensaje</li>
<li><strong>Técnica</strong>: Depender de abstracciones (DIP)</li>
<li><strong>Beneficio</strong>: Código flexible y testeatable</li>
</ul>
<p><strong>Balance ideal</strong>: Alta cohesión + Bajo acoplamiento = Código excelente</p>
<h4 id="82-checklist-de-diseno">8.2. Checklist de diseño<a class="headerlink" href="#82-checklist-de-diseno" title="Permanent link">&para;</a></h4>
<p>Usa este checklist al diseñar o revisar código:</p>
<p><strong>Cohesión</strong>:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿La clase tiene un nombre descriptivo sin "Y"?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Todos los métodos están relacionados con el propósito de la clase?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Hay una razón única para que la clase cambie?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Los métodos comparten los mismos atributos?</li>
</ul>
<p><strong>Acoplamiento</strong>:</p>
<ul class="task-list">
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Las dependencias son interfaces, no clases concretas?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Las dependencias se inyectan, no se crean?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Se pasan solo los datos necesarios?</li>
<li class="task-list-item"><label class="task-list-control"><input type="checkbox" disabled/><span class="task-list-indicator"></span></label> ¿Se puede testear la clase sin instanciar medio proyecto?</li>
</ul>
<h3 id="9-recursos-y-referencias">9. Recursos y Referencias<a class="headerlink" href="#9-recursos-y-referencias" title="Permanent link">&para;</a></h3>
<h4 id="91-libros-fundamentales">9.1. Libros fundamentales<a class="headerlink" href="#91-libros-fundamentales" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p><strong><a href="https://refactoring.com/"><abbr title="Proceso de reestructuración del código fuente de un programa sin cambiar su comportamiento externo. El objetivo del refactoring es mejorar la legibilidad, la mantenibilidad y la eficiencia del código, eliminando duplicidades, simplificando la lógica, etc.">Refactoring</abbr>: Improving the Design of Existing Code</a></strong> - Martin Fowler</p>
<ul>
<li>Catálogo completo de refactorizaciones para mejorar diseño</li>
</ul>
</li>
<li>
<p><strong><a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html">Clean Architecture</a></strong> - Robert C. Martin</p>
<ul>
<li>Principios de arquitectura limpia y desacoplada</li>
</ul>
</li>
<li>
<p><strong><a href="https://www.oreilly.com/library/view/clean-code-a/9780136083238/">Clean Code</a></strong> - Robert C. Martin</p>
<ul>
<li>Manual definitivo sobre código limpio y mantenible</li>
</ul>
</li>
<li>
<p><strong><a href="https://en.wikipedia.org/wiki/Design_Patterns">Design Patterns: Elements of Reusable Object-Oriented Software</a></strong> - Gang of Four</p>
<ul>
<li>Patrones clásicos para bajo acoplamiento</li>
</ul>
</li>
</ul>
<h4 id="92-articulos-esenciales">9.2.  Artículos esenciales<a class="headerlink" href="#92-articulos-esenciales" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://www.digitalocean.com/community/conceptual_articles/s-o-l-i-d-the-first-five-principles-of-object-oriented-design"><abbr title="Principios de diseño de software que se basan en la creación de código fuente limpio, mantenible y escalable. Los principios SOLID incluyen el Principio de Responsabilidad Única, el Principio de Abierto/Cerrado, el Principio de Sustitución de Liskov, el Principio de Segregación de Interfaces y el Principio de Inversión de Dependencias.">SOLID</abbr> Principles</a></li>
<li><a href="https://martinfowler.com/bliki/CouplingAndCohesion.html">Coupling and Cohesion</a> - Martin Fowler</li>
<li><a href="https://www.baeldung.com/cs/cohesion-vs-coupling">Cohesion and Coupling</a> - Baeldung</li>
</ul>
<h4 id="93-herramientas-recomendadas">9.3. Herramientas recomendadas<a class="headerlink" href="#93-herramientas-recomendadas" title="Permanent link">&para;</a></h4>
<p><strong>Análisis de código</strong>:</p>
<ul>
<li><a href="https://www.sonarqube.org/">SonarQube</a> - Análisis continuo de calidad</li>
<li><a href="https://www.jetbrains.com/idea/">IntelliJ IDEA</a> - Inspecciones integradas</li>
<li><a href="https://detekt.dev/">Detekt</a> - Linter para Kotlin</li>
<li><a href="https://pmd.github.io/">PMD</a> - Detector de code smells</li>
</ul>
<p><strong>Visualización</strong>:</p>
<ul>
<li><a href="https://structure101.com/">Structure101</a> - Visualización de dependencias</li>
<li><a href="https://github.com/clarkware/jdepend">JDepend</a> - Métricas de acoplamiento</li>
</ul>
<h4 id="94-comunidades-y-foros">9.4. Comunidades y foros<a class="headerlink" href="#94-comunidades-y-foros" title="Permanent link">&para;</a></h4>
<ul>
<li><a href="https://stackoverflow.com/questions/tagged/design-patterns">Stack Overflow - design-patterns</a></li>
<li><a href="https://www.reddit.com/r/programming/">Reddit - r/programming</a></li>
<li><a href="https://softwareengineering.stackexchange.com/">Software Engineering Stack Exchange</a></li>
</ul>







  
  



  



  <form class="md-feedback" name="feedback" hidden>
    <fieldset>
      <legend class="md-feedback__title">
        ¿Te ha sido útíl la página?
      </legend>
      <div class="md-feedback__inner">
        <div class="md-feedback__list">
          
            <button class="md-feedback__icon md-icon" type="submit" title="Me ha sido de utilidad." data-md-value="1">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m7 0c0 .8-.7 1.5-1.5 1.5S14 10.3 14 9.5 14.7 8 15.5 8s1.5.7 1.5 1.5m-5 7.73c-1.75 0-3.29-.73-4.19-1.81L9.23 14c.45.72 1.52 1.23 2.77 1.23s2.32-.51 2.77-1.23l1.42 1.42c-.9 1.08-2.44 1.81-4.19 1.81"/></svg>
            </button>
          
            <button class="md-feedback__icon md-icon" type="submit" title="La página podría mejorar." data-md-value="0">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 12a8 8 0 0 0-8-8 8 8 0 0 0-8 8 8 8 0 0 0 8 8 8 8 0 0 0 8-8m2 0a10 10 0 0 1-10 10A10 10 0 0 1 2 12 10 10 0 0 1 12 2a10 10 0 0 1 10 10m-6.5-4c.8 0 1.5.7 1.5 1.5s-.7 1.5-1.5 1.5-1.5-.7-1.5-1.5.7-1.5 1.5-1.5M10 9.5c0 .8-.7 1.5-1.5 1.5S7 10.3 7 9.5 7.7 8 8.5 8s1.5.7 1.5 1.5m2 4.5c1.75 0 3.29.72 4.19 1.81l-1.42 1.42C14.32 16.5 13.25 16 12 16s-2.32.5-2.77 1.23l-1.42-1.42C8.71 14.72 10.25 14 12 14"/></svg>
            </button>
          
        </div>
        <div class="md-feedback__note">
          
            <div data-md-value="1" hidden>
              
              
                
              
              
              
                
                
              
              Gracias por tu feedback!
            </div>
          
            <div data-md-value="0" hidden>
              
              
                
              
              
              
                
                
              
              Gracias por tu feedback! Ayudame a mejorarla usando este formulario. <a href="https://forms.gle/bBtzHfjb41unBb5o9" target=_blank>feedback form</a>.
            </div>
          
        </div>
      </div>
    </fieldset>
  </form>


                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Volver al principio
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2021-2022 Eduardo Fernández <a href="https://twitter.com/revilofe" target=_blank>@revilofe</a> - Licencia CC BY-NC-SA
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/revilofe" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:<efernandez@iesrafaelalberti.es>" target="_blank" rel="noopener" title="e-mail" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4l208 156a48 48 0 0 0 57.6 0l208-156c12.1-9.1 19.2-23.3 19.2-38.4 0-26.5-21.5-48-48-48zM0 196v188c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V196L313.6 344.8c-34.1 25.6-81.1 25.6-115.2 0z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/efoliver" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../../..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.sections", "navigation.tracking", "navigation.expand", "navigation.indexes", "navigation.top", "content.tooltips", "search.suggest", "search.highlight", "search.share", "content.code.annotate"], "search": "../../../../assets/javascripts/workers/search.2c215733.min.js", "tags": {"etiqueta": "etiqueta"}, "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>